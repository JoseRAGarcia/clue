const fw=function(){const t=document.createElement("link").relList;return t&&t.supports&&t.supports("modulepreload")?"modulepreload":"preload"}(),rf={},dw="/",Ht=function(t,n){return!n||n.length===0?t():Promise.all(n.map(r=>{if(r=`${dw}${r}`,r in rf)return;rf[r]=!0;const i=r.endsWith(".css"),s=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${s}`))return;const o=document.createElement("link");if(o.rel=i?"stylesheet":fw,i||(o.as="script",o.crossOrigin=""),o.href=r,document.head.appendChild(o),i)return new Promise((a,l)=>{o.addEventListener("load",a),o.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t())};function dc(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const Oe={},ti=[],Yt=()=>{},mw=()=>!1,gw=/^on[^a-z]/,da=e=>gw.test(e),mc=e=>e.startsWith("onUpdate:"),Je=Object.assign,gc=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},pw=Object.prototype.hasOwnProperty,Ie=(e,t)=>pw.call(e,t),ce=Array.isArray,ni=e=>ma(e)==="[object Map]",hg=e=>ma(e)==="[object Set]",_e=e=>typeof e=="function",Ue=e=>typeof e=="string",pc=e=>typeof e=="symbol",Be=e=>e!==null&&typeof e=="object",fg=e=>Be(e)&&_e(e.then)&&_e(e.catch),dg=Object.prototype.toString,ma=e=>dg.call(e),yw=e=>ma(e).slice(8,-1),mg=e=>ma(e)==="[object Object]",yc=e=>Ue(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Io=dc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ga=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},_w=/-(\w)/g,gn=ga(e=>e.replace(_w,(t,n)=>n?n.toUpperCase():"")),vw=/\B([A-Z])/g,bi=ga(e=>e.replace(vw,"-$1").toLowerCase()),pa=ga(e=>e.charAt(0).toUpperCase()+e.slice(1)),ml=ga(e=>e?`on${pa(e)}`:""),ls=(e,t)=>!Object.is(e,t),gl=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Do=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ww=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Ew=e=>{const t=Ue(e)?Number(e):NaN;return isNaN(t)?e:t};let sf;const au=()=>sf||(sf=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function _c(e){if(ce(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=Ue(r)?Aw(r):_c(r);if(i)for(const s in i)t[s]=i[s]}return t}else{if(Ue(e))return e;if(Be(e))return e}}const bw=/;(?![^(]*\))/g,Tw=/:([^]+)/,Iw=/\/\*[^]*?\*\//g;function Aw(e){const t={};return e.replace(Iw,"").split(bw).forEach(n=>{if(n){const r=n.split(Tw);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function vc(e){let t="";if(Ue(e))t=e;else if(ce(e))for(let n=0;n<e.length;n++){const r=vc(e[n]);r&&(t+=r+" ")}else if(Be(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Cw="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Sw=dc(Cw);function gg(e){return!!e||e===""}const qx=e=>Ue(e)?e:e==null?"":ce(e)||Be(e)&&(e.toString===dg||!_e(e.toString))?JSON.stringify(e,pg,2):String(e),pg=(e,t)=>t&&t.__v_isRef?pg(e,t.value):ni(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:hg(t)?{[`Set(${t.size})`]:[...t.values()]}:Be(t)&&!ce(t)&&!mg(t)?String(t):t;let xt;class yg{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=xt,!t&&xt&&(this.index=(xt.scopes||(xt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=xt;try{return xt=this,t()}finally{xt=n}}}on(){xt=this}off(){xt=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function _g(e){return new yg(e)}function Rw(e,t=xt){t&&t.active&&t.effects.push(e)}function vg(){return xt}function Pw(e){xt&&xt.cleanups.push(e)}const wc=e=>{const t=new Set(e);return t.w=0,t.n=0,t},wg=e=>(e.w&jn)>0,Eg=e=>(e.n&jn)>0,kw=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=jn},xw=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];wg(i)&&!Eg(i)?i.delete(e):t[n++]=i,i.w&=~jn,i.n&=~jn}t.length=n}},Mo=new WeakMap;let Ui=0,jn=1;const lu=30;let Wt;const Er=Symbol(""),uu=Symbol("");class Ec{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Rw(this,r)}run(){if(!this.active)return this.fn();let t=Wt,n=Ln;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Wt,Wt=this,Ln=!0,jn=1<<++Ui,Ui<=lu?kw(this):of(this),this.fn()}finally{Ui<=lu&&xw(this),jn=1<<--Ui,Wt=this.parent,Ln=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Wt===this?this.deferStop=!0:this.active&&(of(this),this.onStop&&this.onStop(),this.active=!1)}}function of(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Ln=!0;const bg=[];function Ti(){bg.push(Ln),Ln=!1}function Ii(){const e=bg.pop();Ln=e===void 0?!0:e}function Pt(e,t,n){if(Ln&&Wt){let r=Mo.get(e);r||Mo.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=wc()),Tg(i)}}function Tg(e,t){let n=!1;Ui<=lu?Eg(e)||(e.n|=jn,n=!wg(e)):n=!e.has(Wt),n&&(e.add(Wt),Wt.deps.push(e))}function En(e,t,n,r,i,s){const o=Mo.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&ce(e)){const l=Number(r);o.forEach((u,c)=>{(c==="length"||c>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":ce(e)?yc(n)&&a.push(o.get("length")):(a.push(o.get(Er)),ni(e)&&a.push(o.get(uu)));break;case"delete":ce(e)||(a.push(o.get(Er)),ni(e)&&a.push(o.get(uu)));break;case"set":ni(e)&&a.push(o.get(Er));break}if(a.length===1)a[0]&&cu(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);cu(wc(l))}}function cu(e,t){const n=ce(e)?e:[...e];for(const r of n)r.computed&&af(r);for(const r of n)r.computed||af(r)}function af(e,t){(e!==Wt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function Vw(e,t){var n;return(n=Mo.get(e))==null?void 0:n.get(t)}const Dw=dc("__proto__,__v_isRef,__isVue"),Ig=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(pc)),Mw=bc(),Ow=bc(!1,!0),Lw=bc(!0),lf=Nw();function Nw(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=pe(this);for(let s=0,o=this.length;s<o;s++)Pt(r,"get",s+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(pe)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Ti();const r=pe(this)[t].apply(this,n);return Ii(),r}}),e}function Fw(e){const t=pe(this);return Pt(t,"has",e),t.hasOwnProperty(e)}function bc(e=!1,t=!1){return function(r,i,s){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&s===(e?t?e0:Pg:t?Rg:Sg).get(r))return r;const o=ce(r);if(!e){if(o&&Ie(lf,i))return Reflect.get(lf,i,s);if(i==="hasOwnProperty")return Fw}const a=Reflect.get(r,i,s);return(pc(i)?Ig.has(i):Dw(i))||(e||Pt(r,"get",i),t)?a:ze(a)?o&&yc(i)?a:a.value:Be(a)?e?xg(a):Or(a):a}}const $w=Ag(),Bw=Ag(!0);function Ag(e=!1){return function(n,r,i,s){let o=n[r];if(ai(o)&&ze(o)&&!ze(i))return!1;if(!e&&(!Oo(i)&&!ai(i)&&(o=pe(o),i=pe(i)),!ce(n)&&ze(o)&&!ze(i)))return o.value=i,!0;const a=ce(n)&&yc(r)?Number(r)<n.length:Ie(n,r),l=Reflect.set(n,r,i,s);return n===pe(s)&&(a?ls(i,o)&&En(n,"set",r,i):En(n,"add",r,i)),l}}function qw(e,t){const n=Ie(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&En(e,"delete",t,void 0),r}function Uw(e,t){const n=Reflect.has(e,t);return(!pc(t)||!Ig.has(t))&&Pt(e,"has",t),n}function jw(e){return Pt(e,"iterate",ce(e)?"length":Er),Reflect.ownKeys(e)}const Cg={get:Mw,set:$w,deleteProperty:qw,has:Uw,ownKeys:jw},zw={get:Lw,set(e,t){return!0},deleteProperty(e,t){return!0}},Hw=Je({},Cg,{get:Ow,set:Bw}),Tc=e=>e,ya=e=>Reflect.getPrototypeOf(e);function eo(e,t,n=!1,r=!1){e=e.__v_raw;const i=pe(e),s=pe(t);n||(t!==s&&Pt(i,"get",t),Pt(i,"get",s));const{has:o}=ya(i),a=r?Tc:n?Cc:us;if(o.call(i,t))return a(e.get(t));if(o.call(i,s))return a(e.get(s));e!==i&&e.get(t)}function to(e,t=!1){const n=this.__v_raw,r=pe(n),i=pe(e);return t||(e!==i&&Pt(r,"has",e),Pt(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function no(e,t=!1){return e=e.__v_raw,!t&&Pt(pe(e),"iterate",Er),Reflect.get(e,"size",e)}function uf(e){e=pe(e);const t=pe(this);return ya(t).has.call(t,e)||(t.add(e),En(t,"add",e,e)),this}function cf(e,t){t=pe(t);const n=pe(this),{has:r,get:i}=ya(n);let s=r.call(n,e);s||(e=pe(e),s=r.call(n,e));const o=i.call(n,e);return n.set(e,t),s?ls(t,o)&&En(n,"set",e,t):En(n,"add",e,t),this}function hf(e){const t=pe(this),{has:n,get:r}=ya(t);let i=n.call(t,e);i||(e=pe(e),i=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return i&&En(t,"delete",e,void 0),s}function ff(){const e=pe(this),t=e.size!==0,n=e.clear();return t&&En(e,"clear",void 0,void 0),n}function ro(e,t){return function(r,i){const s=this,o=s.__v_raw,a=pe(o),l=t?Tc:e?Cc:us;return!e&&Pt(a,"iterate",Er),o.forEach((u,c)=>r.call(i,l(u),l(c),s))}}function io(e,t,n){return function(...r){const i=this.__v_raw,s=pe(i),o=ni(s),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=i[e](...r),c=n?Tc:t?Cc:us;return!t&&Pt(s,"iterate",l?uu:Er),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:a?[c(h[0]),c(h[1])]:c(h),done:f}},[Symbol.iterator](){return this}}}}function Sn(e){return function(...t){return e==="delete"?!1:this}}function Kw(){const e={get(s){return eo(this,s)},get size(){return no(this)},has:to,add:uf,set:cf,delete:hf,clear:ff,forEach:ro(!1,!1)},t={get(s){return eo(this,s,!1,!0)},get size(){return no(this)},has:to,add:uf,set:cf,delete:hf,clear:ff,forEach:ro(!1,!0)},n={get(s){return eo(this,s,!0)},get size(){return no(this,!0)},has(s){return to.call(this,s,!0)},add:Sn("add"),set:Sn("set"),delete:Sn("delete"),clear:Sn("clear"),forEach:ro(!0,!1)},r={get(s){return eo(this,s,!0,!0)},get size(){return no(this,!0)},has(s){return to.call(this,s,!0)},add:Sn("add"),set:Sn("set"),delete:Sn("delete"),clear:Sn("clear"),forEach:ro(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=io(s,!1,!1),n[s]=io(s,!0,!1),t[s]=io(s,!1,!0),r[s]=io(s,!0,!0)}),[e,n,t,r]}const[Ww,Gw,Qw,Yw]=Kw();function Ic(e,t){const n=t?e?Yw:Qw:e?Gw:Ww;return(r,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(Ie(n,i)&&i in r?n:r,i,s)}const Xw={get:Ic(!1,!1)},Jw={get:Ic(!1,!0)},Zw={get:Ic(!0,!1)},Sg=new WeakMap,Rg=new WeakMap,Pg=new WeakMap,e0=new WeakMap;function t0(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function n0(e){return e.__v_skip||!Object.isExtensible(e)?0:t0(yw(e))}function Or(e){return ai(e)?e:Ac(e,!1,Cg,Xw,Sg)}function kg(e){return Ac(e,!1,Hw,Jw,Rg)}function xg(e){return Ac(e,!0,zw,Zw,Pg)}function Ac(e,t,n,r,i){if(!Be(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=i.get(e);if(s)return s;const o=n0(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return i.set(e,a),a}function Nn(e){return ai(e)?Nn(e.__v_raw):!!(e&&e.__v_isReactive)}function ai(e){return!!(e&&e.__v_isReadonly)}function Oo(e){return!!(e&&e.__v_isShallow)}function Vg(e){return Nn(e)||ai(e)}function pe(e){const t=e&&e.__v_raw;return t?pe(t):e}function Lr(e){return Do(e,"__v_skip",!0),e}const us=e=>Be(e)?Or(e):e,Cc=e=>Be(e)?xg(e):e;function Dg(e){Ln&&Wt&&(e=pe(e),Tg(e.dep||(e.dep=wc())))}function Mg(e,t){e=pe(e);const n=e.dep;n&&cu(n)}function ze(e){return!!(e&&e.__v_isRef===!0)}function be(e){return Og(e,!1)}function r0(e){return Og(e,!0)}function Og(e,t){return ze(e)?e:new i0(e,t)}class i0{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:pe(t),this._value=n?t:us(t)}get value(){return Dg(this),this._value}set value(t){const n=this.__v_isShallow||Oo(t)||ai(t);t=n?t:pe(t),ls(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:us(t),Mg(this))}}function br(e){return ze(e)?e.value:e}const s0={get:(e,t,n)=>br(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return ze(i)&&!ze(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Lg(e){return Nn(e)?e:new Proxy(e,s0)}function o0(e){const t=ce(e)?new Array(e.length):{};for(const n in e)t[n]=l0(e,n);return t}class a0{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Vw(pe(this._object),this._key)}}function l0(e,t,n){const r=e[t];return ze(r)?r:new a0(e,t,n)}class u0{constructor(t,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Ec(t,()=>{this._dirty||(this._dirty=!0,Mg(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=pe(this);return Dg(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function c0(e,t,n=!1){let r,i;const s=_e(e);return s?(r=e,i=Yt):(r=e.get,i=e.set),new u0(r,i,s||!i,n)}function Fn(e,t,n,r){let i;try{i=r?e(...r):e()}catch(s){Ms(s,t,n)}return i}function qt(e,t,n,r){if(_e(e)){const s=Fn(e,t,n,r);return s&&fg(s)&&s.catch(o=>{Ms(o,t,n)}),s}const i=[];for(let s=0;s<e.length;s++)i.push(qt(e[s],t,n,r));return i}function Ms(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let s=t.parent;const o=t.proxy,a=n;for(;s;){const u=s.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,o,a)===!1)return}s=s.parent}const l=t.appContext.config.errorHandler;if(l){Fn(l,null,10,[e,o,a]);return}}h0(e,n,i,r)}function h0(e,t,n,r=!0){console.error(e)}let cs=!1,hu=!1;const gt=[];let ln=0;const ri=[];let _n=null,ur=0;const Ng=Promise.resolve();let Sc=null;function At(e){const t=Sc||Ng;return e?t.then(this?e.bind(this):e):t}function f0(e){let t=ln+1,n=gt.length;for(;t<n;){const r=t+n>>>1;hs(gt[r])<e?t=r+1:n=r}return t}function _a(e){(!gt.length||!gt.includes(e,cs&&e.allowRecurse?ln+1:ln))&&(e.id==null?gt.push(e):gt.splice(f0(e.id),0,e),Fg())}function Fg(){!cs&&!hu&&(hu=!0,Sc=Ng.then(Bg))}function d0(e){const t=gt.indexOf(e);t>ln&&gt.splice(t,1)}function m0(e){ce(e)?ri.push(...e):(!_n||!_n.includes(e,e.allowRecurse?ur+1:ur))&&ri.push(e),Fg()}function df(e,t=cs?ln+1:0){for(;t<gt.length;t++){const n=gt[t];n&&n.pre&&(gt.splice(t,1),t--,n())}}function $g(e){if(ri.length){const t=[...new Set(ri)];if(ri.length=0,_n){_n.push(...t);return}for(_n=t,_n.sort((n,r)=>hs(n)-hs(r)),ur=0;ur<_n.length;ur++)_n[ur]();_n=null,ur=0}}const hs=e=>e.id==null?1/0:e.id,g0=(e,t)=>{const n=hs(e)-hs(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Bg(e){hu=!1,cs=!0,gt.sort(g0);const t=Yt;try{for(ln=0;ln<gt.length;ln++){const n=gt[ln];n&&n.active!==!1&&Fn(n,null,14)}}finally{ln=0,gt.length=0,$g(),cs=!1,Sc=null,(gt.length||ri.length)&&Bg()}}function p0(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Oe;let i=n;const s=t.startsWith("update:"),o=s&&t.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=r[c]||Oe;f&&(i=n.map(d=>Ue(d)?d.trim():d)),h&&(i=n.map(ww))}let a,l=r[a=ml(t)]||r[a=ml(gn(t))];!l&&s&&(l=r[a=ml(bi(t))]),l&&qt(l,e,6,i);const u=r[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,qt(u,e,6,i)}}function qg(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const s=e.emits;let o={},a=!1;if(!_e(e)){const l=u=>{const c=qg(u,t,!0);c&&(a=!0,Je(o,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?(Be(e)&&r.set(e,null),null):(ce(s)?s.forEach(l=>o[l]=null):Je(o,s),Be(e)&&r.set(e,o),o)}function va(e,t){return!e||!da(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ie(e,t[0].toLowerCase()+t.slice(1))||Ie(e,bi(t))||Ie(e,t))}let St=null,wa=null;function Lo(e){const t=St;return St=e,wa=e&&e.type.__scopeId||null,t}function Ux(e){wa=e}function jx(){wa=null}function Qr(e,t=St,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&Sf(-1);const s=Lo(t);let o;try{o=e(...i)}finally{Lo(s),r._d&&Sf(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function pl(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:l,emit:u,render:c,renderCache:h,data:f,setupState:d,ctx:g,inheritAttrs:w}=e;let v,I;const y=Lo(e);try{if(n.shapeFlag&4){const V=i||r;v=an(c.call(V,V,h,s,d,f,g)),I=l}else{const V=t;v=an(V.length>1?V(s,{attrs:l,slots:a,emit:u}):V(s,null)),I=t.props?l:y0(l)}}catch(V){Ji.length=0,Ms(V,e,1),v=De(Jt)}let A=v;if(I&&w!==!1){const V=Object.keys(I),{shapeFlag:$}=A;V.length&&$&7&&(o&&V.some(mc)&&(I=_0(I,o)),A=zn(A,I))}return n.dirs&&(A=zn(A),A.dirs=A.dirs?A.dirs.concat(n.dirs):n.dirs),n.transition&&(A.transition=n.transition),v=A,Lo(y),v}const y0=e=>{let t;for(const n in e)(n==="class"||n==="style"||da(n))&&((t||(t={}))[n]=e[n]);return t},_0=(e,t)=>{const n={};for(const r in e)(!mc(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function v0(e,t,n){const{props:r,children:i,component:s}=e,{props:o,children:a,patchFlag:l}=t,u=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?mf(r,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let h=0;h<c.length;h++){const f=c[h];if(o[f]!==r[f]&&!va(u,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?mf(r,o,u):!0:!!o;return!1}function mf(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==e[s]&&!va(n,s))return!0}return!1}function w0({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const E0=e=>e.__isSuspense;function b0(e,t){t&&t.pendingBranch?ce(e)?t.effects.push(...e):t.effects.push(e):m0(e)}const so={};function Fe(e,t,n){return Ug(e,t,n)}function Ug(e,t,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:o}=Oe){var a;const l=vg()===((a=Ye)==null?void 0:a.scope)?Ye:null;let u,c=!1,h=!1;if(ze(e)?(u=()=>e.value,c=Oo(e)):Nn(e)?(u=()=>e,r=!0):ce(e)?(h=!0,c=e.some(V=>Nn(V)||Oo(V)),u=()=>e.map(V=>{if(ze(V))return V.value;if(Nn(V))return mr(V);if(_e(V))return Fn(V,l,2)})):_e(e)?t?u=()=>Fn(e,l,2):u=()=>{if(!(l&&l.isUnmounted))return f&&f(),qt(e,l,3,[d])}:u=Yt,t&&r){const V=u;u=()=>mr(V())}let f,d=V=>{f=y.onStop=()=>{Fn(V,l,4)}},g;if(ui)if(d=Yt,t?n&&qt(t,l,3,[u(),h?[]:void 0,d]):u(),i==="sync"){const V=pE();g=V.__watcherHandles||(V.__watcherHandles=[])}else return Yt;let w=h?new Array(e.length).fill(so):so;const v=()=>{if(!!y.active)if(t){const V=y.run();(r||c||(h?V.some(($,z)=>ls($,w[z])):ls(V,w)))&&(f&&f(),qt(t,l,3,[V,w===so?void 0:h&&w[0]===so?[]:w,d]),w=V)}else y.run()};v.allowRecurse=!!t;let I;i==="sync"?I=v:i==="post"?I=()=>Tt(v,l&&l.suspense):(v.pre=!0,l&&(v.id=l.uid),I=()=>_a(v));const y=new Ec(u,I);t?n?v():w=y.run():i==="post"?Tt(y.run.bind(y),l&&l.suspense):y.run();const A=()=>{y.stop(),l&&l.scope&&gc(l.scope.effects,y)};return g&&g.push(A),A}function T0(e,t,n){const r=this.proxy,i=Ue(e)?e.includes(".")?jg(r,e):()=>r[e]:e.bind(r,r);let s;_e(t)?s=t:(s=t.handler,n=t);const o=Ye;li(this);const a=Ug(i,s.bind(r),n);return o?li(o):Tr(),a}function jg(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function mr(e,t){if(!Be(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),ze(e))mr(e.value,t);else if(ce(e))for(let n=0;n<e.length;n++)mr(e[n],t);else if(hg(e)||ni(e))e.forEach(n=>{mr(n,t)});else if(mg(e))for(const n in e)mr(e[n],t);return e}function zg(e,t){const n=St;if(n===null)return e;const r=Aa(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[o,a,l,u=Oe]=t[s];o&&(_e(o)&&(o={mounted:o,updated:o}),o.deep&&mr(a),i.push({dir:o,instance:r,value:a,oldValue:void 0,arg:l,modifiers:u}))}return e}function rr(e,t,n,r){const i=e.dirs,s=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(Ti(),qt(l,n,8,[e.el,a,e,t]),Ii())}}function I0(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ci(()=>{e.isMounted=!0}),rn(()=>{e.isUnmounting=!0}),e}const Lt=[Function,Array],Hg={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Lt,onEnter:Lt,onAfterEnter:Lt,onEnterCancelled:Lt,onBeforeLeave:Lt,onLeave:Lt,onAfterLeave:Lt,onLeaveCancelled:Lt,onBeforeAppear:Lt,onAppear:Lt,onAfterAppear:Lt,onAppearCancelled:Lt},A0={name:"BaseTransition",props:Hg,setup(e,{slots:t}){const n=Ze(),r=I0();let i;return()=>{const s=t.default&&Wg(t.default(),!0);if(!s||!s.length)return;let o=s[0];if(s.length>1){for(const w of s)if(w.type!==Jt){o=w;break}}const a=pe(e),{mode:l}=a;if(r.isLeaving)return yl(o);const u=gf(o);if(!u)return yl(o);const c=fu(u,a,r,n);du(u,c);const h=n.subTree,f=h&&gf(h);let d=!1;const{getTransitionKey:g}=u.type;if(g){const w=g();i===void 0?i=w:w!==i&&(i=w,d=!0)}if(f&&f.type!==Jt&&(!cr(u,f)||d)){const w=fu(f,a,r,n);if(du(f,w),l==="out-in")return r.isLeaving=!0,w.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},yl(o);l==="in-out"&&u.type!==Jt&&(w.delayLeave=(v,I,y)=>{const A=Kg(r,f);A[String(f.key)]=f,v._leaveCb=()=>{I(),v._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=y})}return o}}},C0=A0;function Kg(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function fu(e,t,n,r){const{appear:i,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:h,onLeave:f,onAfterLeave:d,onLeaveCancelled:g,onBeforeAppear:w,onAppear:v,onAfterAppear:I,onAppearCancelled:y}=t,A=String(e.key),V=Kg(n,e),$=(C,b)=>{C&&qt(C,r,9,b)},z=(C,b)=>{const T=b[1];$(C,b),ce(C)?C.every(D=>D.length<=1)&&T():C.length<=1&&T()},F={mode:s,persisted:o,beforeEnter(C){let b=a;if(!n.isMounted)if(i)b=w||a;else return;C._leaveCb&&C._leaveCb(!0);const T=V[A];T&&cr(e,T)&&T.el._leaveCb&&T.el._leaveCb(),$(b,[C])},enter(C){let b=l,T=u,D=c;if(!n.isMounted)if(i)b=v||l,T=I||u,D=y||c;else return;let _=!1;const j=C._enterCb=S=>{_||(_=!0,S?$(D,[C]):$(T,[C]),F.delayedLeave&&F.delayedLeave(),C._enterCb=void 0)};b?z(b,[C,j]):j()},leave(C,b){const T=String(e.key);if(C._enterCb&&C._enterCb(!0),n.isUnmounting)return b();$(h,[C]);let D=!1;const _=C._leaveCb=j=>{D||(D=!0,b(),j?$(g,[C]):$(d,[C]),C._leaveCb=void 0,V[T]===e&&delete V[T])};V[T]=e,f?z(f,[C,_]):_()},clone(C){return fu(C,t,n,r)}};return F}function yl(e){if(Os(e))return e=zn(e),e.children=null,e}function gf(e){return Os(e)?e.children?e.children[0]:void 0:e}function du(e,t){e.shapeFlag&6&&e.component?du(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Wg(e,t=!1,n){let r=[],i=0;for(let s=0;s<e.length;s++){let o=e[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Kt?(o.patchFlag&128&&i++,r=r.concat(Wg(o.children,t,a))):(t||o.type!==Jt)&&r.push(a!=null?zn(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function Ai(e,t){return _e(e)?(()=>Je({name:e.name},t,{setup:e}))():e}const Ao=e=>!!e.type.__asyncLoader;function zx(e){_e(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:i=200,timeout:s,suspensible:o=!0,onError:a}=e;let l=null,u,c=0;const h=()=>(c++,l=null,f()),f=()=>{let d;return l||(d=l=t().catch(g=>{if(g=g instanceof Error?g:new Error(String(g)),a)return new Promise((w,v)=>{a(g,()=>w(h()),()=>v(g),c+1)});throw g}).then(g=>d!==l&&l?l:(g&&(g.__esModule||g[Symbol.toStringTag]==="Module")&&(g=g.default),u=g,g)))};return Ai({name:"AsyncComponentWrapper",__asyncLoader:f,get __asyncResolved(){return u},setup(){const d=Ye;if(u)return()=>_l(u,d);const g=y=>{l=null,Ms(y,d,13,!r)};if(o&&d.suspense||ui)return f().then(y=>()=>_l(y,d)).catch(y=>(g(y),()=>r?De(r,{error:y}):null));const w=be(!1),v=be(),I=be(!!i);return i&&setTimeout(()=>{I.value=!1},i),s!=null&&setTimeout(()=>{if(!w.value&&!v.value){const y=new Error(`Async component timed out after ${s}ms.`);g(y),v.value=y}},s),f().then(()=>{w.value=!0,d.parent&&Os(d.parent.vnode)&&_a(d.parent.update)}).catch(y=>{g(y),v.value=y}),()=>{if(w.value&&u)return _l(u,d);if(v.value&&r)return De(r,{error:v.value});if(n&&!I.value)return De(n)}}})}function _l(e,t){const{ref:n,props:r,children:i,ce:s}=t.vnode,o=De(e,r,i);return o.ref=n,o.ce=s,delete t.vnode.ce,o}const Os=e=>e.type.__isKeepAlive;function Gg(e,t){Qg(e,"a",t)}function Ea(e,t){Qg(e,"da",t)}function Qg(e,t,n=Ye){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(ba(t,r,n),n){let i=n.parent;for(;i&&i.parent;)Os(i.parent.vnode)&&S0(r,t,n,i),i=i.parent}}function S0(e,t,n,r){const i=ba(t,e,r,!0);Rc(()=>{gc(r[t],i)},n)}function ba(e,t,n=Ye,r=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;Ti(),li(n);const a=qt(t,n,e,o);return Tr(),Ii(),a});return r?i.unshift(s):i.push(s),s}}const Cn=e=>(t,n=Ye)=>(!ui||e==="sp")&&ba(e,(...r)=>t(...r),n),R0=Cn("bm"),Ci=Cn("m"),Yg=Cn("bu"),P0=Cn("u"),rn=Cn("bum"),Rc=Cn("um"),k0=Cn("sp"),x0=Cn("rtg"),V0=Cn("rtc");function D0(e,t=Ye){ba("ec",e,t)}const Pc="components";function pf(e,t){return Jg(Pc,e,!0,t)||e}const Xg=Symbol.for("v-ndc");function Hx(e){return Ue(e)?Jg(Pc,e,!1)||e:e||Xg}function Jg(e,t,n=!0,r=!1){const i=St||Ye;if(i){const s=i.type;if(e===Pc){const a=dE(s,!1);if(a&&(a===t||a===gn(t)||a===pa(gn(t))))return s}const o=yf(i[e]||s[e],t)||yf(i.appContext[e],t);return!o&&r?s:o}}function yf(e,t){return e&&(e[t]||e[gn(t)]||e[pa(gn(t))])}function Kx(e,t,n,r){let i;const s=n&&n[r];if(ce(e)||Ue(e)){i=new Array(e.length);for(let o=0,a=e.length;o<a;o++)i[o]=t(e[o],o,void 0,s&&s[o])}else if(typeof e=="number"){i=new Array(e);for(let o=0;o<e;o++)i[o]=t(o+1,o,void 0,s&&s[o])}else if(Be(e))if(e[Symbol.iterator])i=Array.from(e,(o,a)=>t(o,a,void 0,s&&s[a]));else{const o=Object.keys(e);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];i[a]=t(e[u],u,a,s&&s[a])}}else i=[];return n&&(n[r]=i),i}const mu=e=>e?hp(e)?Aa(e)||e.proxy:mu(e.parent):null,Yi=Je(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>mu(e.parent),$root:e=>mu(e.root),$emit:e=>e.emit,$options:e=>kc(e),$forceUpdate:e=>e.f||(e.f=()=>_a(e.update)),$nextTick:e=>e.n||(e.n=At.bind(e.proxy)),$watch:e=>T0.bind(e)}),vl=(e,t)=>e!==Oe&&!e.__isScriptSetup&&Ie(e,t),M0={get({_:e},t){const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const d=o[t];if(d!==void 0)switch(d){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return s[t]}else{if(vl(r,t))return o[t]=1,r[t];if(i!==Oe&&Ie(i,t))return o[t]=2,i[t];if((u=e.propsOptions[0])&&Ie(u,t))return o[t]=3,s[t];if(n!==Oe&&Ie(n,t))return o[t]=4,n[t];gu&&(o[t]=0)}}const c=Yi[t];let h,f;if(c)return t==="$attrs"&&Pt(e,"get",t),c(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==Oe&&Ie(n,t))return o[t]=4,n[t];if(f=l.config.globalProperties,Ie(f,t))return f[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:s}=e;return vl(i,t)?(i[t]=n,!0):r!==Oe&&Ie(r,t)?(r[t]=n,!0):Ie(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||e!==Oe&&Ie(e,o)||vl(t,o)||(a=s[0])&&Ie(a,o)||Ie(r,o)||Ie(Yi,o)||Ie(i.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ie(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function _f(e){return ce(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let gu=!0;function O0(e){const t=kc(e),n=e.proxy,r=e.ctx;gu=!1,t.beforeCreate&&vf(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:f,beforeUpdate:d,updated:g,activated:w,deactivated:v,beforeDestroy:I,beforeUnmount:y,destroyed:A,unmounted:V,render:$,renderTracked:z,renderTriggered:F,errorCaptured:C,serverPrefetch:b,expose:T,inheritAttrs:D,components:_,directives:j,filters:S}=t;if(u&&L0(u,r,null),o)for(const x in o){const X=o[x];_e(X)&&(r[x]=X.bind(n))}if(i){const x=i.call(n,n);Be(x)&&(e.data=Or(x))}if(gu=!0,s)for(const x in s){const X=s[x],xe=_e(X)?X.bind(n,n):_e(X.get)?X.get.bind(n,n):Yt,ie=!_e(X)&&_e(X.set)?X.set.bind(n):Yt,he=P({get:xe,set:ie});Object.defineProperty(r,x,{enumerable:!0,configurable:!0,get:()=>he.value,set:M=>he.value=M})}if(a)for(const x in a)Zg(a[x],r,n,x);if(l){const x=_e(l)?l.call(n):l;Reflect.ownKeys(x).forEach(X=>{Co(X,x[X])})}c&&vf(c,e,"c");function K(x,X){ce(X)?X.forEach(xe=>x(xe.bind(n))):X&&x(X.bind(n))}if(K(R0,h),K(Ci,f),K(Yg,d),K(P0,g),K(Gg,w),K(Ea,v),K(D0,C),K(V0,z),K(x0,F),K(rn,y),K(Rc,V),K(k0,b),ce(T))if(T.length){const x=e.exposed||(e.exposed={});T.forEach(X=>{Object.defineProperty(x,X,{get:()=>n[X],set:xe=>n[X]=xe})})}else e.exposed||(e.exposed={});$&&e.render===Yt&&(e.render=$),D!=null&&(e.inheritAttrs=D),_&&(e.components=_),j&&(e.directives=j)}function L0(e,t,n=Yt){ce(e)&&(e=pu(e));for(const r in e){const i=e[r];let s;Be(i)?"default"in i?s=Xt(i.from||r,i.default,!0):s=Xt(i.from||r):s=Xt(i),ze(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[r]=s}}function vf(e,t,n){qt(ce(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Zg(e,t,n,r){const i=r.includes(".")?jg(n,r):()=>n[r];if(Ue(e)){const s=t[e];_e(s)&&Fe(i,s)}else if(_e(e))Fe(i,e.bind(n));else if(Be(e))if(ce(e))e.forEach(s=>Zg(s,t,n,r));else{const s=_e(e.handler)?e.handler.bind(n):t[e.handler];_e(s)&&Fe(i,s,e)}}function kc(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let l;return a?l=a:!i.length&&!n&&!r?l=t:(l={},i.length&&i.forEach(u=>No(l,u,o,!0)),No(l,t,o)),Be(t)&&s.set(t,l),l}function No(e,t,n,r=!1){const{mixins:i,extends:s}=t;s&&No(e,s,n,!0),i&&i.forEach(o=>No(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=N0[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const N0={data:wf,props:Ef,emits:Ef,methods:ji,computed:ji,beforeCreate:wt,created:wt,beforeMount:wt,mounted:wt,beforeUpdate:wt,updated:wt,beforeDestroy:wt,beforeUnmount:wt,destroyed:wt,unmounted:wt,activated:wt,deactivated:wt,errorCaptured:wt,serverPrefetch:wt,components:ji,directives:ji,watch:$0,provide:wf,inject:F0};function wf(e,t){return t?e?function(){return Je(_e(e)?e.call(this,this):e,_e(t)?t.call(this,this):t)}:t:e}function F0(e,t){return ji(pu(e),pu(t))}function pu(e){if(ce(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function wt(e,t){return e?[...new Set([].concat(e,t))]:t}function ji(e,t){return e?Je(Object.create(null),e,t):t}function Ef(e,t){return e?ce(e)&&ce(t)?[...new Set([...e,...t])]:Je(Object.create(null),_f(e),_f(t!=null?t:{})):t}function $0(e,t){if(!e)return t;if(!t)return e;const n=Je(Object.create(null),e);for(const r in t)n[r]=wt(e[r],t[r]);return n}function ep(){return{app:null,config:{isNativeTag:mw,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let B0=0;function q0(e,t){return function(r,i=null){_e(r)||(r=Je({},r)),i!=null&&!Be(i)&&(i=null);const s=ep(),o=new Set;let a=!1;const l=s.app={_uid:B0++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:yE,get config(){return s.config},set config(u){},use(u,...c){return o.has(u)||(u&&_e(u.install)?(o.add(u),u.install(l,...c)):_e(u)&&(o.add(u),u(l,...c))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,c){return c?(s.components[u]=c,l):s.components[u]},directive(u,c){return c?(s.directives[u]=c,l):s.directives[u]},mount(u,c,h){if(!a){const f=De(r,i);return f.appContext=s,c&&t?t(f,u):e(f,u,h),a=!0,l._container=u,u.__vue_app__=l,Aa(f.component)||f.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(u,c){return s.provides[u]=c,l},runWithContext(u){fs=l;try{return u()}finally{fs=null}}};return l}}let fs=null;function Co(e,t){if(Ye){let n=Ye.provides;const r=Ye.parent&&Ye.parent.provides;r===n&&(n=Ye.provides=Object.create(r)),n[e]=t}}function Xt(e,t,n=!1){const r=Ye||St;if(r||fs){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:fs._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&_e(t)?t.call(r&&r.proxy):t}}function U0(){return!!(Ye||St||fs)}function j0(e,t,n,r=!1){const i={},s={};Do(s,Ia,1),e.propsDefaults=Object.create(null),tp(e,t,i,s);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=r?i:kg(i):e.type.props?e.props=i:e.props=s,e.attrs=s}function z0(e,t,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=e,a=pe(i),[l]=e.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let h=0;h<c.length;h++){let f=c[h];if(va(e.emitsOptions,f))continue;const d=t[f];if(l)if(Ie(s,f))d!==s[f]&&(s[f]=d,u=!0);else{const g=gn(f);i[g]=yu(l,a,g,d,e,!1)}else d!==s[f]&&(s[f]=d,u=!0)}}}else{tp(e,t,i,s)&&(u=!0);let c;for(const h in a)(!t||!Ie(t,h)&&((c=bi(h))===h||!Ie(t,c)))&&(l?n&&(n[h]!==void 0||n[c]!==void 0)&&(i[h]=yu(l,a,h,void 0,e,!0)):delete i[h]);if(s!==a)for(const h in s)(!t||!Ie(t,h)&&!0)&&(delete s[h],u=!0)}u&&En(e,"set","$attrs")}function tp(e,t,n,r){const[i,s]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Io(l))continue;const u=t[l];let c;i&&Ie(i,c=gn(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:va(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=pe(n),u=a||Oe;for(let c=0;c<s.length;c++){const h=s[c];n[h]=yu(i,l,h,u[h],e,!Ie(u,h))}}return o}function yu(e,t,n,r,i,s){const o=e[n];if(o!=null){const a=Ie(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&_e(l)){const{propsDefaults:u}=i;n in u?r=u[n]:(li(i),r=u[n]=l.call(null,t),Tr())}else r=l}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===bi(n))&&(r=!0))}return r}function np(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const s=e.props,o={},a=[];let l=!1;if(!_e(e)){const c=h=>{l=!0;const[f,d]=np(h,t,!0);Je(o,f),d&&a.push(...d)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!s&&!l)return Be(e)&&r.set(e,ti),ti;if(ce(s))for(let c=0;c<s.length;c++){const h=gn(s[c]);bf(h)&&(o[h]=Oe)}else if(s)for(const c in s){const h=gn(c);if(bf(h)){const f=s[c],d=o[h]=ce(f)||_e(f)?{type:f}:Je({},f);if(d){const g=Af(Boolean,d.type),w=Af(String,d.type);d[0]=g>-1,d[1]=w<0||g<w,(g>-1||Ie(d,"default"))&&a.push(h)}}}const u=[o,a];return Be(e)&&r.set(e,u),u}function bf(e){return e[0]!=="$"}function Tf(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function If(e,t){return Tf(e)===Tf(t)}function Af(e,t){return ce(t)?t.findIndex(n=>If(n,e)):_e(t)&&If(t,e)?0:-1}const rp=e=>e[0]==="_"||e==="$stable",xc=e=>ce(e)?e.map(an):[an(e)],H0=(e,t,n)=>{if(t._n)return t;const r=Qr((...i)=>xc(t(...i)),n);return r._c=!1,r},ip=(e,t,n)=>{const r=e._ctx;for(const i in e){if(rp(i))continue;const s=e[i];if(_e(s))t[i]=H0(i,s,r);else if(s!=null){const o=xc(s);t[i]=()=>o}}},sp=(e,t)=>{const n=xc(t);e.slots.default=()=>n},K0=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=pe(t),Do(t,"_",n)):ip(t,e.slots={})}else e.slots={},t&&sp(e,t);Do(e.slots,Ia,1)},W0=(e,t,n)=>{const{vnode:r,slots:i}=e;let s=!0,o=Oe;if(r.shapeFlag&32){const a=t._;a?n&&a===1?s=!1:(Je(i,t),!n&&a===1&&delete i._):(s=!t.$stable,ip(t,i)),o=t}else t&&(sp(e,t),o={default:1});if(s)for(const a in i)!rp(a)&&!(a in o)&&delete i[a]};function _u(e,t,n,r,i=!1){if(ce(e)){e.forEach((f,d)=>_u(f,t&&(ce(t)?t[d]:t),n,r,i));return}if(Ao(r)&&!i)return;const s=r.shapeFlag&4?Aa(r.component)||r.component.proxy:r.el,o=i?null:s,{i:a,r:l}=e,u=t&&t.r,c=a.refs===Oe?a.refs={}:a.refs,h=a.setupState;if(u!=null&&u!==l&&(Ue(u)?(c[u]=null,Ie(h,u)&&(h[u]=null)):ze(u)&&(u.value=null)),_e(l))Fn(l,a,12,[o,c]);else{const f=Ue(l),d=ze(l);if(f||d){const g=()=>{if(e.f){const w=f?Ie(h,l)?h[l]:c[l]:l.value;i?ce(w)&&gc(w,s):ce(w)?w.includes(s)||w.push(s):f?(c[l]=[s],Ie(h,l)&&(h[l]=c[l])):(l.value=[s],e.k&&(c[e.k]=l.value))}else f?(c[l]=o,Ie(h,l)&&(h[l]=o)):d&&(l.value=o,e.k&&(c[e.k]=o))};o?(g.id=-1,Tt(g,n)):g()}}}const Tt=b0;function G0(e){return Q0(e)}function Q0(e,t){const n=au();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:f,setScopeId:d=Yt,insertStaticContent:g}=e,w=(m,p,E,k=null,N=null,B=null,J=!1,H=null,G=!!p.dynamicChildren)=>{if(m===p)return;m&&!cr(m,p)&&(k=R(m),M(m,N,B,!0),m=null),p.patchFlag===-2&&(G=!1,p.dynamicChildren=null);const{type:U,ref:le,shapeFlag:re}=p;switch(U){case Ta:v(m,p,E,k);break;case Jt:I(m,p,E,k);break;case So:m==null&&y(p,E,k,J);break;case Kt:_(m,p,E,k,N,B,J,H,G);break;default:re&1?$(m,p,E,k,N,B,J,H,G):re&6?j(m,p,E,k,N,B,J,H,G):(re&64||re&128)&&U.process(m,p,E,k,N,B,J,H,G,W)}le!=null&&N&&_u(le,m&&m.ref,B,p||m,!p)},v=(m,p,E,k)=>{if(m==null)r(p.el=a(p.children),E,k);else{const N=p.el=m.el;p.children!==m.children&&u(N,p.children)}},I=(m,p,E,k)=>{m==null?r(p.el=l(p.children||""),E,k):p.el=m.el},y=(m,p,E,k)=>{[m.el,m.anchor]=g(m.children,p,E,k,m.el,m.anchor)},A=({el:m,anchor:p},E,k)=>{let N;for(;m&&m!==p;)N=f(m),r(m,E,k),m=N;r(p,E,k)},V=({el:m,anchor:p})=>{let E;for(;m&&m!==p;)E=f(m),i(m),m=E;i(p)},$=(m,p,E,k,N,B,J,H,G)=>{J=J||p.type==="svg",m==null?z(p,E,k,N,B,J,H,G):b(m,p,N,B,J,H,G)},z=(m,p,E,k,N,B,J,H)=>{let G,U;const{type:le,props:re,shapeFlag:ue,transition:me,dirs:we}=m;if(G=m.el=o(m.type,B,re&&re.is,re),ue&8?c(G,m.children):ue&16&&C(m.children,G,null,k,N,B&&le!=="foreignObject",J,H),we&&rr(m,null,k,"created"),F(G,m,m.scopeId,J,k),re){for(const ke in re)ke!=="value"&&!Io(ke)&&s(G,ke,null,re[ke],B,m.children,k,N,oe);"value"in re&&s(G,"value",null,re.value),(U=re.onVnodeBeforeMount)&&on(U,k,m)}we&&rr(m,null,k,"beforeMount");const Me=(!N||N&&!N.pendingBranch)&&me&&!me.persisted;Me&&me.beforeEnter(G),r(G,p,E),((U=re&&re.onVnodeMounted)||Me||we)&&Tt(()=>{U&&on(U,k,m),Me&&me.enter(G),we&&rr(m,null,k,"mounted")},N)},F=(m,p,E,k,N)=>{if(E&&d(m,E),k)for(let B=0;B<k.length;B++)d(m,k[B]);if(N){let B=N.subTree;if(p===B){const J=N.vnode;F(m,J,J.scopeId,J.slotScopeIds,N.parent)}}},C=(m,p,E,k,N,B,J,H,G=0)=>{for(let U=G;U<m.length;U++){const le=m[U]=H?Vn(m[U]):an(m[U]);w(null,le,p,E,k,N,B,J,H)}},b=(m,p,E,k,N,B,J)=>{const H=p.el=m.el;let{patchFlag:G,dynamicChildren:U,dirs:le}=p;G|=m.patchFlag&16;const re=m.props||Oe,ue=p.props||Oe;let me;E&&ir(E,!1),(me=ue.onVnodeBeforeUpdate)&&on(me,E,p,m),le&&rr(p,m,E,"beforeUpdate"),E&&ir(E,!0);const we=N&&p.type!=="foreignObject";if(U?T(m.dynamicChildren,U,H,E,k,we,B):J||X(m,p,H,null,E,k,we,B,!1),G>0){if(G&16)D(H,p,re,ue,E,k,N);else if(G&2&&re.class!==ue.class&&s(H,"class",null,ue.class,N),G&4&&s(H,"style",re.style,ue.style,N),G&8){const Me=p.dynamicProps;for(let ke=0;ke<Me.length;ke++){const Ke=Me[ke],jt=re[Ke],qr=ue[Ke];(qr!==jt||Ke==="value")&&s(H,Ke,jt,qr,N,m.children,E,k,oe)}}G&1&&m.children!==p.children&&c(H,p.children)}else!J&&U==null&&D(H,p,re,ue,E,k,N);((me=ue.onVnodeUpdated)||le)&&Tt(()=>{me&&on(me,E,p,m),le&&rr(p,m,E,"updated")},k)},T=(m,p,E,k,N,B,J)=>{for(let H=0;H<p.length;H++){const G=m[H],U=p[H],le=G.el&&(G.type===Kt||!cr(G,U)||G.shapeFlag&70)?h(G.el):E;w(G,U,le,null,k,N,B,J,!0)}},D=(m,p,E,k,N,B,J)=>{if(E!==k){if(E!==Oe)for(const H in E)!Io(H)&&!(H in k)&&s(m,H,E[H],null,J,p.children,N,B,oe);for(const H in k){if(Io(H))continue;const G=k[H],U=E[H];G!==U&&H!=="value"&&s(m,H,U,G,J,p.children,N,B,oe)}"value"in k&&s(m,"value",E.value,k.value)}},_=(m,p,E,k,N,B,J,H,G)=>{const U=p.el=m?m.el:a(""),le=p.anchor=m?m.anchor:a("");let{patchFlag:re,dynamicChildren:ue,slotScopeIds:me}=p;me&&(H=H?H.concat(me):me),m==null?(r(U,E,k),r(le,E,k),C(p.children,E,le,N,B,J,H,G)):re>0&&re&64&&ue&&m.dynamicChildren?(T(m.dynamicChildren,ue,E,N,B,J,H),(p.key!=null||N&&p===N.subTree)&&Vc(m,p,!0)):X(m,p,E,le,N,B,J,H,G)},j=(m,p,E,k,N,B,J,H,G)=>{p.slotScopeIds=H,m==null?p.shapeFlag&512?N.ctx.activate(p,E,k,J,G):S(p,E,k,N,B,J,G):Y(m,p,G)},S=(m,p,E,k,N,B,J)=>{const H=m.component=lE(m,k,N);if(Os(m)&&(H.ctx.renderer=W),uE(H),H.asyncDep){if(N&&N.registerDep(H,K),!m.el){const G=H.subTree=De(Jt);I(null,G,p,E)}return}K(H,m,p,E,N,B,J)},Y=(m,p,E)=>{const k=p.component=m.component;if(v0(m,p,E))if(k.asyncDep&&!k.asyncResolved){x(k,p,E);return}else k.next=p,d0(k.update),k.update();else p.el=m.el,k.vnode=p},K=(m,p,E,k,N,B,J)=>{const H=()=>{if(m.isMounted){let{next:le,bu:re,u:ue,parent:me,vnode:we}=m,Me=le,ke;ir(m,!1),le?(le.el=we.el,x(m,le,J)):le=we,re&&gl(re),(ke=le.props&&le.props.onVnodeBeforeUpdate)&&on(ke,me,le,we),ir(m,!0);const Ke=pl(m),jt=m.subTree;m.subTree=Ke,w(jt,Ke,h(jt.el),R(jt),m,N,B),le.el=Ke.el,Me===null&&w0(m,Ke.el),ue&&Tt(ue,N),(ke=le.props&&le.props.onVnodeUpdated)&&Tt(()=>on(ke,me,le,we),N)}else{let le;const{el:re,props:ue}=p,{bm:me,m:we,parent:Me}=m,ke=Ao(p);if(ir(m,!1),me&&gl(me),!ke&&(le=ue&&ue.onVnodeBeforeMount)&&on(le,Me,p),ir(m,!0),re&&Se){const Ke=()=>{m.subTree=pl(m),Se(re,m.subTree,m,N,null)};ke?p.type.__asyncLoader().then(()=>!m.isUnmounted&&Ke()):Ke()}else{const Ke=m.subTree=pl(m);w(null,Ke,E,k,m,N,B),p.el=Ke.el}if(we&&Tt(we,N),!ke&&(le=ue&&ue.onVnodeMounted)){const Ke=p;Tt(()=>on(le,Me,Ke),N)}(p.shapeFlag&256||Me&&Ao(Me.vnode)&&Me.vnode.shapeFlag&256)&&m.a&&Tt(m.a,N),m.isMounted=!0,p=E=k=null}},G=m.effect=new Ec(H,()=>_a(U),m.scope),U=m.update=()=>G.run();U.id=m.uid,ir(m,!0),U()},x=(m,p,E)=>{p.component=m;const k=m.vnode.props;m.vnode=p,m.next=null,z0(m,p.props,k,E),W0(m,p.children,E),Ti(),df(),Ii()},X=(m,p,E,k,N,B,J,H,G=!1)=>{const U=m&&m.children,le=m?m.shapeFlag:0,re=p.children,{patchFlag:ue,shapeFlag:me}=p;if(ue>0){if(ue&128){ie(U,re,E,k,N,B,J,H,G);return}else if(ue&256){xe(U,re,E,k,N,B,J,H,G);return}}me&8?(le&16&&oe(U,N,B),re!==U&&c(E,re)):le&16?me&16?ie(U,re,E,k,N,B,J,H,G):oe(U,N,B,!0):(le&8&&c(E,""),me&16&&C(re,E,k,N,B,J,H,G))},xe=(m,p,E,k,N,B,J,H,G)=>{m=m||ti,p=p||ti;const U=m.length,le=p.length,re=Math.min(U,le);let ue;for(ue=0;ue<re;ue++){const me=p[ue]=G?Vn(p[ue]):an(p[ue]);w(m[ue],me,E,null,N,B,J,H,G)}U>le?oe(m,N,B,!0,!1,re):C(p,E,k,N,B,J,H,G,re)},ie=(m,p,E,k,N,B,J,H,G)=>{let U=0;const le=p.length;let re=m.length-1,ue=le-1;for(;U<=re&&U<=ue;){const me=m[U],we=p[U]=G?Vn(p[U]):an(p[U]);if(cr(me,we))w(me,we,E,null,N,B,J,H,G);else break;U++}for(;U<=re&&U<=ue;){const me=m[re],we=p[ue]=G?Vn(p[ue]):an(p[ue]);if(cr(me,we))w(me,we,E,null,N,B,J,H,G);else break;re--,ue--}if(U>re){if(U<=ue){const me=ue+1,we=me<le?p[me].el:k;for(;U<=ue;)w(null,p[U]=G?Vn(p[U]):an(p[U]),E,we,N,B,J,H,G),U++}}else if(U>ue)for(;U<=re;)M(m[U],N,B,!0),U++;else{const me=U,we=U,Me=new Map;for(U=we;U<=ue;U++){const kt=p[U]=G?Vn(p[U]):an(p[U]);kt.key!=null&&Me.set(kt.key,U)}let ke,Ke=0;const jt=ue-we+1;let qr=!1,ef=0;const Di=new Array(jt);for(U=0;U<jt;U++)Di[U]=0;for(U=me;U<=re;U++){const kt=m[U];if(Ke>=jt){M(kt,N,B,!0);continue}let sn;if(kt.key!=null)sn=Me.get(kt.key);else for(ke=we;ke<=ue;ke++)if(Di[ke-we]===0&&cr(kt,p[ke])){sn=ke;break}sn===void 0?M(kt,N,B,!0):(Di[sn-we]=U+1,sn>=ef?ef=sn:qr=!0,w(kt,p[sn],E,null,N,B,J,H,G),Ke++)}const tf=qr?Y0(Di):ti;for(ke=tf.length-1,U=jt-1;U>=0;U--){const kt=we+U,sn=p[kt],nf=kt+1<le?p[kt+1].el:k;Di[U]===0?w(null,sn,E,nf,N,B,J,H,G):qr&&(ke<0||U!==tf[ke]?he(sn,E,nf,2):ke--)}}},he=(m,p,E,k,N=null)=>{const{el:B,type:J,transition:H,children:G,shapeFlag:U}=m;if(U&6){he(m.component.subTree,p,E,k);return}if(U&128){m.suspense.move(p,E,k);return}if(U&64){J.move(m,p,E,W);return}if(J===Kt){r(B,p,E);for(let re=0;re<G.length;re++)he(G[re],p,E,k);r(m.anchor,p,E);return}if(J===So){A(m,p,E);return}if(k!==2&&U&1&&H)if(k===0)H.beforeEnter(B),r(B,p,E),Tt(()=>H.enter(B),N);else{const{leave:re,delayLeave:ue,afterLeave:me}=H,we=()=>r(B,p,E),Me=()=>{re(B,()=>{we(),me&&me()})};ue?ue(B,we,Me):Me()}else r(B,p,E)},M=(m,p,E,k=!1,N=!1)=>{const{type:B,props:J,ref:H,children:G,dynamicChildren:U,shapeFlag:le,patchFlag:re,dirs:ue}=m;if(H!=null&&_u(H,null,E,m,!0),le&256){p.ctx.deactivate(m);return}const me=le&1&&ue,we=!Ao(m);let Me;if(we&&(Me=J&&J.onVnodeBeforeUnmount)&&on(Me,p,m),le&6)ne(m.component,E,k);else{if(le&128){m.suspense.unmount(E,k);return}me&&rr(m,null,p,"beforeUnmount"),le&64?m.type.remove(m,p,E,N,W,k):U&&(B!==Kt||re>0&&re&64)?oe(U,p,E,!1,!0):(B===Kt&&re&384||!N&&le&16)&&oe(G,p,E),k&&ye(m)}(we&&(Me=J&&J.onVnodeUnmounted)||me)&&Tt(()=>{Me&&on(Me,p,m),me&&rr(m,null,p,"unmounted")},E)},ye=m=>{const{type:p,el:E,anchor:k,transition:N}=m;if(p===Kt){Ve(E,k);return}if(p===So){V(m);return}const B=()=>{i(E),N&&!N.persisted&&N.afterLeave&&N.afterLeave()};if(m.shapeFlag&1&&N&&!N.persisted){const{leave:J,delayLeave:H}=N,G=()=>J(E,B);H?H(m.el,B,G):G()}else B()},Ve=(m,p)=>{let E;for(;m!==p;)E=f(m),i(m),m=E;i(p)},ne=(m,p,E)=>{const{bum:k,scope:N,update:B,subTree:J,um:H}=m;k&&gl(k),N.stop(),B&&(B.active=!1,M(J,m,p,E)),H&&Tt(H,p),Tt(()=>{m.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&m.asyncDep&&!m.asyncResolved&&m.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},oe=(m,p,E,k=!1,N=!1,B=0)=>{for(let J=B;J<m.length;J++)M(m[J],p,E,k,N)},R=m=>m.shapeFlag&6?R(m.component.subTree):m.shapeFlag&128?m.suspense.next():f(m.anchor||m.el),Z=(m,p,E)=>{m==null?p._vnode&&M(p._vnode,null,null,!0):w(p._vnode||null,m,p,null,null,null,E),df(),$g(),p._vnode=m},W={p:w,um:M,m:he,r:ye,mt:S,mc:C,pc:X,pbc:T,n:R,o:e};let se,Se;return t&&([se,Se]=t(W)),{render:Z,hydrate:se,createApp:q0(Z,se)}}function ir({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Vc(e,t,n=!1){const r=e.children,i=t.children;if(ce(r)&&ce(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Vn(i[s]),a.el=o.el),n||Vc(o,a)),a.type===Ta&&(a.el=o.el)}}function Y0(e){const t=e.slice(),n=[0];let r,i,s,o,a;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(i=n[n.length-1],e[i]<u){t[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,e[n[a]]<u?s=a+1:o=a;u<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=t[o];return n}const X0=e=>e.__isTeleport,Xi=e=>e&&(e.disabled||e.disabled===""),Cf=e=>typeof SVGElement!="undefined"&&e instanceof SVGElement,vu=(e,t)=>{const n=e&&e.to;return Ue(n)?t?t(n):null:n},J0={__isTeleport:!0,process(e,t,n,r,i,s,o,a,l,u){const{mc:c,pc:h,pbc:f,o:{insert:d,querySelector:g,createText:w,createComment:v}}=u,I=Xi(t.props);let{shapeFlag:y,children:A,dynamicChildren:V}=t;if(e==null){const $=t.el=w(""),z=t.anchor=w("");d($,n,r),d(z,n,r);const F=t.target=vu(t.props,g),C=t.targetAnchor=w("");F&&(d(C,F),o=o||Cf(F));const b=(T,D)=>{y&16&&c(A,T,D,i,s,o,a,l)};I?b(n,z):F&&b(F,C)}else{t.el=e.el;const $=t.anchor=e.anchor,z=t.target=e.target,F=t.targetAnchor=e.targetAnchor,C=Xi(e.props),b=C?n:z,T=C?$:F;if(o=o||Cf(z),V?(f(e.dynamicChildren,V,b,i,s,o,a),Vc(e,t,!0)):l||h(e,t,b,T,i,s,o,a,!1),I)C||oo(t,n,$,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const D=t.target=vu(t.props,g);D&&oo(t,D,null,u,0)}else C&&oo(t,z,F,u,1)}op(t)},remove(e,t,n,r,{um:i,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:h,props:f}=e;if(h&&s(c),(o||!Xi(f))&&(s(u),a&16))for(let d=0;d<l.length;d++){const g=l[d];i(g,t,n,!0,!!g.dynamicChildren)}},move:oo,hydrate:Z0};function oo(e,t,n,{o:{insert:r},m:i},s=2){s===0&&r(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=e,h=s===2;if(h&&r(o,t,n),(!h||Xi(c))&&l&16)for(let f=0;f<u.length;f++)i(u[f],t,n,2);h&&r(a,t,n)}function Z0(e,t,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},u){const c=t.target=vu(t.props,l);if(c){const h=c._lpa||c.firstChild;if(t.shapeFlag&16)if(Xi(t.props))t.anchor=u(o(e),t,a(e),n,r,i,s),t.targetAnchor=h;else{t.anchor=o(e);let f=h;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){t.targetAnchor=f,c._lpa=t.targetAnchor&&o(t.targetAnchor);break}u(h,t,c,n,r,i,s)}op(t)}return t.anchor&&o(t.anchor)}const eE=J0;function op(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Kt=Symbol.for("v-fgt"),Ta=Symbol.for("v-txt"),Jt=Symbol.for("v-cmt"),So=Symbol.for("v-stc"),Ji=[];let Gt=null;function Dc(e=!1){Ji.push(Gt=e?null:[])}function tE(){Ji.pop(),Gt=Ji[Ji.length-1]||null}let ds=1;function Sf(e){ds+=e}function ap(e){return e.dynamicChildren=ds>0?Gt||ti:null,tE(),ds>0&&Gt&&Gt.push(e),e}function nE(e,t,n,r,i,s){return ap(cp(e,t,n,r,i,s,!0))}function lp(e,t,n,r,i){return ap(De(e,t,n,r,i,!0))}function wu(e){return e?e.__v_isVNode===!0:!1}function cr(e,t){return e.type===t.type&&e.key===t.key}const Ia="__vInternal",up=({key:e})=>e!=null?e:null,Ro=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ue(e)||ze(e)||_e(e)?{i:St,r:e,k:t,f:!!n}:e:null);function cp(e,t=null,n=null,r=0,i=null,s=e===Kt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&up(t),ref:t&&Ro(t),scopeId:wa,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:St};return a?(Mc(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=Ue(n)?8:16),ds>0&&!o&&Gt&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Gt.push(l),l}const De=rE;function rE(e,t=null,n=null,r=0,i=null,s=!1){if((!e||e===Xg)&&(e=Jt),wu(e)){const a=zn(e,t,!0);return n&&Mc(a,n),ds>0&&!s&&Gt&&(a.shapeFlag&6?Gt[Gt.indexOf(e)]=a:Gt.push(a)),a.patchFlag|=-2,a}if(mE(e)&&(e=e.__vccOpts),t){t=iE(t);let{class:a,style:l}=t;a&&!Ue(a)&&(t.class=vc(a)),Be(l)&&(Vg(l)&&!ce(l)&&(l=Je({},l)),t.style=_c(l))}const o=Ue(e)?1:E0(e)?128:X0(e)?64:Be(e)?4:_e(e)?2:0;return cp(e,t,n,r,i,o,s,!0)}function iE(e){return e?Vg(e)||Ia in e?Je({},e):e:null}function zn(e,t,n=!1){const{props:r,ref:i,patchFlag:s,children:o}=e,a=t?sE(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&up(a),ref:t&&t.ref?n&&i?ce(i)?i.concat(Ro(t)):[i,Ro(t)]:Ro(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Kt?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&zn(e.ssContent),ssFallback:e.ssFallback&&zn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Eu(e=" ",t=0){return De(Ta,null,e,t)}function Wx(e,t){const n=De(So,null,e);return n.staticCount=t,n}function Gx(e="",t=!1){return t?(Dc(),lp(Jt,null,e)):De(Jt,null,e)}function an(e){return e==null||typeof e=="boolean"?De(Jt):ce(e)?De(Kt,null,e.slice()):typeof e=="object"?Vn(e):De(Ta,null,String(e))}function Vn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:zn(e)}function Mc(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(ce(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),Mc(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(Ia in t)?t._ctx=St:i===3&&St&&(St.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else _e(t)?(t={default:t,_ctx:St},n=32):(t=String(t),r&64?(n=16,t=[Eu(t)]):n=8);e.children=t,e.shapeFlag|=n}function sE(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=vc([t.class,r.class]));else if(i==="style")t.style=_c([t.style,r.style]);else if(da(i)){const s=t[i],o=r[i];o&&s!==o&&!(ce(s)&&s.includes(o))&&(t[i]=s?[].concat(s,o):o)}else i!==""&&(t[i]=r[i])}return t}function on(e,t,n,r=null){qt(e,t,7,[n,r])}const oE=ep();let aE=0;function lE(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||oE,s={uid:aE++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new yg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:np(r,i),emitsOptions:qg(r,i),emit:null,emitted:null,propsDefaults:Oe,inheritAttrs:r.inheritAttrs,ctx:Oe,data:Oe,props:Oe,attrs:Oe,slots:Oe,refs:Oe,setupState:Oe,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=p0.bind(null,s),e.ce&&e.ce(s),s}let Ye=null;const Ze=()=>Ye||St;let Oc,Ur,Rf="__VUE_INSTANCE_SETTERS__";(Ur=au()[Rf])||(Ur=au()[Rf]=[]),Ur.push(e=>Ye=e),Oc=e=>{Ur.length>1?Ur.forEach(t=>t(e)):Ur[0](e)};const li=e=>{Oc(e),e.scope.on()},Tr=()=>{Ye&&Ye.scope.off(),Oc(null)};function hp(e){return e.vnode.shapeFlag&4}let ui=!1;function uE(e,t=!1){ui=t;const{props:n,children:r}=e.vnode,i=hp(e);j0(e,n,i,t),K0(e,r);const s=i?cE(e,t):void 0;return ui=!1,s}function cE(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Lr(new Proxy(e.ctx,M0));const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?fE(e):null;li(e),Ti();const s=Fn(r,e,0,[e.props,i]);if(Ii(),Tr(),fg(s)){if(s.then(Tr,Tr),t)return s.then(o=>{Pf(e,o,t)}).catch(o=>{Ms(o,e,0)});e.asyncDep=s}else Pf(e,s,t)}else fp(e,t)}function Pf(e,t,n){_e(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Be(t)&&(e.setupState=Lg(t)),fp(e,n)}let kf;function fp(e,t,n){const r=e.type;if(!e.render){if(!t&&kf&&!r.render){const i=r.template||kc(e).template;if(i){const{isCustomElement:s,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=r,u=Je(Je({isCustomElement:s,delimiters:a},o),l);r.render=kf(i,u)}}e.render=r.render||Yt}li(e),Ti(),O0(e),Ii(),Tr()}function hE(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Pt(e,"get","$attrs"),t[n]}}))}function fE(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return hE(e)},slots:e.slots,emit:e.emit,expose:t}}function Aa(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Lg(Lr(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Yi)return Yi[n](e)},has(t,n){return n in t||n in Yi}}))}function dE(e,t=!0){return _e(e)?e.displayName||e.name:e.name||t&&e.__name}function mE(e){return _e(e)&&"__vccOpts"in e}const P=(e,t)=>c0(e,t,ui);function O(e,t,n){const r=arguments.length;return r===2?Be(t)&&!ce(t)?wu(t)?De(e,null,[t]):De(e,t):De(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&wu(n)&&(n=[n]),De(e,t,n))}const gE=Symbol.for("v-scx"),pE=()=>Xt(gE),yE="3.3.4",_E="http://www.w3.org/2000/svg",hr=typeof document!="undefined"?document:null,xf=hr&&hr.createElement("template"),vE={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?hr.createElementNS(_E,e):hr.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>hr.createTextNode(e),createComment:e=>hr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>hr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,s){const o=n?n.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{xf.innerHTML=r?`<svg>${e}</svg>`:e;const a=xf.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function wE(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function EE(e,t,n){const r=e.style,i=Ue(n);if(n&&!i){if(t&&!Ue(t))for(const s in t)n[s]==null&&bu(r,s,"");for(const s in n)bu(r,s,n[s])}else{const s=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=s)}}const Vf=/\s*!important$/;function bu(e,t,n){if(ce(n))n.forEach(r=>bu(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=bE(e,t);Vf.test(n)?e.setProperty(bi(r),n.replace(Vf,""),"important"):e[r]=n}}const Df=["Webkit","Moz","ms"],wl={};function bE(e,t){const n=wl[t];if(n)return n;let r=gn(t);if(r!=="filter"&&r in e)return wl[t]=r;r=pa(r);for(let i=0;i<Df.length;i++){const s=Df[i]+r;if(s in e)return wl[t]=s}return t}const Mf="http://www.w3.org/1999/xlink";function TE(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Mf,t.slice(6,t.length)):e.setAttributeNS(Mf,t,n);else{const s=Sw(t);n==null||s&&!gg(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function IE(e,t,n,r,i,s,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,i,s),e[t]=n==null?"":n;return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const u=a==="OPTION"?e.getAttribute("value"):e.value,c=n==null?"":n;u!==c&&(e.value=c),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=gg(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function AE(e,t,n,r){e.addEventListener(t,n,r)}function CE(e,t,n,r){e.removeEventListener(t,n,r)}function SE(e,t,n,r,i=null){const s=e._vei||(e._vei={}),o=s[t];if(r&&o)o.value=r;else{const[a,l]=RE(t);if(r){const u=s[t]=xE(r,i);AE(e,a,u,l)}else o&&(CE(e,a,o,l),s[t]=void 0)}}const Of=/(?:Once|Passive|Capture)$/;function RE(e){let t;if(Of.test(e)){t={};let r;for(;r=e.match(Of);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):bi(e.slice(2)),t]}let El=0;const PE=Promise.resolve(),kE=()=>El||(PE.then(()=>El=0),El=Date.now());function xE(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;qt(VE(r,n.value),t,5,[r])};return n.value=e,n.attached=kE(),n}function VE(e,t){if(ce(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const Lf=/^on[a-z]/,DE=(e,t,n,r,i=!1,s,o,a,l)=>{t==="class"?wE(e,r,i):t==="style"?EE(e,n,r):da(t)?mc(t)||SE(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ME(e,t,r,i))?IE(e,t,r,s,o,a,l):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),TE(e,t,r,i))};function ME(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&Lf.test(t)&&_e(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Lf.test(t)&&Ue(n)?!1:t in e}const Rn="transition",Mi="animation",Sr=(e,{slots:t})=>O(C0,OE(e),t);Sr.displayName="Transition";const dp={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Sr.props=Je({},Hg,dp);const sr=(e,t=[])=>{ce(e)?e.forEach(n=>n(...t)):e&&e(...t)},Nf=e=>e?ce(e)?e.some(t=>t.length>1):e.length>1:!1;function OE(e){const t={};for(const _ in e)_ in dp||(t[_]=e[_]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=e,g=LE(i),w=g&&g[0],v=g&&g[1],{onBeforeEnter:I,onEnter:y,onEnterCancelled:A,onLeave:V,onLeaveCancelled:$,onBeforeAppear:z=I,onAppear:F=y,onAppearCancelled:C=A}=t,b=(_,j,S)=>{or(_,j?c:a),or(_,j?u:o),S&&S()},T=(_,j)=>{_._isLeaving=!1,or(_,h),or(_,d),or(_,f),j&&j()},D=_=>(j,S)=>{const Y=_?F:y,K=()=>b(j,_,S);sr(Y,[j,K]),Ff(()=>{or(j,_?l:s),Pn(j,_?c:a),Nf(Y)||$f(j,r,w,K)})};return Je(t,{onBeforeEnter(_){sr(I,[_]),Pn(_,s),Pn(_,o)},onBeforeAppear(_){sr(z,[_]),Pn(_,l),Pn(_,u)},onEnter:D(!1),onAppear:D(!0),onLeave(_,j){_._isLeaving=!0;const S=()=>T(_,j);Pn(_,h),$E(),Pn(_,f),Ff(()=>{!_._isLeaving||(or(_,h),Pn(_,d),Nf(V)||$f(_,r,v,S))}),sr(V,[_,S])},onEnterCancelled(_){b(_,!1),sr(A,[_])},onAppearCancelled(_){b(_,!0),sr(C,[_])},onLeaveCancelled(_){T(_),sr($,[_])}})}function LE(e){if(e==null)return null;if(Be(e))return[bl(e.enter),bl(e.leave)];{const t=bl(e);return[t,t]}}function bl(e){return Ew(e)}function Pn(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function or(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function Ff(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let NE=0;function $f(e,t,n,r){const i=e._endId=++NE,s=()=>{i===e._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=FE(e,t);if(!o)return r();const u=o+"end";let c=0;const h=()=>{e.removeEventListener(u,f),s()},f=d=>{d.target===e&&++c>=l&&h()};setTimeout(()=>{c<l&&h()},a+1),e.addEventListener(u,f)}function FE(e,t){const n=window.getComputedStyle(e),r=g=>(n[g]||"").split(", "),i=r(`${Rn}Delay`),s=r(`${Rn}Duration`),o=Bf(i,s),a=r(`${Mi}Delay`),l=r(`${Mi}Duration`),u=Bf(a,l);let c=null,h=0,f=0;t===Rn?o>0&&(c=Rn,h=o,f=s.length):t===Mi?u>0&&(c=Mi,h=u,f=l.length):(h=Math.max(o,u),c=h>0?o>u?Rn:Mi:null,f=c?c===Rn?s.length:l.length:0);const d=c===Rn&&/\b(transform|all)(,|$)/.test(r(`${Rn}Property`).toString());return{type:c,timeout:h,propCount:f,hasTransform:d}}function Bf(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>qf(n)+qf(e[r])))}function qf(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function $E(){return document.body.offsetHeight}const BE=Je({patchProp:DE},vE);let Uf;function qE(){return Uf||(Uf=G0(BE))}const mp=(...e)=>{const t=qE().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=UE(r);if(!i)return;const s=t._component;!_e(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function UE(e){return Ue(e)?document.querySelector(e):e}/*! Capacitor: https://capacitorjs.com/ - MIT License */const jE=e=>{const t=new Map;t.set("web",{name:"web"});const n=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t},r=(s,o)=>{n.platforms.set(s,o)},i=s=>{n.platforms.has(s)&&(n.currentPlatform=n.platforms.get(s))};return n.addPlatform=r,n.setPlatform=i,n},zE=e=>e.CapacitorPlatforms=jE(e),gp=zE(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});gp.addPlatform;gp.setPlatform;var ci;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(ci||(ci={}));class Tl extends Error{constructor(t,n,r){super(t),this.message=t,this.code=n,this.data=r}}const HE=e=>{var t,n;return e!=null&&e.androidBridge?"android":!((n=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},KE=e=>{var t,n,r,i,s;const o=e.CapacitorCustomPlatform||null,a=e.Capacitor||{},l=a.Plugins=a.Plugins||{},u=e.CapacitorPlatforms,c=()=>o!==null?o.name:HE(e),h=((t=u==null?void 0:u.currentPlatform)===null||t===void 0?void 0:t.getPlatform)||c,f=()=>h()!=="web",d=((n=u==null?void 0:u.currentPlatform)===null||n===void 0?void 0:n.isNativePlatform)||f,g=F=>{const C=V.get(F);return!!(C!=null&&C.platforms.has(h())||I(F))},w=((r=u==null?void 0:u.currentPlatform)===null||r===void 0?void 0:r.isPluginAvailable)||g,v=F=>{var C;return(C=a.PluginHeaders)===null||C===void 0?void 0:C.find(b=>b.name===F)},I=((i=u==null?void 0:u.currentPlatform)===null||i===void 0?void 0:i.getPluginHeader)||v,y=F=>e.console.error(F),A=(F,C,b)=>Promise.reject(`${b} does not have an implementation of "${C}".`),V=new Map,$=(F,C={})=>{const b=V.get(F);if(b)return console.warn(`Capacitor plugin "${F}" already registered. Cannot register plugins twice.`),b.proxy;const T=h(),D=I(F);let _;const j=async()=>(!_&&T in C?_=typeof C[T]=="function"?_=await C[T]():_=C[T]:o!==null&&!_&&"web"in C&&(_=typeof C.web=="function"?_=await C.web():_=C.web),_),S=(ie,he)=>{var M,ye;if(D){const Ve=D==null?void 0:D.methods.find(ne=>he===ne.name);if(Ve)return Ve.rtype==="promise"?ne=>a.nativePromise(F,he.toString(),ne):(ne,oe)=>a.nativeCallback(F,he.toString(),ne,oe);if(ie)return(M=ie[he])===null||M===void 0?void 0:M.bind(ie)}else{if(ie)return(ye=ie[he])===null||ye===void 0?void 0:ye.bind(ie);throw new Tl(`"${F}" plugin is not implemented on ${T}`,ci.Unimplemented)}},Y=ie=>{let he;const M=(...ye)=>{const Ve=j().then(ne=>{const oe=S(ne,ie);if(oe){const R=oe(...ye);return he=R==null?void 0:R.remove,R}else throw new Tl(`"${F}.${ie}()" is not implemented on ${T}`,ci.Unimplemented)});return ie==="addListener"&&(Ve.remove=async()=>he()),Ve};return M.toString=()=>`${ie.toString()}() { [capacitor code] }`,Object.defineProperty(M,"name",{value:ie,writable:!1,configurable:!1}),M},K=Y("addListener"),x=Y("removeListener"),X=(ie,he)=>{const M=K({eventName:ie},he),ye=async()=>{const ne=await M;x({eventName:ie,callbackId:ne},he)},Ve=new Promise(ne=>M.then(()=>ne({remove:ye})));return Ve.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await ye()},Ve},xe=new Proxy({},{get(ie,he){switch(he){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return D?X:K;case"removeListener":return x;default:return Y(he)}}});return l[F]=xe,V.set(F,{name:F,proxy:xe,platforms:new Set([...Object.keys(C),...D?[T]:[]])}),xe},z=((s=u==null?void 0:u.currentPlatform)===null||s===void 0?void 0:s.registerPlugin)||$;return a.convertFileSrc||(a.convertFileSrc=F=>F),a.getPlatform=h,a.handleError=y,a.isNativePlatform=d,a.isPluginAvailable=w,a.pluginMethodNoop=A,a.registerPlugin=z,a.Exception=Tl,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a.platform=a.getPlatform(),a.isNative=a.isNativePlatform(),a},WE=e=>e.Capacitor=KE(e),Fo=WE(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{}),Ls=Fo.registerPlugin;Fo.Plugins;class pp{constructor(t){this.listeners={},this.windowListeners={},t&&(console.warn(`Capacitor WebPlugin "${t.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=t)}addListener(t,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(n);const i=this.windowListeners[t];i&&!i.registered&&this.addWindowListener(i);const s=async()=>this.removeListener(t,n),o=Promise.resolve({remove:s});return Object.defineProperty(o,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await s()}}),o}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n){const r=this.listeners[t];r&&r.forEach(i=>i(n))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(t="not implemented"){return new Fo.Exception(t,ci.Unimplemented)}unavailable(t="not available"){return new Fo.Exception(t,ci.Unavailable)}async removeListener(t,n){const r=this.listeners[t];if(!r)return;const i=r.indexOf(n);this.listeners[t].splice(i,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){!t||(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}}const jf=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),zf=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class GE extends pp{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(r=>{if(r.length<=0)return;let[i,s]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=zf(i).trim(),s=zf(s).trim(),n[i]=s}),n}async setCookie(t){try{const n=jf(t.key),r=jf(t.value),i=`; expires=${(t.expires||"").replace("expires=","")}`,s=(t.path||"/").replace("path=",""),o=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${r||""}${i}; path=${s}; ${o};`}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}Ls("CapacitorCookies",{web:()=>new GE});const QE=async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const i=r.result;t(i.indexOf(",")>=0?i.split(",")[1]:i)},r.onerror=i=>n(i),r.readAsDataURL(e)}),YE=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(i=>i.toLocaleLowerCase()).reduce((i,s,o)=>(i[s]=e[t[o]],i),{})},XE=(e,t=!0)=>e?Object.entries(e).reduce((r,i)=>{const[s,o]=i;let a,l;return Array.isArray(o)?(l="",o.forEach(u=>{a=t?encodeURIComponent(u):u,l+=`${s}=${a}&`}),l.slice(0,-1)):(a=t?encodeURIComponent(o):o,l=`${s}=${a}`),`${r}&${l}`},"").substr(1):null,JE=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),i=YE(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(i.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[o,a]of Object.entries(e.data||{}))s.set(o,a);n.body=s.toString()}else if(i.includes("multipart/form-data")||e.data instanceof FormData){const s=new FormData;if(e.data instanceof FormData)e.data.forEach((a,l)=>{s.append(l,a)});else for(const a of Object.keys(e.data))s.append(a,e.data[a]);n.body=s;const o=new Headers(n.headers);o.delete("content-type"),n.headers=o}else(i.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class ZE extends pp{async request(t){const n=JE(t,t.webFetchExtra),r=XE(t.params,t.shouldEncodeUrlParams),i=r?`${t.url}?${r}`:t.url,s=await fetch(i,n),o=s.headers.get("content-type")||"";let{responseType:a="text"}=s.ok?t:{};o.includes("application/json")&&(a="json");let l,u;switch(a){case"arraybuffer":case"blob":u=await s.blob(),l=await QE(u);break;case"json":l=await s.json();break;case"document":case"text":default:l=await s.text()}const c={};return s.headers.forEach((h,f)=>{c[f]=h}),{data:l,headers:c,status:s.status,url:s.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}Ls("CapacitorHttp",{web:()=>new ZE});Ls("App",{web:()=>Ht(()=>import("./web.cafcd6cc.js"),[]).then(e=>new e.AppWeb)});function Si(e,t,n,r){return Object.defineProperty(e,t,{get:n,set:r,enumerable:!0}),e}const Hn=be(!1);let Ca;function eb(e,t){const n=/(edg|edge|edga|edgios)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(vivaldi)[\/]([\w.]+)/.exec(e)||/(chrome|crios)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(firefox|fxios)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(e)||[];return{browser:n[5]||n[3]||n[1]||"",version:n[2]||n[4]||"0",versionNumber:n[4]||n[2]||"0",platform:t[0]||""}}function tb(e){return/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(silk)/.exec(e)||/(android)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||/(playbook)/.exec(e)||/(bb)/.exec(e)||/(blackberry)/.exec(e)||[]}const yp="ontouchstart"in window||window.navigator.maxTouchPoints>0;function nb(e){Ca={is:{...e}},delete e.mac,delete e.desktop;const t=Math.min(window.innerHeight,window.innerWidth)>414?"ipad":"iphone";Object.assign(e,{mobile:!0,ios:!0,platform:t,[t]:!0})}function rb(e){const t=e.toLowerCase(),n=tb(t),r=eb(t,n),i={};r.browser&&(i[r.browser]=!0,i.version=r.version,i.versionNumber=parseInt(r.versionNumber,10)),r.platform&&(i[r.platform]=!0);const s=i.android||i.ios||i.bb||i.blackberry||i.ipad||i.iphone||i.ipod||i.kindle||i.playbook||i.silk||i["windows phone"];return s===!0||t.indexOf("mobile")>-1?(i.mobile=!0,i.edga||i.edgios?(i.edge=!0,r.browser="edge"):i.crios?(i.chrome=!0,r.browser="chrome"):i.fxios&&(i.firefox=!0,r.browser="firefox")):i.desktop=!0,(i.ipod||i.ipad||i.iphone)&&(i.ios=!0),i["windows phone"]&&(i.winphone=!0,delete i["windows phone"]),(i.chrome||i.opr||i.safari||i.vivaldi||i.mobile===!0&&i.ios!==!0&&s!==!0)&&(i.webkit=!0),i.edg&&(r.browser="edgechromium",i.edgeChromium=!0),(i.safari&&i.blackberry||i.bb)&&(r.browser="blackberry",i.blackberry=!0),i.safari&&i.playbook&&(r.browser="playbook",i.playbook=!0),i.opr&&(r.browser="opera",i.opera=!0),i.safari&&i.android&&(r.browser="android",i.android=!0),i.safari&&i.kindle&&(r.browser="kindle",i.kindle=!0),i.safari&&i.silk&&(r.browser="silk",i.silk=!0),i.vivaldi&&(r.browser="vivaldi",i.vivaldi=!0),i.name=r.browser,i.platform=r.platform,t.indexOf("electron")>-1?i.electron=!0:document.location.href.indexOf("-extension://")>-1?i.bex=!0:(window.Capacitor!==void 0?(i.capacitor=!0,i.nativeMobile=!0,i.nativeMobileWrapper="capacitor"):(window._cordovaNative!==void 0||window.cordova!==void 0)&&(i.cordova=!0,i.nativeMobile=!0,i.nativeMobileWrapper="cordova"),yp===!0&&i.mac===!0&&(i.desktop===!0&&i.safari===!0||i.nativeMobile===!0&&i.android!==!0&&i.ios!==!0&&i.ipad!==!0)&&nb(i)),i}const Hf=navigator.userAgent||navigator.vendor||window.opera,ib={has:{touch:!1,webStorage:!1},within:{iframe:!1}},He={userAgent:Hf,is:rb(Hf),has:{touch:yp},within:{iframe:window.self!==window.top}},$o={install(e){const{$q:t}=e;Hn.value===!0?(e.onSSRHydrated.push(()=>{Object.assign(t.platform,He),Hn.value=!1,Ca=void 0}),t.platform=Or(this)):t.platform=this}};{let e;Si(He.has,"webStorage",()=>{if(e!==void 0)return e;try{if(window.localStorage)return e=!0,!0}catch{}return e=!1,!1}),He.is.ios===!0&&window.navigator.vendor.toLowerCase().indexOf("apple"),Hn.value===!0?Object.assign($o,He,Ca,ib):Object.assign($o,He)}var Sa=(e,t)=>{const n=Or(e);for(const r in e)Si(t,r,()=>n[r],i=>{n[r]=i});return t};const It={hasPassive:!1,passiveCapture:!0,notPassiveCapture:!0};try{const e=Object.defineProperty({},"passive",{get(){Object.assign(It,{hasPassive:!0,passive:{passive:!0},notPassive:{passive:!1},passiveCapture:{passive:!0,capture:!0},notPassiveCapture:{passive:!1,capture:!0}})}});window.addEventListener("qtest",null,e),window.removeEventListener("qtest",null,e)}catch{}function ms(){}function Qx(e){return e.button===0}function sb(e){return e.touches&&e.touches[0]?e=e.touches[0]:e.changedTouches&&e.changedTouches[0]?e=e.changedTouches[0]:e.targetTouches&&e.targetTouches[0]&&(e=e.targetTouches[0]),{top:e.clientY,left:e.clientX}}function ob(e){if(e.path)return e.path;if(e.composedPath)return e.composedPath();const t=[];let n=e.target;for(;n;){if(t.push(n),n.tagName==="HTML")return t.push(document),t.push(window),t;n=n.parentElement}}function Bo(e){e.stopPropagation()}function Mn(e){e.cancelable!==!1&&e.preventDefault()}function $t(e){e.cancelable!==!1&&e.preventDefault(),e.stopPropagation()}function Yx(e,t){if(e===void 0||t===!0&&e.__dragPrevented===!0)return;const n=t===!0?r=>{r.__dragPrevented=!0,r.addEventListener("dragstart",Mn,It.notPassiveCapture)}:r=>{delete r.__dragPrevented,r.removeEventListener("dragstart",Mn,It.notPassiveCapture)};e.querySelectorAll("a, img").forEach(n)}function ab(e,t,n){const r=`__q_${t}_evt`;e[r]=e[r]!==void 0?e[r].concat(n):n,n.forEach(i=>{i[0].addEventListener(i[1],e[i[2]],It[i[3]])})}function lb(e,t){const n=`__q_${t}_evt`;e[n]!==void 0&&(e[n].forEach(r=>{r[0].removeEventListener(r[1],e[r[2]],It[r[3]])}),e[n]=void 0)}function _p(e,t=250,n){let r=null;function i(){const s=arguments,o=()=>{r=null,n!==!0&&e.apply(this,s)};r!==null?clearTimeout(r):n===!0&&e.apply(this,s),r=setTimeout(o,t)}return i.cancel=()=>{r!==null&&clearTimeout(r)},i}const Il=["sm","md","lg","xl"],{passive:Kf}=It;var ub=Sa({width:0,height:0,name:"xs",sizes:{sm:600,md:1024,lg:1440,xl:1920},lt:{sm:!0,md:!0,lg:!0,xl:!0},gt:{xs:!1,sm:!1,md:!1,lg:!1},xs:!0,sm:!1,md:!1,lg:!1,xl:!1},{setSizes:ms,setDebounce:ms,install({$q:e,onSSRHydrated:t}){if(e.screen=this,this.__installed===!0){e.config.screen!==void 0&&(e.config.screen.bodyClasses===!1?document.body.classList.remove(`screen--${this.name}`):this.__update(!0));return}const{visualViewport:n}=window,r=n||window,i=document.scrollingElement||document.documentElement,s=n===void 0||He.is.mobile===!0?()=>[Math.max(window.innerWidth,i.clientWidth),Math.max(window.innerHeight,i.clientHeight)]:()=>[n.width*n.scale+window.innerWidth-i.clientWidth,n.height*n.scale+window.innerHeight-i.clientHeight],o=e.config.screen!==void 0&&e.config.screen.bodyClasses===!0;this.__update=h=>{const[f,d]=s();if(d!==this.height&&(this.height=d),f!==this.width)this.width=f;else if(h!==!0)return;let g=this.sizes;this.gt.xs=f>=g.sm,this.gt.sm=f>=g.md,this.gt.md=f>=g.lg,this.gt.lg=f>=g.xl,this.lt.sm=f<g.sm,this.lt.md=f<g.md,this.lt.lg=f<g.lg,this.lt.xl=f<g.xl,this.xs=this.lt.sm,this.sm=this.gt.xs===!0&&this.lt.md===!0,this.md=this.gt.sm===!0&&this.lt.lg===!0,this.lg=this.gt.md===!0&&this.lt.xl===!0,this.xl=this.gt.lg,g=this.xs===!0&&"xs"||this.sm===!0&&"sm"||this.md===!0&&"md"||this.lg===!0&&"lg"||"xl",g!==this.name&&(o===!0&&(document.body.classList.remove(`screen--${this.name}`),document.body.classList.add(`screen--${g}`)),this.name=g)};let a,l={},u=16;this.setSizes=h=>{Il.forEach(f=>{h[f]!==void 0&&(l[f]=h[f])})},this.setDebounce=h=>{u=h};const c=()=>{const h=getComputedStyle(document.body);h.getPropertyValue("--q-size-sm")&&Il.forEach(f=>{this.sizes[f]=parseInt(h.getPropertyValue(`--q-size-${f}`),10)}),this.setSizes=f=>{Il.forEach(d=>{f[d]&&(this.sizes[d]=f[d])}),this.__update(!0)},this.setDebounce=f=>{a!==void 0&&r.removeEventListener("resize",a,Kf),a=f>0?_p(this.__update,f):this.__update,r.addEventListener("resize",a,Kf)},this.setDebounce(u),Object.keys(l).length!==0?(this.setSizes(l),l=void 0):this.__update(),o===!0&&this.name==="xs"&&document.body.classList.add("screen--xs")};Hn.value===!0?t.push(c):c()}});const ft=Sa({isActive:!1,mode:!1},{__media:void 0,set(e){ft.mode=e,e==="auto"?(ft.__media===void 0&&(ft.__media=window.matchMedia("(prefers-color-scheme: dark)"),ft.__updateMedia=()=>{ft.set("auto")},ft.__media.addListener(ft.__updateMedia)),e=ft.__media.matches):ft.__media!==void 0&&(ft.__media.removeListener(ft.__updateMedia),ft.__media=void 0),ft.isActive=e===!0,document.body.classList.remove(`body--${e===!0?"light":"dark"}`),document.body.classList.add(`body--${e===!0?"dark":"light"}`)},toggle(){ft.set(ft.isActive===!1)},install({$q:e,onSSRHydrated:t,ssrContext:n}){const{dark:r}=e.config;if(e.dark=this,this.__installed===!0&&r===void 0)return;this.isActive=r===!0;const i=r!==void 0?r:!1;if(Hn.value===!0){const s=a=>{this.__fromSSR=a},o=this.set;this.set=s,s(i),t.push(()=>{this.set=o,this.set(this.__fromSSR)})}else this.set(i)}}),vp=()=>!0;function cb(e){return typeof e=="string"&&e!==""&&e!=="/"&&e!=="#/"}function hb(e){return e.startsWith("#")===!0&&(e=e.substring(1)),e.startsWith("/")===!1&&(e="/"+e),e.endsWith("/")===!0&&(e=e.substring(0,e.length-1)),"#"+e}function fb(e){if(e.backButtonExit===!1)return()=>!1;if(e.backButtonExit==="*")return vp;const t=["#/"];return Array.isArray(e.backButtonExit)===!0&&t.push(...e.backButtonExit.filter(cb).map(hb)),()=>t.includes(window.location.hash)}var Tu={__history:[],add:ms,remove:ms,install({$q:e}){if(this.__installed===!0)return;const{cordova:t,capacitor:n}=He.is;if(t!==!0&&n!==!0)return;const r=e.config[t===!0?"cordova":"capacitor"];if(r!==void 0&&r.backButton===!1||n===!0&&(window.Capacitor===void 0||window.Capacitor.Plugins.App===void 0))return;this.add=o=>{o.condition===void 0&&(o.condition=vp),this.__history.push(o)},this.remove=o=>{const a=this.__history.indexOf(o);a>=0&&this.__history.splice(a,1)};const i=fb(Object.assign({backButtonExit:!0},r)),s=()=>{if(this.__history.length){const o=this.__history[this.__history.length-1];o.condition()===!0&&(this.__history.pop(),o.handler())}else i()===!0?navigator.app.exitApp():window.history.back()};t===!0?document.addEventListener("deviceready",()=>{document.addEventListener("backbutton",s,!1)}):window.Capacitor.Plugins.App.addListener("backButton",s)}},Wf={isoName:"en-US",nativeName:"English (US)",label:{clear:"Clear",ok:"OK",cancel:"Cancel",close:"Close",set:"Set",select:"Select",reset:"Reset",remove:"Remove",update:"Update",create:"Create",search:"Search",filter:"Filter",refresh:"Refresh",expand:e=>e?`Expand "${e}"`:"Expand",collapse:e=>e?`Collapse "${e}"`:"Collapse"},date:{days:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),daysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:0,format24h:!1,pluralDay:"days"},table:{noData:"No data available",noResults:"No matching records found",loading:"Loading...",selectedRecords:e=>e===1?"1 record selected.":(e===0?"No":e)+" records selected.",recordsPerPage:"Records per page:",allRows:"All",pagination:(e,t,n)=>e+"-"+t+" of "+n,columns:"Columns"},editor:{url:"URL",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",unorderedList:"Unordered List",orderedList:"Ordered List",subscript:"Subscript",superscript:"Superscript",hyperlink:"Hyperlink",toggleFullscreen:"Toggle Fullscreen",quote:"Quote",left:"Left align",center:"Center align",right:"Right align",justify:"Justify align",print:"Print",outdent:"Decrease indentation",indent:"Increase indentation",removeFormat:"Remove formatting",formatting:"Formatting",fontSize:"Font Size",align:"Align",hr:"Insert Horizontal Rule",undo:"Undo",redo:"Redo",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraph",code:"Code",size1:"Very small",size2:"A bit small",size3:"Normal",size4:"Medium-large",size5:"Big",size6:"Very big",size7:"Maximum",defaultFont:"Default Font",viewSource:"View Source"},tree:{noNodes:"No nodes available",noResults:"No matching nodes found"}};function Gf(){const e=Array.isArray(navigator.languages)===!0&&navigator.languages.length!==0?navigator.languages[0]:navigator.language;if(typeof e=="string")return e.split(/[-_]/).map((t,n)=>n===0?t.toLowerCase():n>1||t.length<4?t.toUpperCase():t[0].toUpperCase()+t.slice(1).toLowerCase()).join("-")}const zt=Sa({__langPack:{}},{getLocale:Gf,set(e=Wf,t){const n={...e,rtl:e.rtl===!0,getLocale:Gf};{if(n.set=zt.set,zt.__langConfig===void 0||zt.__langConfig.noHtmlAttrs!==!0){const r=document.documentElement;r.setAttribute("dir",n.rtl===!0?"rtl":"ltr"),r.setAttribute("lang",n.isoName)}Object.assign(zt.__langPack,n),zt.props=n,zt.isoName=n.isoName,zt.nativeName=n.nativeName}},install({$q:e,lang:t,ssrContext:n}){e.lang=zt.__langPack,zt.__langConfig=e.config.lang,this.__installed===!0?t!==void 0&&this.set(t):this.set(t||Wf)}});function db(e,t,n=document.body){if(typeof e!="string")throw new TypeError("Expected a string as propName");if(typeof t!="string")throw new TypeError("Expected a string as value");if(!(n instanceof Element))throw new TypeError("Expected a DOM element");n.style.setProperty(`--q-${e}`,t)}let wp=!1;function mb(e){wp=e.isComposing===!0}function Ep(e){return wp===!0||e!==Object(e)||e.isComposing===!0||e.qKeyEvent===!0}function gs(e,t){return Ep(e)===!0?!1:[].concat(t).includes(e.keyCode)}function bp(e){if(e.ios===!0)return"ios";if(e.android===!0)return"android"}function gb({is:e,has:t,within:n},r){const i=[e.desktop===!0?"desktop":"mobile",`${t.touch===!1?"no-":""}touch`];if(e.mobile===!0){const s=bp(e);s!==void 0&&i.push("platform-"+s)}if(e.nativeMobile===!0){const s=e.nativeMobileWrapper;i.push(s),i.push("native-mobile"),e.ios===!0&&(r[s]===void 0||r[s].iosStatusBarPadding!==!1)&&i.push("q-ios-padding")}else e.electron===!0?i.push("electron"):e.bex===!0&&i.push("bex");return n.iframe===!0&&i.push("within-iframe"),i}function pb(){const{is:e}=He,t=document.body.className,n=new Set(t.replace(/ {2}/g," ").split(" "));if(Ca!==void 0)n.delete("desktop"),n.add("platform-ios"),n.add("mobile");else if(e.nativeMobile!==!0&&e.electron!==!0&&e.bex!==!0){if(e.desktop===!0)n.delete("mobile"),n.delete("platform-ios"),n.delete("platform-android"),n.add("desktop");else if(e.mobile===!0){n.delete("desktop"),n.add("mobile");const i=bp(e);i!==void 0?(n.add(`platform-${i}`),n.delete(`platform-${i==="ios"?"android":"ios"}`)):(n.delete("platform-ios"),n.delete("platform-android"))}}He.has.touch===!0&&(n.delete("no-touch"),n.add("touch")),He.within.iframe===!0&&n.add("within-iframe");const r=Array.from(n).join(" ");t!==r&&(document.body.className=r)}function yb(e){for(const t in e)db(t,e[t])}var _b={install(e){if(this.__installed!==!0){if(Hn.value===!0)pb();else{const{$q:t}=e;t.config.brand!==void 0&&yb(t.config.brand);const n=gb(He,t.config);document.body.classList.add.apply(document.body.classList,n)}He.is.ios===!0&&document.body.addEventListener("touchstart",ms),window.addEventListener("keydown",mb,!0)}}},vb={name:"material-icons",type:{positive:"check_circle",negative:"warning",info:"info",warning:"priority_high"},arrow:{up:"arrow_upward",right:"arrow_forward",down:"arrow_downward",left:"arrow_back",dropdown:"arrow_drop_down"},chevron:{left:"chevron_left",right:"chevron_right"},colorPicker:{spectrum:"gradient",tune:"tune",palette:"style"},pullToRefresh:{icon:"refresh"},carousel:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down",navigationIcon:"lens"},chip:{remove:"cancel",selected:"check"},datetime:{arrowLeft:"chevron_left",arrowRight:"chevron_right",now:"access_time",today:"today"},editor:{bold:"format_bold",italic:"format_italic",strikethrough:"strikethrough_s",underline:"format_underlined",unorderedList:"format_list_bulleted",orderedList:"format_list_numbered",subscript:"vertical_align_bottom",superscript:"vertical_align_top",hyperlink:"link",toggleFullscreen:"fullscreen",quote:"format_quote",left:"format_align_left",center:"format_align_center",right:"format_align_right",justify:"format_align_justify",print:"print",outdent:"format_indent_decrease",indent:"format_indent_increase",removeFormat:"format_clear",formatting:"text_format",fontSize:"format_size",align:"format_align_left",hr:"remove",undo:"undo",redo:"redo",heading:"format_size",code:"code",size:"format_size",font:"font_download",viewSource:"code"},expansionItem:{icon:"keyboard_arrow_down",denseIcon:"arrow_drop_down"},fab:{icon:"add",activeIcon:"close"},field:{clear:"cancel",error:"error"},pagination:{first:"first_page",prev:"keyboard_arrow_left",next:"keyboard_arrow_right",last:"last_page"},rating:{icon:"grade"},stepper:{done:"check",active:"edit",error:"warning"},tabs:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down"},table:{arrowUp:"arrow_upward",warning:"warning",firstPage:"first_page",prevPage:"chevron_left",nextPage:"chevron_right",lastPage:"last_page"},tree:{icon:"play_arrow"},uploader:{done:"done",clear:"clear",add:"add_box",upload:"cloud_upload",removeQueue:"clear_all",removeUploaded:"done_all"}};const qo=Sa({iconMapFn:null,__icons:{}},{set(e,t){const n={...e,rtl:e.rtl===!0};n.set=qo.set,Object.assign(qo.__icons,n)},install({$q:e,iconSet:t,ssrContext:n}){e.config.iconMapFn!==void 0&&(this.iconMapFn=e.config.iconMapFn),e.iconSet=this.__icons,Si(e,"iconMapFn",()=>this.iconMapFn,r=>{this.iconMapFn=r}),this.__installed===!0?t!==void 0&&this.set(t):this.set(t||vb)}}),wb="_q_",Xx="_q_l_",Jx="_q_pc_",Eb="_q_fo_",Zx=()=>{},Uo={};let Tp=!1;function bb(){Tp=!0}function fr(e){return e!==null&&typeof e=="object"&&Array.isArray(e)!==!0}const Qf=[$o,_b,ft,ub,Tu,zt,qo];function Tb(e,t){const n=mp(e);n.config.globalProperties=t.config.globalProperties;const{reload:r,...i}=t._context;return Object.assign(n._context,i),n}function Yf(e,t){t.forEach(n=>{n.install(e),n.__installed=!0})}function Ib(e,t,n){e.config.globalProperties.$q=n.$q,e.provide(wb,n.$q),Yf(n,Qf),t.components!==void 0&&Object.values(t.components).forEach(r=>{fr(r)===!0&&r.name!==void 0&&e.component(r.name,r)}),t.directives!==void 0&&Object.values(t.directives).forEach(r=>{fr(r)===!0&&r.name!==void 0&&e.directive(r.name,r)}),t.plugins!==void 0&&Yf(n,Object.values(t.plugins).filter(r=>typeof r.install=="function"&&Qf.includes(r)===!1)),Hn.value===!0&&(n.$q.onSSRHydrated=()=>{n.onSSRHydrated.forEach(r=>{r()}),n.$q.onSSRHydrated=()=>{}})}var Ab=function(e,t={}){const n={version:"2.12.7"};Tp===!1?(t.config!==void 0&&Object.assign(Uo,t.config),n.config={...Uo},bb()):n.config=t.config||{},Ib(e,t,{parentApp:e,$q:n,lang:t.lang,iconSet:t.iconSet,onSSRHydrated:[]})},Cb={version:"2.12.7",install:Ab,lang:zt,iconSet:qo};const Iu={xs:18,sm:24,md:32,lg:38,xl:46},Ra={size:String};function Pa(e,t=Iu){return P(()=>e.size!==void 0?{fontSize:e.size in t?`${t[e.size]}px`:e.size}:null)}const Sb={size:{type:[Number,String],default:"1em"},color:String};function Rb(e){return{cSize:P(()=>e.size in Iu?`${Iu[e.size]}px`:e.size),classes:P(()=>"q-spinner"+(e.color?` text-${e.color}`:""))}}const bt=e=>Lr(Ai(e)),Pb=e=>Lr(e);var ps=bt({name:"QSpinner",props:{...Sb,thickness:{type:Number,default:5}},setup(e){const{cSize:t,classes:n}=Rb(e);return()=>O("svg",{class:n.value+" q-spinner-mat",width:t.value,height:t.value,viewBox:"25 25 50 50"},[O("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none",stroke:"currentColor","stroke-width":e.thickness,"stroke-miterlimit":"10"})])}});const Xn={dark:{type:Boolean,default:null}};function Jn(e,t){return P(()=>e.dark===null?t.dark.isActive:e.dark)}const Ip={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function Ap(e,t=()=>{},n=()=>{}){return{transitionProps:P(()=>{const r=`q-transition--${e.transitionShow||t()}`,i=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${r}-enter-from`,enterActiveClass:`${r}-enter-active`,enterToClass:`${r}-enter-to`,leaveFromClass:`${i}-leave-from`,leaveActiveClass:`${i}-leave-active`,leaveToClass:`${i}-leave-to`}}),transitionStyle:P(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}var kb=bt({name:"QInnerLoading",props:{...Xn,...Ip,showing:Boolean,color:String,size:{type:[String,Number],default:42},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(e,{slots:t}){const n=Ze(),r=Jn(e,n.proxy.$q),{transitionProps:i,transitionStyle:s}=Ap(e),o=P(()=>"q-inner-loading absolute-full column flex-center"+(r.value===!0?" q-inner-loading--dark":"")),a=P(()=>"q-inner-loading__label"+(e.labelClass!==void 0?` ${e.labelClass}`:""));function l(){const c=[O(ps,{size:e.size,color:e.color})];return e.label!==void 0&&c.push(O("div",{class:a.value,style:e.labelStyle},[e.label])),c}function u(){return e.showing===!0?O("div",{class:o.value,style:s.value},t.default!==void 0?t.default():l()):null}return()=>O(Sr,i.value,u)}});function Qt(e,t){return e!==void 0&&e()||t}function eV(e,t){if(e!==void 0){const n=e();if(n!=null)return n.slice()}return t}function gr(e,t){return e!==void 0?t.concat(e()):t}function tV(e,t){return e===void 0?t:t!==void 0?t.concat(e()):e()}function nV(e,t,n,r,i,s){t.key=r+i;const o=O(e,t,n);return i===!0?zg(o,s()):o}var dr=bt({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=P(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>O(e.tag,{class:n.value},Qt(t.default))}});const Xf="0 0 24 24",Jf=e=>e,Al=e=>`ionicons ${e}`,Cp={"mdi-":e=>`mdi ${e}`,"icon-":Jf,"bt-":e=>`bt ${e}`,"eva-":e=>`eva ${e}`,"ion-md":Al,"ion-ios":Al,"ion-logo":Al,"iconfont ":Jf,"ti-":e=>`themify-icon ${e}`,"bi-":e=>`bootstrap-icons ${e}`},Sp={o_:"-outlined",r_:"-round",s_:"-sharp"},Rp={sym_o_:"-outlined",sym_r_:"-rounded",sym_s_:"-sharp"},xb=new RegExp("^("+Object.keys(Cp).join("|")+")"),Vb=new RegExp("^("+Object.keys(Sp).join("|")+")"),Zf=new RegExp("^("+Object.keys(Rp).join("|")+")"),Db=/^[Mm]\s?[-+]?\.?\d/,Mb=/^img:/,Ob=/^svguse:/,Lb=/^ion-/,Nb=/^(fa-(sharp|solid|regular|light|brands|duotone|thin)|[lf]a[srlbdk]?) /;var Rr=bt({name:"QIcon",props:{...Ra,tag:{type:String,default:"i"},name:String,color:String,left:Boolean,right:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=Ze(),r=Pa(e),i=P(()=>"q-icon"+(e.left===!0?" on-left":"")+(e.right===!0?" on-right":"")+(e.color!==void 0?` text-${e.color}`:"")),s=P(()=>{let o,a=e.name;if(a==="none"||!a)return{none:!0};if(n.iconMapFn!==null){const c=n.iconMapFn(a);if(c!==void 0)if(c.icon!==void 0){if(a=c.icon,a==="none"||!a)return{none:!0}}else return{cls:c.cls,content:c.content!==void 0?c.content:" "}}if(Db.test(a)===!0){const[c,h=Xf]=a.split("|");return{svg:!0,viewBox:h,nodes:c.split("&&").map(f=>{const[d,g,w]=f.split("@@");return O("path",{style:g,d,transform:w})})}}if(Mb.test(a)===!0)return{img:!0,src:a.substring(4)};if(Ob.test(a)===!0){const[c,h=Xf]=a.split("|");return{svguse:!0,src:c.substring(7),viewBox:h}}let l=" ";const u=a.match(xb);if(u!==null)o=Cp[u[1]](a);else if(Nb.test(a)===!0)o=a;else if(Lb.test(a)===!0)o=`ionicons ion-${n.platform.is.ios===!0?"ios":"md"}${a.substring(3)}`;else if(Zf.test(a)===!0){o="notranslate material-symbols";const c=a.match(Zf);c!==null&&(a=a.substring(6),o+=Rp[c[1]]),l=a}else{o="notranslate material-icons";const c=a.match(Vb);c!==null&&(a=a.substring(2),o+=Sp[c[1]]),l=a}return{cls:o,content:l}});return()=>{const o={class:i.value,style:r.value,"aria-hidden":"true",role:"presentation"};return s.value.none===!0?O(e.tag,o,Qt(t.default)):s.value.img===!0?O("span",o,gr(t.default,[O("img",{src:s.value.src})])):s.value.svg===!0?O("span",o,gr(t.default,[O("svg",{viewBox:s.value.viewBox||"0 0 24 24"},s.value.nodes)])):s.value.svguse===!0?O("span",o,gr(t.default,[O("svg",{viewBox:s.value.viewBox},[O("use",{"xlink:href":s.value.src})])])):(s.value.cls!==void 0&&(o.class+=" "+s.value.cls),O(e.tag,o,gr(t.default,[s.value.content])))}}});function Au(e,t){const n=e.style;for(const r in t)n[r]=t[r]}function Fb(e){if(e==null)return;if(typeof e=="string")try{return document.querySelector(e)||void 0}catch{return}const t=br(e);if(t)return t.$el||t}function $b(e,t){if(e==null||e.contains(t)===!0)return!0;for(let n=e.nextElementSibling;n!==null;n=n.nextElementSibling)if(n.contains(t))return!0;return!1}function Bb(e,t=250){let n=!1,r;return function(){return n===!1&&(n=!0,setTimeout(()=>{n=!1},t),r=e.apply(this,arguments)),r}}function ed(e,t,n,r){n.modifiers.stop===!0&&Bo(e);const i=n.modifiers.color;let s=n.modifiers.center;s=s===!0||r===!0;const o=document.createElement("span"),a=document.createElement("span"),l=sb(e),{left:u,top:c,width:h,height:f}=t.getBoundingClientRect(),d=Math.sqrt(h*h+f*f),g=d/2,w=`${(h-d)/2}px`,v=s?w:`${l.left-u-g}px`,I=`${(f-d)/2}px`,y=s?I:`${l.top-c-g}px`;a.className="q-ripple__inner",Au(a,{height:`${d}px`,width:`${d}px`,transform:`translate3d(${v},${y},0) scale3d(.2,.2,1)`,opacity:0}),o.className=`q-ripple${i?" text-"+i:""}`,o.setAttribute("dir","ltr"),o.appendChild(a),t.appendChild(o);const A=()=>{o.remove(),clearTimeout(V)};n.abort.push(A);let V=setTimeout(()=>{a.classList.add("q-ripple__inner--enter"),a.style.transform=`translate3d(${w},${I},0) scale3d(1,1,1)`,a.style.opacity=.2,V=setTimeout(()=>{a.classList.remove("q-ripple__inner--enter"),a.classList.add("q-ripple__inner--leave"),a.style.opacity=0,V=setTimeout(()=>{o.remove(),n.abort.splice(n.abort.indexOf(A),1)},275)},250)},50)}function td(e,{modifiers:t,value:n,arg:r}){const i=Object.assign({},e.cfg.ripple,t,n);e.modifiers={early:i.early===!0,stop:i.stop===!0,center:i.center===!0,color:i.color||r,keyCodes:[].concat(i.keyCodes||13)}}var Pp=Pb({name:"ripple",beforeMount(e,t){const n=t.instance.$.appContext.config.globalProperties.$q.config||{};if(n.ripple===!1)return;const r={cfg:n,enabled:t.value!==!1,modifiers:{},abort:[],start(i){r.enabled===!0&&i.qSkipRipple!==!0&&i.type===(r.modifiers.early===!0?"pointerdown":"click")&&ed(i,e,r,i.qKeyEvent===!0)},keystart:Bb(i=>{r.enabled===!0&&i.qSkipRipple!==!0&&gs(i,r.modifiers.keyCodes)===!0&&i.type===`key${r.modifiers.early===!0?"down":"up"}`&&ed(i,e,r,!0)},300)};td(r,t),e.__qripple=r,ab(r,"main",[[e,"pointerdown","start","passive"],[e,"click","start","passive"],[e,"keydown","keystart","passive"],[e,"keyup","keystart","passive"]])},updated(e,t){if(t.oldValue!==t.value){const n=e.__qripple;n!==void 0&&(n.enabled=t.value!==!1,n.enabled===!0&&Object(t.value)===t.value&&td(n,t))}},beforeUnmount(e){const t=e.__qripple;t!==void 0&&(t.abort.forEach(n=>{n()}),lb(t,"main"),delete e._qripple)}});const kp={left:"start",center:"center",right:"end",between:"between",around:"around",evenly:"evenly",stretch:"stretch"},qb=Object.keys(kp),xp={align:{type:String,validator:e=>qb.includes(e)}};function Vp(e){return P(()=>{const t=e.align===void 0?e.vertical===!0?"stretch":"left":e.align;return`${e.vertical===!0?"items":"justify"}-${kp[t]}`})}function Dp(e){return e.appContext.config.globalProperties.$router!==void 0}function Mp(e){return e.isUnmounted===!0||e.isDeactivated===!0}function nd(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}function rd(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Ub(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(Array.isArray(i)===!1||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function id(e,t){return Array.isArray(t)===!0?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function jb(e,t){return Array.isArray(e)===!0?id(e,t):Array.isArray(t)===!0?id(t,e):e===t}function zb(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(jb(e[n],t[n])===!1)return!1;return!0}const Hb={to:[String,Object],replace:Boolean,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"},href:String,target:String,disable:Boolean};function Kb({fallbackTag:e,useDisableForRouterLinkProps:t=!0}={}){const n=Ze(),{props:r,proxy:i,emit:s}=n,o=Dp(n),a=P(()=>r.disable!==!0&&r.href!==void 0),l=P(t===!0?()=>o===!0&&r.disable!==!0&&a.value!==!0&&r.to!==void 0&&r.to!==null&&r.to!=="":()=>o===!0&&a.value!==!0&&r.to!==void 0&&r.to!==null&&r.to!==""),u=P(()=>l.value===!0?y(r.to):null),c=P(()=>u.value!==null),h=P(()=>a.value===!0||c.value===!0),f=P(()=>r.type==="a"||h.value===!0?"a":r.tag||e||"div"),d=P(()=>a.value===!0?{href:r.href,target:r.target}:c.value===!0?{href:u.value.href,target:r.target}:{}),g=P(()=>{if(c.value===!1)return-1;const{matched:$}=u.value,{length:z}=$,F=$[z-1];if(F===void 0)return-1;const C=i.$route.matched;if(C.length===0)return-1;const b=C.findIndex(rd.bind(null,F));if(b>-1)return b;const T=nd($[z-2]);return z>1&&nd(F)===T&&C[C.length-1].path!==T?C.findIndex(rd.bind(null,$[z-2])):b}),w=P(()=>c.value===!0&&g.value!==-1&&Ub(i.$route.params,u.value.params)),v=P(()=>w.value===!0&&g.value===i.$route.matched.length-1&&zb(i.$route.params,u.value.params)),I=P(()=>c.value===!0?v.value===!0?` ${r.exactActiveClass} ${r.activeClass}`:r.exact===!0?"":w.value===!0?` ${r.activeClass}`:"":"");function y($){try{return i.$router.resolve($)}catch{}return null}function A($,{returnRouterError:z,to:F=r.to,replace:C=r.replace}={}){if(r.disable===!0)return $.preventDefault(),Promise.resolve(!1);if($.metaKey||$.altKey||$.ctrlKey||$.shiftKey||$.button!==void 0&&$.button!==0||r.target==="_blank")return Promise.resolve(!1);$.preventDefault();const b=i.$router[C===!0?"replace":"push"](F);return z===!0?b:b.then(()=>{}).catch(()=>{})}function V($){if(c.value===!0){const z=F=>A($,F);s("click",$,z),$.defaultPrevented!==!0&&z()}else s("click",$)}return{hasRouterLink:c,hasHrefLink:a,hasLink:h,linkTag:f,resolvedLink:u,linkIsActive:w,linkIsExactActive:v,linkClass:I,linkAttrs:d,getLink:y,navigateToRouterLink:A,navigateOnClick:V}}const sd={none:0,xs:4,sm:8,md:16,lg:24,xl:32},Wb={xs:8,sm:10,md:14,lg:20,xl:24},Gb=["button","submit","reset"],Qb=/[^\s]\/[^\s]/,Yb=["flat","outline","push","unelevated"],Xb=(e,t)=>e.flat===!0?"flat":e.outline===!0?"outline":e.push===!0?"push":e.unelevated===!0?"unelevated":t,Jb={...Ra,...Hb,type:{type:String,default:"button"},label:[Number,String],icon:String,iconRight:String,...Yb.reduce((e,t)=>(e[t]=Boolean)&&e,{}),square:Boolean,round:Boolean,rounded:Boolean,glossy:Boolean,size:String,fab:Boolean,fabMini:Boolean,padding:String,color:String,textColor:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,tabindex:[Number,String],ripple:{type:[Boolean,Object],default:!0},align:{...xp.align,default:"center"},stack:Boolean,stretch:Boolean,loading:{type:Boolean,default:null},disable:Boolean};function Zb(e){const t=Pa(e,Wb),n=Vp(e),{hasRouterLink:r,hasLink:i,linkTag:s,linkAttrs:o,navigateOnClick:a}=Kb({fallbackTag:"button"}),l=P(()=>{const v=e.fab===!1&&e.fabMini===!1?t.value:{};return e.padding!==void 0?Object.assign({},v,{padding:e.padding.split(/\s+/).map(I=>I in sd?sd[I]+"px":I).join(" "),minWidth:"0",minHeight:"0"}):v}),u=P(()=>e.rounded===!0||e.fab===!0||e.fabMini===!0),c=P(()=>e.disable!==!0&&e.loading!==!0),h=P(()=>c.value===!0?e.tabindex||0:-1),f=P(()=>Xb(e,"standard")),d=P(()=>{const v={tabindex:h.value};return i.value===!0?Object.assign(v,o.value):Gb.includes(e.type)===!0&&(v.type=e.type),s.value==="a"?(e.disable===!0?v["aria-disabled"]="true":v.href===void 0&&(v.role="button"),r.value!==!0&&Qb.test(e.type)===!0&&(v.type=e.type)):e.disable===!0&&(v.disabled="",v["aria-disabled"]="true"),e.loading===!0&&e.percentage!==void 0&&Object.assign(v,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":e.percentage}),v}),g=P(()=>{let v;e.color!==void 0?e.flat===!0||e.outline===!0?v=`text-${e.textColor||e.color}`:v=`bg-${e.color} text-${e.textColor||"white"}`:e.textColor&&(v=`text-${e.textColor}`);const I=e.round===!0?"round":`rectangle${u.value===!0?" q-btn--rounded":e.square===!0?" q-btn--square":""}`;return`q-btn--${f.value} q-btn--${I}`+(v!==void 0?" "+v:"")+(c.value===!0?" q-btn--actionable q-focusable q-hoverable":e.disable===!0?" disabled":"")+(e.fab===!0?" q-btn--fab":e.fabMini===!0?" q-btn--fab-mini":"")+(e.noCaps===!0?" q-btn--no-uppercase":"")+(e.dense===!0?" q-btn--dense":"")+(e.stretch===!0?" no-border-radius self-stretch":"")+(e.glossy===!0?" glossy":"")+(e.square?" q-btn--square":"")}),w=P(()=>n.value+(e.stack===!0?" column":" row")+(e.noWrap===!0?" no-wrap text-no-wrap":"")+(e.loading===!0?" q-btn__content--hidden":""));return{classes:g,style:l,innerClasses:w,attributes:d,hasLink:i,linkTag:s,navigateOnClick:a,isActionable:c}}const{passiveCapture:Nt}=It;let jr=null,zr=null,Hr=null;var jo=bt({name:"QBtn",props:{...Jb,percentage:Number,darkPercentage:Boolean,onTouchstart:[Function,Array]},emits:["click","keydown","mousedown","keyup"],setup(e,{slots:t,emit:n}){const{proxy:r}=Ze(),{classes:i,style:s,innerClasses:o,attributes:a,hasLink:l,linkTag:u,navigateOnClick:c,isActionable:h}=Zb(e),f=be(null),d=be(null);let g=null,w,v=null;const I=P(()=>e.label!==void 0&&e.label!==null&&e.label!==""),y=P(()=>e.disable===!0||e.ripple===!1?!1:{keyCodes:l.value===!0?[13,32]:[13],...e.ripple===!0?{}:e.ripple}),A=P(()=>({center:e.round})),V=P(()=>{const S=Math.max(0,Math.min(100,e.percentage));return S>0?{transition:"transform 0.6s",transform:`translateX(${S-100}%)`}:{}}),$=P(()=>{if(e.loading===!0)return{onMousedown:j,onTouchstart:j,onClick:j,onKeydown:j,onKeyup:j};if(h.value===!0){const S={onClick:F,onKeydown:C,onMousedown:T};if(r.$q.platform.has.touch===!0){const Y=e.onTouchstart!==void 0?"":"Passive";S[`onTouchstart${Y}`]=b}return S}return{onClick:$t}}),z=P(()=>({ref:f,class:"q-btn q-btn-item non-selectable no-outline "+i.value,style:s.value,...a.value,...$.value}));function F(S){if(f.value!==null){if(S!==void 0){if(S.defaultPrevented===!0)return;const Y=document.activeElement;if(e.type==="submit"&&Y!==document.body&&f.value.contains(Y)===!1&&Y.contains(f.value)===!1){f.value.focus();const K=()=>{document.removeEventListener("keydown",$t,!0),document.removeEventListener("keyup",K,Nt),f.value!==null&&f.value.removeEventListener("blur",K,Nt)};document.addEventListener("keydown",$t,!0),document.addEventListener("keyup",K,Nt),f.value.addEventListener("blur",K,Nt)}}c(S)}}function C(S){f.value!==null&&(n("keydown",S),gs(S,[13,32])===!0&&zr!==f.value&&(zr!==null&&_(),S.defaultPrevented!==!0&&(f.value.focus(),zr=f.value,f.value.classList.add("q-btn--active"),document.addEventListener("keyup",D,!0),f.value.addEventListener("blur",D,Nt)),$t(S)))}function b(S){f.value!==null&&(n("touchstart",S),S.defaultPrevented!==!0&&(jr!==f.value&&(jr!==null&&_(),jr=f.value,g=S.target,g.addEventListener("touchcancel",D,Nt),g.addEventListener("touchend",D,Nt)),w=!0,v!==null&&clearTimeout(v),v=setTimeout(()=>{v=null,w=!1},200)))}function T(S){f.value!==null&&(S.qSkipRipple=w===!0,n("mousedown",S),S.defaultPrevented!==!0&&Hr!==f.value&&(Hr!==null&&_(),Hr=f.value,f.value.classList.add("q-btn--active"),document.addEventListener("mouseup",D,Nt)))}function D(S){if(f.value!==null&&!(S!==void 0&&S.type==="blur"&&document.activeElement===f.value)){if(S!==void 0&&S.type==="keyup"){if(zr===f.value&&gs(S,[13,32])===!0){const Y=new MouseEvent("click",S);Y.qKeyEvent=!0,S.defaultPrevented===!0&&Mn(Y),S.cancelBubble===!0&&Bo(Y),f.value.dispatchEvent(Y),$t(S),S.qKeyEvent=!0}n("keyup",S)}_()}}function _(S){const Y=d.value;S!==!0&&(jr===f.value||Hr===f.value)&&Y!==null&&Y!==document.activeElement&&(Y.setAttribute("tabindex",-1),Y.focus()),jr===f.value&&(g!==null&&(g.removeEventListener("touchcancel",D,Nt),g.removeEventListener("touchend",D,Nt)),jr=g=null),Hr===f.value&&(document.removeEventListener("mouseup",D,Nt),Hr=null),zr===f.value&&(document.removeEventListener("keyup",D,!0),f.value!==null&&f.value.removeEventListener("blur",D,Nt),zr=null),f.value!==null&&f.value.classList.remove("q-btn--active")}function j(S){$t(S),S.qSkipRipple=!0}return rn(()=>{_(!0)}),Object.assign(r,{click:F}),()=>{let S=[];e.icon!==void 0&&S.push(O(Rr,{name:e.icon,left:e.stack===!1&&I.value===!0,role:"img","aria-hidden":"true"})),I.value===!0&&S.push(O("span",{class:"block"},[e.label])),S=gr(t.default,S),e.iconRight!==void 0&&e.round===!1&&S.push(O(Rr,{name:e.iconRight,right:e.stack===!1&&I.value===!0,role:"img","aria-hidden":"true"}));const Y=[O("span",{class:"q-focus-helper",ref:d})];return e.loading===!0&&e.percentage!==void 0&&Y.push(O("span",{class:"q-btn__progress absolute-full overflow-hidden"+(e.darkPercentage===!0?" q-btn__progress--dark":"")},[O("span",{class:"q-btn__progress-indicator fit block",style:V.value})])),Y.push(O("span",{class:"q-btn__content text-center col items-center q-anchor--skip "+o.value},S)),e.loading!==null&&Y.push(O(Sr,{name:"q-transition--fade"},()=>e.loading===!0?[O("span",{key:"loading",class:"absolute-full flex flex-center"},t.loading!==void 0?t.loading():[O(ps)])]:null)),zg(O(u.value,z.value,Y),[[Pp,y.value,void 0,A.value]])}}}),Op=bt({name:"QCardActions",props:{...xp,vertical:Boolean},setup(e,{slots:t}){const n=Vp(e),r=P(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>O("div",{class:r.value},Qt(t.default))}}),Lp=bt({name:"QCard",props:{...Xn,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=Ze(),r=Jn(e,n),i=P(()=>"q-card"+(r.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>O(e.tag,{class:i.value},Qt(t.default))}});function eT(e,t,n){let r;function i(){r!==void 0&&(Tu.remove(r),r=void 0)}return rn(()=>{e.value===!0&&i()}),{removeFromHistory:i,addToHistory(){r={condition:()=>n.value===!0,handler:t},Tu.add(r)}}}function tT(){let e=null;const t=Ze();function n(){e!==null&&(clearTimeout(e),e=null)}return Ea(n),rn(n),{removeTimeout:n,registerTimeout(r,i){n(),Mp(t)===!1&&(e=setTimeout(r,i))}}}function nT(){let e;const t=Ze();function n(){e=void 0}return Ea(n),rn(n),{removeTick:n,registerTick(r){e=r,At(()=>{e===r&&(Mp(t)===!1&&e(),e=void 0)})}}}const rT={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},iT=["beforeShow","show","beforeHide","hide"];function sT({showing:e,canShow:t,hideOnRouteChange:n,handleShow:r,handleHide:i,processOnMount:s}){const o=Ze(),{props:a,emit:l,proxy:u}=o;let c;function h(y){e.value===!0?g(y):f(y)}function f(y){if(a.disable===!0||y!==void 0&&y.qAnchorHandled===!0||t!==void 0&&t(y)!==!0)return;const A=a["onUpdate:modelValue"]!==void 0;A===!0&&(l("update:modelValue",!0),c=y,At(()=>{c===y&&(c=void 0)})),(a.modelValue===null||A===!1)&&d(y)}function d(y){e.value!==!0&&(e.value=!0,l("beforeShow",y),r!==void 0?r(y):l("show",y))}function g(y){if(a.disable===!0)return;const A=a["onUpdate:modelValue"]!==void 0;A===!0&&(l("update:modelValue",!1),c=y,At(()=>{c===y&&(c=void 0)})),(a.modelValue===null||A===!1)&&w(y)}function w(y){e.value!==!1&&(e.value=!1,l("beforeHide",y),i!==void 0?i(y):l("hide",y))}function v(y){a.disable===!0&&y===!0?a["onUpdate:modelValue"]!==void 0&&l("update:modelValue",!1):y===!0!==e.value&&(y===!0?d:w)(c)}Fe(()=>a.modelValue,v),n!==void 0&&Dp(o)===!0&&Fe(()=>u.$route.fullPath,()=>{n.value===!0&&e.value===!0&&g()}),s===!0&&Ci(()=>{v(a.modelValue)});const I={show:f,hide:g,toggle:h};return Object.assign(u,I),I}let pr=[],ys=[];function Np(e){ys=ys.filter(t=>t!==e)}function oT(e){Np(e),ys.push(e)}function od(e){Np(e),ys.length===0&&pr.length!==0&&(pr[pr.length-1](),pr=[])}function Lc(e){ys.length===0?e():pr.push(e)}function aT(e){pr=pr.filter(t=>t!==e)}let lT=1,uT=document.body;function Fp(e,t){const n=document.createElement("div");if(n.id=t!==void 0?`q-portal--${t}--${lT++}`:e,Uo.globalNodes!==void 0){const r=Uo.globalNodes.class;r!==void 0&&(n.className=r)}return uT.appendChild(n),n}function $p(e){e.remove()}const Cl=[];function cT(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function hT(e,t,n,r){const i=be(!1),s=be(!1);let o=null;const a={},l=r==="dialog"&&cT(e);function u(h){if(h===!0){od(a),s.value=!0;return}s.value=!1,i.value===!1&&(l===!1&&o===null&&(o=Fp(!1,r)),i.value=!0,Cl.push(e.proxy),oT(a))}function c(h){if(s.value=!1,h!==!0)return;od(a),i.value=!1;const f=Cl.indexOf(e.proxy);f!==-1&&Cl.splice(f,1),o!==null&&($p(o),o=null)}return Rc(()=>{c(!0)}),e.proxy.__qPortal=!0,Si(e.proxy,"contentEl",()=>t.value),{showPortal:u,hidePortal:c,portalIsActive:i,portalIsAccessible:s,renderPortal:()=>l===!0?n():i.value===!0?[O(eE,{to:o},n())]:void 0}}const fT=[null,document,document.body,document.scrollingElement,document.documentElement];function rV(e,t){let n=Fb(t);if(n===void 0){if(e==null)return window;n=e.closest(".scroll,.scroll-y,.overflow-auto")}return fT.includes(n)?window:n}function dT(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function mT(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}let ao;function iV(){if(ao!==void 0)return ao;const e=document.createElement("p"),t=document.createElement("div");Au(e,{width:"100%",height:"200px"}),Au(t,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);const n=e.offsetWidth;t.style.overflow="scroll";let r=e.offsetWidth;return n===r&&(r=t.clientWidth),t.remove(),ao=n-r,ao}function gT(e,t=!0){return!e||e.nodeType!==Node.ELEMENT_NODE?!1:t?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"]))}let Oi=0,Sl,Rl,zi,Pl=!1,ad,ld,ud,ar=null;function pT(e){yT(e)&&$t(e)}function yT(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=ob(e),n=e.shiftKey&&!e.deltaX,r=!n&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),i=n||r?e.deltaY:e.deltaX;for(let s=0;s<t.length;s++){const o=t[s];if(gT(o,r))return r?i<0&&o.scrollTop===0?!0:i>0&&o.scrollTop+o.clientHeight===o.scrollHeight:i<0&&o.scrollLeft===0?!0:i>0&&o.scrollLeft+o.clientWidth===o.scrollWidth}return!0}function cd(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function lo(e){Pl!==!0&&(Pl=!0,requestAnimationFrame(()=>{Pl=!1;const{height:t}=e.target,{clientHeight:n,scrollTop:r}=document.scrollingElement;(zi===void 0||t!==window.innerHeight)&&(zi=n-t,document.scrollingElement.scrollTop=r),r>zi&&(document.scrollingElement.scrollTop-=Math.ceil((r-zi)/8))}))}function hd(e){const t=document.body,n=window.visualViewport!==void 0;if(e==="add"){const{overflowY:r,overflowX:i}=window.getComputedStyle(t);Sl=mT(window),Rl=dT(window),ad=t.style.left,ld=t.style.top,ud=window.location.href,t.style.left=`-${Sl}px`,t.style.top=`-${Rl}px`,i!=="hidden"&&(i==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),r!=="hidden"&&(r==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,He.is.ios===!0&&(n===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",lo,It.passiveCapture),window.visualViewport.addEventListener("scroll",lo,It.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",cd,It.passiveCapture))}He.is.desktop===!0&&He.is.mac===!0&&window[`${e}EventListener`]("wheel",pT,It.notPassive),e==="remove"&&(He.is.ios===!0&&(n===!0?(window.visualViewport.removeEventListener("resize",lo,It.passiveCapture),window.visualViewport.removeEventListener("scroll",lo,It.passiveCapture)):window.removeEventListener("scroll",cd,It.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=ad,t.style.top=ld,window.location.href===ud&&window.scrollTo(Sl,Rl),zi=void 0)}function _T(e){let t="add";if(e===!0){if(Oi++,ar!==null){clearTimeout(ar),ar=null;return}if(Oi>1)return}else{if(Oi===0||(Oi--,Oi>0))return;if(t="remove",He.is.ios===!0&&He.is.nativeMobile===!0){ar!==null&&clearTimeout(ar),ar=setTimeout(()=>{hd(t),ar=null},100);return}}hd(t)}function vT(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,_T(t))}}}const Ir=[];let hi;function wT(e){hi=e.keyCode===27}function ET(){hi===!0&&(hi=!1)}function bT(e){hi===!0&&(hi=!1,gs(e,27)===!0&&Ir[Ir.length-1](e))}function Bp(e){window[e]("keydown",wT),window[e]("blur",ET),window[e]("keyup",bT),hi=!1}function TT(e){He.is.desktop===!0&&(Ir.push(e),Ir.length===1&&Bp("addEventListener"))}function fd(e){const t=Ir.indexOf(e);t>-1&&(Ir.splice(t,1),Ir.length===0&&Bp("removeEventListener"))}const Ar=[];function qp(e){Ar[Ar.length-1](e)}function IT(e){He.is.desktop===!0&&(Ar.push(e),Ar.length===1&&document.body.addEventListener("focusin",qp))}function dd(e){const t=Ar.indexOf(e);t>-1&&(Ar.splice(t,1),Ar.length===0&&document.body.removeEventListener("focusin",qp))}let uo=0;const AT={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},md={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var Up=bt({name:"QDialog",inheritAttrs:!1,props:{...rT,...Ip,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...iT,"shake","click","escapeKey"],setup(e,{slots:t,emit:n,attrs:r}){const i=Ze(),s=be(null),o=be(!1),a=be(!1);let l=null,u=null,c,h;const f=P(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:d}=vT(),{registerTimeout:g}=tT(),{registerTick:w,removeTick:v}=nT(),{transitionProps:I,transitionStyle:y}=Ap(e,()=>md[e.position][0],()=>md[e.position][1]),{showPortal:A,hidePortal:V,portalIsAccessible:$,renderPortal:z}=hT(i,s,Ve,"dialog"),{hide:F}=sT({showing:o,hideOnRouteChange:f,handleShow:S,handleHide:Y,processOnMount:!0}),{addToHistory:C,removeFromHistory:b}=eT(o,F,f),T=P(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${AT[e.position]}`+(a.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),D=P(()=>o.value===!0&&e.seamless!==!0),_=P(()=>e.autoClose===!0?{onClick:he}:{}),j=P(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${D.value===!0?"modal":"seamless"}`,r.class]);Fe(()=>e.maximized,ne=>{o.value===!0&&ie(ne)}),Fe(D,ne=>{d(ne),ne===!0?(IT(ye),TT(X)):(dd(ye),fd(X))});function S(ne){C(),u=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,ie(e.maximized),A(),a.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),w(K)):v(),g(()=>{if(i.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:oe,bottom:R}=document.activeElement.getBoundingClientRect(),{innerHeight:Z}=window,W=window.visualViewport!==void 0?window.visualViewport.height:Z;oe>0&&R>W/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-W,R>=Z?1/0:Math.ceil(document.scrollingElement.scrollTop+R-W/2))),document.activeElement.scrollIntoView()}h=!0,s.value.click(),h=!1}A(!0),a.value=!1,n("show",ne)},e.transitionDuration)}function Y(ne){v(),b(),xe(!0),a.value=!0,V(),u!==null&&(((ne&&ne.type.indexOf("key")===0?u.closest('[tabindex]:not([tabindex^="-"])'):void 0)||u).focus(),u=null),g(()=>{V(!0),a.value=!1,n("hide",ne)},e.transitionDuration)}function K(ne){Lc(()=>{let oe=s.value;oe===null||oe.contains(document.activeElement)===!0||(oe=(ne!==""?oe.querySelector(ne):null)||oe.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||oe.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||oe.querySelector("[autofocus], [data-autofocus]")||oe,oe.focus({preventScroll:!0}))})}function x(ne){ne&&typeof ne.focus=="function"?ne.focus({preventScroll:!0}):K(),n("shake");const oe=s.value;oe!==null&&(oe.classList.remove("q-animate--scale"),oe.classList.add("q-animate--scale"),l!==null&&clearTimeout(l),l=setTimeout(()=>{l=null,s.value!==null&&(oe.classList.remove("q-animate--scale"),K())},170))}function X(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&x():(n("escapeKey"),F()))}function xe(ne){l!==null&&(clearTimeout(l),l=null),(ne===!0||o.value===!0)&&(ie(!1),e.seamless!==!0&&(d(!1),dd(ye),fd(X))),ne!==!0&&(u=null)}function ie(ne){ne===!0?c!==!0&&(uo<1&&document.body.classList.add("q-body--dialog"),uo++,c=!0):c===!0&&(uo<2&&document.body.classList.remove("q-body--dialog"),uo--,c=!1)}function he(ne){h!==!0&&(F(ne),n("click",ne))}function M(ne){e.persistent!==!0&&e.noBackdropDismiss!==!0?F(ne):e.noShake!==!0&&x()}function ye(ne){e.allowFocusOutside!==!0&&$.value===!0&&$b(s.value,ne.target)!==!0&&K('[tabindex]:not([tabindex="-1"])')}Object.assign(i.proxy,{focus:K,shake:x,__updateRefocusTarget(ne){u=ne||null}}),rn(xe);function Ve(){return O("div",{role:"dialog","aria-modal":D.value===!0?"true":"false",...r,class:j.value},[O(Sr,{name:"q-transition--fade",appear:!0},()=>D.value===!0?O("div",{class:"q-dialog__backdrop fixed-full",style:y.value,"aria-hidden":"true",tabindex:-1,onClick:M}):null),O(Sr,I.value,()=>o.value===!0?O("div",{ref:s,class:T.value,style:y.value,tabindex:-1,..._.value},Qt(t.default)):null)])}return z}}),CT=!1;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let jp;const ka=e=>jp=e,zp=Symbol();function Cu(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Zi;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Zi||(Zi={}));function ST(){const e=_g(!0),t=e.run(()=>be({}));let n=[],r=[];const i=Lr({install(s){ka(i),i._a=s,s.provide(zp,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!CT?r.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}const Hp=()=>{};function gd(e,t,n,r=Hp){e.push(t);const i=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),r())};return!n&&vg()&&Pw(i),i}function Kr(e,...t){e.slice().forEach(n=>{n(...t)})}const RT=e=>e();function Su(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],i=e[n];Cu(i)&&Cu(r)&&e.hasOwnProperty(n)&&!ze(r)&&!Nn(r)?e[n]=Su(i,r):e[n]=r}return e}const PT=Symbol();function kT(e){return!Cu(e)||!e.hasOwnProperty(PT)}const{assign:xn}=Object;function xT(e){return!!(ze(e)&&e.effect)}function VT(e,t,n,r){const{state:i,actions:s,getters:o}=t,a=n.state.value[e];let l;function u(){a||(n.state.value[e]=i?i():{});const c=o0(n.state.value[e]);return xn(c,s,Object.keys(o||{}).reduce((h,f)=>(h[f]=Lr(P(()=>{ka(n);const d=n._s.get(e);return o[f].call(d,d)})),h),{}))}return l=Kp(e,u,t,n,r,!0),l}function Kp(e,t,n={},r,i,s){let o;const a=xn({actions:{}},n),l={deep:!0};let u,c,h=[],f=[],d;const g=r.state.value[e];!s&&!g&&(r.state.value[e]={}),be({});let w;function v(C){let b;u=c=!1,typeof C=="function"?(C(r.state.value[e]),b={type:Zi.patchFunction,storeId:e,events:d}):(Su(r.state.value[e],C),b={type:Zi.patchObject,payload:C,storeId:e,events:d});const T=w=Symbol();At().then(()=>{w===T&&(u=!0)}),c=!0,Kr(h,b,r.state.value[e])}const I=s?function(){const{state:b}=n,T=b?b():{};this.$patch(D=>{xn(D,T)})}:Hp;function y(){o.stop(),h=[],f=[],r._s.delete(e)}function A(C,b){return function(){ka(r);const T=Array.from(arguments),D=[],_=[];function j(K){D.push(K)}function S(K){_.push(K)}Kr(f,{args:T,name:C,store:$,after:j,onError:S});let Y;try{Y=b.apply(this&&this.$id===e?this:$,T)}catch(K){throw Kr(_,K),K}return Y instanceof Promise?Y.then(K=>(Kr(D,K),K)).catch(K=>(Kr(_,K),Promise.reject(K))):(Kr(D,Y),Y)}}const V={_p:r,$id:e,$onAction:gd.bind(null,f),$patch:v,$reset:I,$subscribe(C,b={}){const T=gd(h,C,b.detached,()=>D()),D=o.run(()=>Fe(()=>r.state.value[e],_=>{(b.flush==="sync"?c:u)&&C({storeId:e,type:Zi.direct,events:d},_)},xn({},l,b)));return T},$dispose:y},$=Or(V);r._s.set(e,$);const z=r._a&&r._a.runWithContext||RT,F=r._e.run(()=>(o=_g(),z(()=>o.run(t))));for(const C in F){const b=F[C];if(ze(b)&&!xT(b)||Nn(b))s||(g&&kT(b)&&(ze(b)?b.value=g[C]:Su(b,g[C])),r.state.value[e][C]=b);else if(typeof b=="function"){const T=A(C,b);F[C]=T,a.actions[C]=b}}return xn($,F),xn(pe($),F),Object.defineProperty($,"$state",{get:()=>r.state.value[e],set:C=>{v(b=>{xn(b,C)})}}),r._p.forEach(C=>{xn($,o.run(()=>C({store:$,app:r._a,pinia:r,options:a})))}),g&&s&&n.hydrate&&n.hydrate($.$state,g),u=!0,c=!0,$}function xa(e,t,n){let r,i;const s=typeof t=="function";typeof e=="string"?(r=e,i=s?n:t):(i=e,r=e.id);function o(a,l){const u=U0();return a=a||(u?Xt(zp,null):null),a&&ka(a),a=jp,a._s.has(r)||(s?Kp(r,t,i,a):VT(r,i,a)),a._s.get(r)}return o.$id=r,o}const Wp=xa("layout",{state:()=>({loadingLayout:!1,rightDrawerOpen:!1,exitGameDialog:!1,helpDialog:!1,cardsDialog:!1,checklistDialog:!1,placeDialog:!1}),getters:{},actions:{}});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},DT=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Qp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,d=u&63;l||(d=64,o||(f=64)),r.push(n[c],n[h],n[f],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Gp(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):DT(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const h=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new MT;const f=s<<2|a>>4;if(r.push(f),u!==64){const d=a<<4&240|u>>2;if(r.push(d),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class MT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OT=function(e){const t=Gp(e);return Qp.encodeByteArray(t,!0)},zo=function(e){return OT(e).replace(/\./g,"")},LT=function(e){try{return Qp.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=()=>NT().__FIREBASE_DEFAULTS__,$T=()=>{if(typeof process=="undefined"||typeof process.env=="undefined")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},BT=()=>{if(typeof document=="undefined")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&LT(e[1]);return t&&JSON.parse(t)},Yp=()=>{try{return FT()||$T()||BT()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},qT=e=>{var t,n;return(n=(t=Yp())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},UT=e=>{const t=qT(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Xp=()=>{var e;return(e=Yp())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[zo(JSON.stringify(n)),zo(JSON.stringify(o)),a].join(".")}function HT(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Jp(){try{return typeof indexedDB=="object"}catch{return!1}}function Zp(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}function KT(){return!(typeof navigator=="undefined"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="FirebaseError";class Zn extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=WT,Object.setPrototypeOf(this,Zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Va.prototype.create)}}class Va{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?GT(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Zn(i,a,r)}}function GT(e,t){return e.replace(QT,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const QT=/\{\$([^}]+)}/g;function Ho(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(pd(s)&&pd(o)){if(!Ho(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function pd(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=1e3,XT=2,JT=4*60*60*1e3,ZT=.5;function yd(e,t=YT,n=XT){const r=t*Math.pow(n,e),i=Math.round(ZT*r*(Math.random()-.5)*2);return Math.min(JT,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(e){return e&&e._delegate?e._delegate:e}class bn{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new jT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(nI(t))try{this.getOrInitializeService({instanceIdentifier:lr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=lr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=lr){return this.instances.has(t)}getOptions(t=lr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tI(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=lr){return this.component?this.component.multipleInstances?t:lr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tI(e){return e===lr?void 0:e}function nI(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new eI(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ae||(Ae={}));const iI={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},sI=Ae.INFO,oI={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},aI=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=oI[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Nc{constructor(t){this.name=t,this._logLevel=sI,this._logHandler=aI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ae))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?iI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...t),this._logHandler(this,Ae.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...t),this._logHandler(this,Ae.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...t),this._logHandler(this,Ae.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...t),this._logHandler(this,Ae.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...t),this._logHandler(this,Ae.ERROR,...t)}}const lI=(e,t)=>t.some(n=>e instanceof n);let _d,vd;function uI(){return _d||(_d=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cI(){return vd||(vd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ey=new WeakMap,Ru=new WeakMap,ty=new WeakMap,kl=new WeakMap,Fc=new WeakMap;function hI(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n($n(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&ey.set(n,e)}).catch(()=>{}),Fc.set(t,e),t}function fI(e){if(Ru.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Ru.set(e,t)}let Pu={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ru.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ty.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $n(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function dI(e){Pu=e(Pu)}function mI(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(xl(this),t,...n);return ty.set(r,t.sort?t.sort():[t]),$n(r)}:cI().includes(e)?function(...t){return e.apply(xl(this),t),$n(ey.get(this))}:function(...t){return $n(e.apply(xl(this),t))}}function gI(e){return typeof e=="function"?mI(e):(e instanceof IDBTransaction&&fI(e),lI(e,uI())?new Proxy(e,Pu):e)}function $n(e){if(e instanceof IDBRequest)return hI(e);if(kl.has(e))return kl.get(e);const t=gI(e);return t!==e&&(kl.set(e,t),Fc.set(t,e)),t}const xl=e=>Fc.get(e);function pI(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=$n(o);return r&&o.addEventListener("upgradeneeded",l=>{r($n(o.result),l.oldVersion,l.newVersion,$n(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const yI=["get","getKey","getAll","getAllKeys","count"],_I=["put","add","delete","clear"],Vl=new Map;function wd(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Vl.get(t))return Vl.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=_I.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||yI.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Vl.set(t,s),s}dI(e=>({...e,get:(t,n,r)=>wd(t,n)||e.get(t,n,r),has:(t,n)=>!!wd(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function wI(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ku="@firebase/app",Ed="0.9.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=new Nc("@firebase/app"),EI="@firebase/app-compat",bI="@firebase/analytics-compat",TI="@firebase/analytics",II="@firebase/app-check-compat",AI="@firebase/app-check",CI="@firebase/auth",SI="@firebase/auth-compat",RI="@firebase/database",PI="@firebase/database-compat",kI="@firebase/functions",xI="@firebase/functions-compat",VI="@firebase/installations",DI="@firebase/installations-compat",MI="@firebase/messaging",OI="@firebase/messaging-compat",LI="@firebase/performance",NI="@firebase/performance-compat",FI="@firebase/remote-config",$I="@firebase/remote-config-compat",BI="@firebase/storage",qI="@firebase/storage-compat",UI="@firebase/firestore",jI="@firebase/firestore-compat",zI="firebase",HI="10.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu="[DEFAULT]",KI={[ku]:"fire-core",[EI]:"fire-core-compat",[TI]:"fire-analytics",[bI]:"fire-analytics-compat",[AI]:"fire-app-check",[II]:"fire-app-check-compat",[CI]:"fire-auth",[SI]:"fire-auth-compat",[RI]:"fire-rtdb",[PI]:"fire-rtdb-compat",[kI]:"fire-fn",[xI]:"fire-fn-compat",[VI]:"fire-iid",[DI]:"fire-iid-compat",[MI]:"fire-fcm",[OI]:"fire-fcm-compat",[LI]:"fire-perf",[NI]:"fire-perf-compat",[FI]:"fire-rc",[$I]:"fire-rc-compat",[BI]:"fire-gcs",[qI]:"fire-gcs-compat",[UI]:"fire-fst",[jI]:"fire-fst-compat","fire-js":"fire-js",[zI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=new Map,Vu=new Map;function WI(e,t){try{e.container.addComponent(t)}catch(n){Pr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Kn(e){const t=e.name;if(Vu.has(t))return Pr.debug(`There were multiple attempts to register component ${t}.`),!1;Vu.set(t,e);for(const n of Ko.values())WI(n,e);return!0}function Ns(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Bn=new Va("app","Firebase",GI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Bn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=HI;function ny(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:xu,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Bn.create("bad-app-name",{appName:String(i)});if(n||(n=Xp()),!n)throw Bn.create("no-options");const s=Ko.get(i);if(s){if(Ho(n,s.options)&&Ho(r,s.config))return s;throw Bn.create("duplicate-app",{appName:i})}const o=new rI(i);for(const l of Vu.values())o.addComponent(l);const a=new QI(n,r,o);return Ko.set(i,a),a}function ry(e=xu){const t=Ko.get(e);if(!t&&e===xu&&Xp())return ny();if(!t)throw Bn.create("no-app",{appName:e});return t}function fn(e,t,n){var r;let i=(r=KI[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Pr.warn(a.join(" "));return}Kn(new bn(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="firebase-heartbeat-database",JI=1,_s="firebase-heartbeat-store";let Dl=null;function iy(){return Dl||(Dl=pI(XI,JI,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(_s)}}}).catch(e=>{throw Bn.create("idb-open",{originalErrorMessage:e.message})})),Dl}async function ZI(e){try{return await(await iy()).transaction(_s).objectStore(_s).get(sy(e))}catch(t){if(t instanceof Zn)Pr.warn(t.message);else{const n=Bn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Pr.warn(n.message)}}}async function bd(e,t){try{const r=(await iy()).transaction(_s,"readwrite");await r.objectStore(_s).put(t,sy(e)),await r.done}catch(n){if(n instanceof Zn)Pr.warn(n.message);else{const r=Bn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Pr.warn(r.message)}}}function sy(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=1024,tA=30*24*60*60*1e3;class nA{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Td();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=tA}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Td(),{heartbeatsToSend:n,unsentEntries:r}=rA(this._heartbeatsCache.heartbeats),i=zo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Td(){return new Date().toISOString().substring(0,10)}function rA(e,t=eA){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Id(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Id(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class iA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jp()?Zp().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await ZI(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return bd(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return bd(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Id(e){return zo(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(e){Kn(new bn("platform-logger",t=>new vI(t),"PRIVATE")),Kn(new bn("heartbeat",t=>new nA(t),"PRIVATE")),fn(ku,Ed,e),fn(ku,Ed,"esm2017"),fn("fire-js","")}sA("");var oA="firebase",aA="10.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn(oA,aA,"app");const lA=(e,t)=>t.some(n=>e instanceof n);let Ad,Cd;function uA(){return Ad||(Ad=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cA(){return Cd||(Cd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oy=new WeakMap,Du=new WeakMap,ay=new WeakMap,Ml=new WeakMap,$c=new WeakMap;function hA(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(qn(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&oy.set(n,e)}).catch(()=>{}),$c.set(t,e),t}function fA(e){if(Du.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Du.set(e,t)}let Mu={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Du.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ay.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function dA(e){Mu=e(Mu)}function mA(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Ol(this),t,...n);return ay.set(r,t.sort?t.sort():[t]),qn(r)}:cA().includes(e)?function(...t){return e.apply(Ol(this),t),qn(oy.get(this))}:function(...t){return qn(e.apply(Ol(this),t))}}function gA(e){return typeof e=="function"?mA(e):(e instanceof IDBTransaction&&fA(e),lA(e,uA())?new Proxy(e,Mu):e)}function qn(e){if(e instanceof IDBRequest)return hA(e);if(Ml.has(e))return Ml.get(e);const t=gA(e);return t!==e&&(Ml.set(e,t),$c.set(t,e)),t}const Ol=e=>$c.get(e);function pA(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=qn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(qn(o.result),l.oldVersion,l.newVersion,qn(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const yA=["get","getKey","getAll","getAllKeys","count"],_A=["put","add","delete","clear"],Ll=new Map;function Sd(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Ll.get(t))return Ll.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=_A.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||yA.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Ll.set(t,s),s}dA(e=>({...e,get:(t,n,r)=>Sd(t,n)||e.get(t,n,r),has:(t,n)=>!!Sd(t,n)||e.has(t,n)}));const ly="@firebase/installations",Bc="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy=1e4,cy=`w:${Bc}`,hy="FIS_v2",vA="https://firebaseinstallations.googleapis.com/v1",wA=60*60*1e3,EA="installations",bA="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},kr=new Va(EA,bA,TA);function fy(e){return e instanceof Zn&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy({projectId:e}){return`${vA}/projects/${e}/installations`}function my(e){return{token:e.token,requestStatus:2,expiresIn:AA(e.expiresIn),creationTime:Date.now()}}async function gy(e,t){const r=(await t.json()).error;return kr.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function py({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function IA(e,{refreshToken:t}){const n=py(e);return n.append("Authorization",CA(t)),n}async function yy(e){const t=await e();return t.status>=500&&t.status<600?e():t}function AA(e){return Number(e.replace("s","000"))}function CA(e){return`${hy} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SA({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=dy(e),i=py(e),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:hy,appId:e.appId,sdkVersion:cy},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await yy(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:my(u.authToken)}}else throw await gy("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=/^[cdef][\w-]{21}$/,Ou="";function kA(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=xA(e);return PA.test(n)?n:Ou}catch{return Ou}}function xA(e){return RA(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=new Map;function wy(e,t){const n=Da(e);Ey(n,t),VA(n,t)}function Ey(e,t){const n=vy.get(e);if(!!n)for(const r of n)r(t)}function VA(e,t){const n=DA();n&&n.postMessage({key:e,fid:t}),MA()}let yr=null;function DA(){return!yr&&"BroadcastChannel"in self&&(yr=new BroadcastChannel("[Firebase] FID Change"),yr.onmessage=e=>{Ey(e.data.key,e.data.fid)}),yr}function MA(){vy.size===0&&yr&&(yr.close(),yr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="firebase-installations-database",LA=1,xr="firebase-installations-store";let Nl=null;function qc(){return Nl||(Nl=pA(OA,LA,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(xr)}}})),Nl}async function Wo(e,t){const n=Da(e),i=(await qc()).transaction(xr,"readwrite"),s=i.objectStore(xr),o=await s.get(n);return await s.put(t,n),await i.done,(!o||o.fid!==t.fid)&&wy(e,t.fid),t}async function by(e){const t=Da(e),r=(await qc()).transaction(xr,"readwrite");await r.objectStore(xr).delete(t),await r.done}async function Ma(e,t){const n=Da(e),i=(await qc()).transaction(xr,"readwrite"),s=i.objectStore(xr),o=await s.get(n),a=t(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&wy(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(e){let t;const n=await Ma(e.appConfig,r=>{const i=NA(r),s=FA(e,i);return t=s.registrationPromise,s.installationEntry});return n.fid===Ou?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function NA(e){const t=e||{fid:kA(),registrationStatus:0};return Ty(t)}function FA(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(kr.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=$A(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:BA(e)}:{installationEntry:t}}async function $A(e,t){try{const n=await SA(e,t);return Wo(e.appConfig,n)}catch(n){throw fy(n)&&n.customData.serverCode===409?await by(e.appConfig):await Wo(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function BA(e){let t=await Rd(e.appConfig);for(;t.registrationStatus===1;)await _y(100),t=await Rd(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Uc(e);return r||n}return t}function Rd(e){return Ma(e,t=>{if(!t)throw kr.create("installation-not-found");return Ty(t)})}function Ty(e){return qA(e)?{fid:e.fid,registrationStatus:0}:e}function qA(e){return e.registrationStatus===1&&e.registrationTime+uy<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UA({appConfig:e,heartbeatServiceProvider:t},n){const r=jA(e,n),i=IA(e,n),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:cy,appId:e.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await yy(()=>fetch(r,a));if(l.ok){const u=await l.json();return my(u)}else throw await gy("Generate Auth Token",l)}function jA(e,{fid:t}){return`${dy(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jc(e,t=!1){let n;const r=await Ma(e.appConfig,s=>{if(!Iy(s))throw kr.create("not-registered");const o=s.authToken;if(!t&&KA(o))return s;if(o.requestStatus===1)return n=zA(e,t),s;{if(!navigator.onLine)throw kr.create("app-offline");const a=GA(s);return n=HA(e,a),a}});return n?await n:r.authToken}async function zA(e,t){let n=await Pd(e.appConfig);for(;n.authToken.requestStatus===1;)await _y(100),n=await Pd(e.appConfig);const r=n.authToken;return r.requestStatus===0?jc(e,t):r}function Pd(e){return Ma(e,t=>{if(!Iy(t))throw kr.create("not-registered");const n=t.authToken;return QA(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function HA(e,t){try{const n=await UA(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Wo(e.appConfig,r),n}catch(n){if(fy(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await by(e.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Wo(e.appConfig,r)}throw n}}function Iy(e){return e!==void 0&&e.registrationStatus===2}function KA(e){return e.requestStatus===2&&!WA(e)}function WA(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+wA}function GA(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function QA(e){return e.requestStatus===1&&e.requestTime+uy<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YA(e){const t=e,{installationEntry:n,registrationPromise:r}=await Uc(t);return r?r.catch(console.error):jc(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XA(e,t=!1){const n=e;return await JA(n),(await jc(n,t)).token}async function JA(e){const{registrationPromise:t}=await Uc(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(e){if(!e||!e.options)throw Fl("App Configuration");if(!e.name)throw Fl("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Fl(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Fl(e){return kr.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay="installations",eC="installations-internal",tC=e=>{const t=e.getProvider("app").getImmediate(),n=ZA(t),r=Ns(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},nC=e=>{const t=e.getProvider("app").getImmediate(),n=Ns(t,Ay).getImmediate();return{getId:()=>YA(n),getToken:i=>XA(n,i)}};function rC(){Kn(new bn(Ay,tC,"PUBLIC")),Kn(new bn(eC,nC,"PRIVATE"))}rC();fn(ly,Bc);fn(ly,Bc,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go="analytics",iC="firebase_id",sC="origin",oC=60*1e3,aC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zc="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt=new Nc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',["no-client-id"]:'The "client_id" field is empty.',["invalid-gtag-resource"]:"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Dt=new Va("analytics","Analytics",lC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(e){if(!e.startsWith(zc)){const t=Dt.create("invalid-gtag-resource",{gtagURL:e});return Rt.warn(t.message),""}return e}function Cy(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function cC(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function hC(e,t){const n=cC("firebase-js-sdk-policy",{createScriptURL:uC}),r=document.createElement("script"),i=`${zc}?l=${e}&id=${t}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function fC(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function dC(e,t,n,r,i,s){const o=r[i];try{if(o)await t[o];else{const l=(await Cy(n)).find(u=>u.measurementId===i);l&&await t[l.appId]}}catch(a){Rt.error(a)}e("config",i,s)}async function mC(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await Cy(n);for(const l of o){const u=a.find(h=>h.measurementId===l),c=u&&t[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(s){Rt.error(s)}}function gC(e,t,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await mC(e,t,n,a,l)}else if(s==="config"){const[a,l]=o;await dC(e,t,n,r,a,l)}else if(s==="consent"){const[a]=o;e("consent","update",a)}else if(s==="get"){const[a,l,u]=o;e("get",a,l,u)}else if(s==="set"){const[a]=o;e("set",a)}else e(s,...o)}catch(a){Rt.error(a)}}return i}function pC(e,t,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=gC(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}function yC(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(zc)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=30,vC=1e3;class wC{constructor(t={},n=vC){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const Sy=new wC;function EC(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function bC(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:EC(r)},s=aC.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((t=l.error)===null||t===void 0)&&t.message&&(a=l.error.message)}catch{}throw Dt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function TC(e,t=Sy,n){const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw Dt.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Dt.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new CC;return setTimeout(async()=>{a.abort()},n!==void 0?n:oC),Ry({appId:r,apiKey:i,measurementId:s},o,a,t)}async function Ry(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=Sy){var s;const{appId:o,measurementId:a}=e;try{await IC(r,t)}catch(l){if(a)return Rt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await bC(e);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!AC(u)){if(i.deleteThrottleMetadata(o),a)return Rt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?yd(n,i.intervalMillis,_C):yd(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,h),Rt.debug(`Calling attemptFetch again in ${c} millis`),Ry(e,h,r,i)}}function IC(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(Dt.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function AC(e){if(!(e instanceof Zn)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class CC{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function SC(e,t,n,r,i){if(i&&i.global){e("event",n,r);return}else{const s=await t,o=Object.assign(Object.assign({},r),{send_to:s});e("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(){if(Jp())try{await Zp()}catch(e){return Rt.warn(Dt.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Rt.warn(Dt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function PC(e,t,n,r,i,s,o){var a;const l=TC(e);l.then(d=>{n[d.measurementId]=d.appId,e.options.measurementId&&d.measurementId!==e.options.measurementId&&Rt.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${d.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(d=>Rt.error(d)),t.push(l);const u=RC().then(d=>{if(d)return r.getId()}),[c,h]=await Promise.all([l,u]);yC(s)||hC(s,c.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[sC]="firebase",f.update=!0,h!=null&&(f[iC]=h),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(t){this.app=t}_delete(){return delete es[this.app.options.appId],Promise.resolve()}}let es={},kd=[];const xd={};let $l="dataLayer",xC="gtag",Vd,Py,Dd=!1;function VC(){const e=[];if(HT()&&e.push("This is a browser extension environment."),KT()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Dt.create("invalid-analytics-context",{errorInfo:t});Rt.warn(n.message)}}function DC(e,t,n){VC();const r=e.options.appId;if(!r)throw Dt.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Rt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Dt.create("no-api-key");if(es[r]!=null)throw Dt.create("already-exists",{id:r});if(!Dd){fC($l);const{wrappedGtag:s,gtagCore:o}=pC(es,kd,xd,$l,xC);Py=s,Vd=o,Dd=!0}return es[r]=PC(e,kd,xd,t,Vd,$l,n),new kC(e)}function MC(e=ry()){e=Ut(e);const t=Ns(e,Go);return t.isInitialized()?t.getImmediate():OC(e)}function OC(e,t={}){const n=Ns(e,Go);if(n.isInitialized()){const i=n.getImmediate();if(Ho(t,n.getOptions()))return i;throw Dt.create("already-initialized")}return n.initialize({options:t})}function LC(e,t,n,r){e=Ut(e),SC(Py,es[e.app.options.appId],t,n,r).catch(i=>Rt.error(i))}const Md="@firebase/analytics",Od="0.10.0";function NC(){Kn(new bn(Go,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return DC(r,i,n)},"PUBLIC")),Kn(new bn("analytics-internal",e,"PRIVATE")),fn(Md,Od),fn(Md,Od,"esm2017");function e(t){try{const n=t.getProvider(Go).getImmediate();return{logEvent:(r,i,s)=>LC(n,r,i,s)}}catch(n){throw Dt.create("interop-component-reg-failed",{reason:n})}}}NC();var FC=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Q,Hc=Hc||{},de=FC||self;function Oa(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Fs(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function $C(e){return Object.prototype.hasOwnProperty.call(e,Bl)&&e[Bl]||(e[Bl]=++BC)}var Bl="closure_uid_"+(1e9*Math.random()>>>0),BC=0;function qC(e,t,n){return e.call.apply(e.bind,arguments)}function UC(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function pt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?pt=qC:pt=UC,pt.apply(null,arguments)}function co(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function rt(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function er(){this.s=this.s,this.o=this.o}var jC=0;er.prototype.s=!1;er.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),jC!=0)&&$C(this)};er.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ky=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Kc(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ld(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Oa(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function yt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}yt.prototype.h=function(){this.defaultPrevented=!0};var zC=function(){if(!de.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{de.addEventListener("test",()=>{},t),de.removeEventListener("test",()=>{},t)}catch{}return e}();function vs(e){return/^[\s\xa0]*$/.test(e)}function La(){var e=de.navigator;return e&&(e=e.userAgent)?e:""}function un(e){return La().indexOf(e)!=-1}function Wc(e){return Wc[" "](e),e}Wc[" "]=function(){};function HC(e,t){var n=NS;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var KC=un("Opera"),fi=un("Trident")||un("MSIE"),xy=un("Edge"),Lu=xy||fi,Vy=un("Gecko")&&!(La().toLowerCase().indexOf("webkit")!=-1&&!un("Edge"))&&!(un("Trident")||un("MSIE"))&&!un("Edge"),WC=La().toLowerCase().indexOf("webkit")!=-1&&!un("Edge");function Dy(){var e=de.document;return e?e.documentMode:void 0}var Nu;e:{var ql="",Ul=function(){var e=La();if(Vy)return/rv:([^\);]+)(\)|;)/.exec(e);if(xy)return/Edge\/([\d\.]+)/.exec(e);if(fi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(WC)return/WebKit\/(\S+)/.exec(e);if(KC)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Ul&&(ql=Ul?Ul[1]:""),fi){var jl=Dy();if(jl!=null&&jl>parseFloat(ql)){Nu=String(jl);break e}}Nu=ql}var Fu;if(de.document&&fi){var Nd=Dy();Fu=Nd||parseInt(Nu,10)||void 0}else Fu=void 0;var GC=Fu;function ws(e,t){if(yt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Vy){e:{try{Wc(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:QC[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ws.$.h.call(this)}}rt(ws,yt);var QC={2:"touch",3:"pen",4:"mouse"};ws.prototype.h=function(){ws.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var $s="closure_listenable_"+(1e6*Math.random()|0),YC=0;function XC(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++YC,this.fa=this.ia=!1}function Na(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Gc(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function JC(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function My(e){const t={};for(const n in e)t[n]=e[n];return t}const Fd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Oy(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<Fd.length;s++)n=Fd[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Fa(e){this.src=e,this.g={},this.h=0}Fa.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=Bu(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new XC(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function $u(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=ky(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Na(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Bu(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var Qc="closure_lm_"+(1e6*Math.random()|0),zl={};function Ly(e,t,n,r,i){if(r&&r.once)return Fy(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Ly(e,t[s],n,r,i);return null}return n=Jc(n),e&&e[$s]?e.O(t,n,Fs(r)?!!r.capture:!!r,i):Ny(e,t,n,!1,r,i)}function Ny(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Fs(i)?!!i.capture:!!i,a=Xc(e);if(a||(e[Qc]=a=new Fa(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=ZC(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)zC||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(By(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function ZC(){function e(n){return t.call(e.src,e.listener,n)}const t=eS;return e}function Fy(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Fy(e,t[s],n,r,i);return null}return n=Jc(n),e&&e[$s]?e.P(t,n,Fs(r)?!!r.capture:!!r,i):Ny(e,t,n,!0,r,i)}function $y(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)$y(e,t[s],n,r,i);else r=Fs(r)?!!r.capture:!!r,n=Jc(n),e&&e[$s]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Bu(s,n,r,i),-1<n&&(Na(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=Xc(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Bu(t,n,r,i)),(n=-1<e?t[e]:null)&&Yc(n))}function Yc(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[$s])$u(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(By(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Xc(t))?($u(n,e),n.h==0&&(n.src=null,t[Qc]=null)):Na(e)}}}function By(e){return e in zl?zl[e]:zl[e]="on"+e}function eS(e,t){if(e.fa)e=!0;else{t=new ws(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Yc(e),e=n.call(r,t)}return e}function Xc(e){return e=e[Qc],e instanceof Fa?e:null}var Hl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jc(e){return typeof e=="function"?e:(e[Hl]||(e[Hl]=function(t){return e.handleEvent(t)}),e[Hl])}function nt(){er.call(this),this.i=new Fa(this),this.S=this,this.J=null}rt(nt,er);nt.prototype[$s]=!0;nt.prototype.removeEventListener=function(e,t,n,r){$y(this,e,t,n,r)};function ut(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new yt(t,e);else if(t instanceof yt)t.target=t.target||e;else{var i=t;t=new yt(r,e),Oy(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ho(o,r,!0,t)&&i}if(o=t.g=e,i=ho(o,r,!0,t)&&i,i=ho(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=ho(o,r,!1,t)&&i}nt.prototype.N=function(){if(nt.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Na(n[r]);delete e.g[t],e.h--}}this.J=null};nt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};nt.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function ho(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&$u(e.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Zc=de.JSON.stringify;class tS{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function nS(){var e=eh;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class rS{constructor(){this.h=this.g=null}add(t,n){const r=qy.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var qy=new tS(()=>new iS,e=>e.reset());class iS{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function sS(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function oS(e){de.setTimeout(()=>{throw e},0)}let Es,bs=!1,eh=new rS,Uy=()=>{const e=de.Promise.resolve(void 0);Es=()=>{e.then(aS)}};var aS=()=>{for(var e;e=nS();){try{e.h.call(e.g)}catch(n){oS(n)}var t=qy;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}bs=!1};function $a(e,t){nt.call(this),this.h=e||1,this.g=t||de,this.j=pt(this.qb,this),this.l=Date.now()}rt($a,nt);Q=$a.prototype;Q.ga=!1;Q.T=null;Q.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ut(this,"tick"),this.ga&&(th(this),this.start()))}};Q.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function th(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}Q.N=function(){$a.$.N.call(this),th(this),delete this.g};function nh(e,t,n){if(typeof e=="function")n&&(e=pt(e,n));else if(e&&typeof e.handleEvent=="function")e=pt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:de.setTimeout(e,t||0)}function jy(e){e.g=nh(()=>{e.g=null,e.i&&(e.i=!1,jy(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class lS extends er{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:jy(this)}N(){super.N(),this.g&&(de.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ts(e){er.call(this),this.h=e,this.g={}}rt(Ts,er);var $d=[];function zy(e,t,n,r){Array.isArray(n)||(n&&($d[0]=n.toString()),n=$d);for(var i=0;i<n.length;i++){var s=Ly(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Hy(e){Gc(e.g,function(t,n){this.g.hasOwnProperty(n)&&Yc(t)},e),e.g={}}Ts.prototype.N=function(){Ts.$.N.call(this),Hy(this)};Ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ba(){this.g=!0}Ba.prototype.Ea=function(){this.g=!1};function uS(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function cS(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function ei(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+fS(e,n)+(r?" "+r:"")})}function hS(e,t){e.info(function(){return"TIMEOUT: "+t})}Ba.prototype.info=function(){};function fS(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Zc(n)}catch{return t}}var Nr={},Bd=null;function qa(){return Bd=Bd||new nt}Nr.Ta="serverreachability";function Ky(e){yt.call(this,Nr.Ta,e)}rt(Ky,yt);function Is(e){const t=qa();ut(t,new Ky(t))}Nr.STAT_EVENT="statevent";function Wy(e,t){yt.call(this,Nr.STAT_EVENT,e),this.stat=t}rt(Wy,yt);function Et(e){const t=qa();ut(t,new Wy(t,e))}Nr.Ua="timingevent";function Gy(e,t){yt.call(this,Nr.Ua,e),this.size=t}rt(Gy,yt);function Bs(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return de.setTimeout(function(){e()},t)}var Ua={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Qy={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function rh(){}rh.prototype.h=null;function qd(e){return e.h||(e.h=e.i())}function Yy(){}var qs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ih(){yt.call(this,"d")}rt(ih,yt);function sh(){yt.call(this,"c")}rt(sh,yt);var qu;function ja(){}rt(ja,rh);ja.prototype.g=function(){return new XMLHttpRequest};ja.prototype.i=function(){return{}};qu=new ja;function Us(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Ts(this),this.P=dS,e=Lu?125:void 0,this.V=new $a(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Xy}function Xy(){this.i=null,this.g="",this.h=!1}var dS=45e3,Uu={},Qo={};Q=Us.prototype;Q.setTimeout=function(e){this.P=e};function ju(e,t,n){e.L=1,e.v=Ha(Tn(t)),e.s=n,e.S=!0,Jy(e,null)}function Jy(e,t){e.G=Date.now(),js(e),e.A=Tn(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),o_(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Xy,e.g=S_(e.l,n?t:null,!e.s),0<e.O&&(e.M=new lS(pt(e.Pa,e,e.g),e.O)),zy(e.U,e.g,"readystatechange",e.nb),t=e.I?My(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Is(),uS(e.j,e.u,e.A,e.m,e.W,e.s)}Q.nb=function(e){e=e.target;const t=this.M;t&&cn(e)==3?t.l():this.Pa(e)};Q.Pa=function(e){try{if(e==this.g)e:{const c=cn(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||Lu||this.g&&(this.h.h||this.g.ja()||Hd(this.g)))){this.J||c!=4||t==7||(t==8||0>=h?Is(3):Is(2)),za(this);var n=this.g.da();this.ca=n;t:if(Zy(this)){var r=Hd(this.g);e="";var i=r.length,s=cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){_r(this),ts(this);var o="";break t}this.h.i=new de.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,cS(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vs(a)){var u=a;break t}}u=null}if(n=u)ei(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zu(this,n);else{this.i=!1,this.o=3,Et(12),_r(this),ts(this);break e}}this.S?(e_(this,c,o),Lu&&this.i&&c==3&&(zy(this.U,this.V,"tick",this.mb),this.V.start())):(ei(this.j,this.m,o,null),zu(this,o)),c==4&&_r(this),this.i&&!this.J&&(c==4?T_(this.l,this):(this.i=!1,js(this)))}else MS(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Et(12)):(this.o=0,Et(13)),_r(this),ts(this)}}}catch{}finally{}};function Zy(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function e_(e,t,n){let r=!0,i;for(;!e.J&&e.C<n.length;)if(i=mS(e,n),i==Qo){t==4&&(e.o=4,Et(14),r=!1),ei(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Uu){e.o=4,Et(15),ei(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else ei(e.j,e.m,i,null),zu(e,i);Zy(e)&&i!=Qo&&i!=Uu&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Et(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),hh(t),t.M=!0,Et(11))):(ei(e.j,e.m,n,"[Invalid Chunked Response]"),_r(e),ts(e))}Q.mb=function(){if(this.g){var e=cn(this.g),t=this.g.ja();this.C<t.length&&(za(this),e_(this,e,t),this.i&&e!=4&&js(this))}};function mS(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Qo:(n=Number(t.substring(n,r)),isNaN(n)?Uu:(r+=1,r+n>t.length?Qo:(t=t.slice(r,r+n),e.C=r+n,t)))}Q.cancel=function(){this.J=!0,_r(this)};function js(e){e.Y=Date.now()+e.P,t_(e,e.P)}function t_(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Bs(pt(e.lb,e),t)}function za(e){e.B&&(de.clearTimeout(e.B),e.B=null)}Q.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(hS(this.j,this.A),this.L!=2&&(Is(),Et(17)),_r(this),this.o=2,ts(this)):t_(this,this.Y-e)};function ts(e){e.l.H==0||e.J||T_(e.l,e)}function _r(e){za(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,th(e.V),Hy(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function zu(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||Hu(n.i,e))){if(!e.K&&Hu(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Jo(n),Qa(n);else break e;ch(n),Et(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Bs(pt(n.ib,n),6e3));if(1>=u_(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else vr(n,11)}else if((e.K||n.g==e)&&Jo(n),!vs(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const g=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(oh(s,s.h),s.h=null))}if(r.F){const w=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,Le(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=C_(r,r.J?r.pa:null,r.Y),o.K){c_(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(za(a),js(a)),r.g=o}else E_(r);0<n.j.length&&Ya(n)}else u[0]!="stop"&&u[0]!="close"||vr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?vr(n,7):uh(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Is(4)}catch{}}function gS(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map!="undefined"&&e instanceof Map||typeof Set!="undefined"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Oa(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function pS(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map!="undefined"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set!="undefined"&&e instanceof Set)){if(Oa(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function n_(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Oa(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=pS(e),r=gS(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var r_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yS(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Cr(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Cr){this.h=e.h,Yo(this,e.j),this.s=e.s,this.g=e.g,Xo(this,e.m),this.l=e.l;var t=e.i,n=new As;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ud(this,n),this.o=e.o}else e&&(t=String(e).match(r_))?(this.h=!1,Yo(this,t[1]||"",!0),this.s=Hi(t[2]||""),this.g=Hi(t[3]||"",!0),Xo(this,t[4]),this.l=Hi(t[5]||"",!0),Ud(this,t[6]||"",!0),this.o=Hi(t[7]||"")):(this.h=!1,this.i=new As(null,this.h))}Cr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ki(t,jd,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Ki(t,jd,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Ki(n,n.charAt(0)=="/"?wS:vS,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ki(n,bS)),e.join("")};function Tn(e){return new Cr(e)}function Yo(e,t,n){e.j=n?Hi(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Xo(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ud(e,t,n){t instanceof As?(e.i=t,TS(e.i,e.h)):(n||(t=Ki(t,ES)),e.i=new As(t,e.h))}function Le(e,t,n){e.i.set(t,n)}function Ha(e){return Le(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Hi(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ki(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,_S),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function _S(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var jd=/[#\/\?@]/g,vS=/[#\?:]/g,wS=/[#\?]/g,ES=/[#\?@]/g,bS=/#/g;function As(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function tr(e){e.g||(e.g=new Map,e.h=0,e.i&&yS(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Q=As.prototype;Q.add=function(e,t){tr(this),this.i=null,e=Ri(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function i_(e,t){tr(e),t=Ri(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function s_(e,t){return tr(e),t=Ri(e,t),e.g.has(t)}Q.forEach=function(e,t){tr(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};Q.ta=function(){tr(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};Q.Z=function(e){tr(this);let t=[];if(typeof e=="string")s_(this,e)&&(t=t.concat(this.g.get(Ri(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};Q.set=function(e,t){return tr(this),this.i=null,e=Ri(this,e),s_(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};Q.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function o_(e,t,n){i_(e,t),0<n.length&&(e.i=null,e.g.set(Ri(e,t),Kc(n)),e.h+=n.length)}Q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function Ri(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function TS(e,t){t&&!e.j&&(tr(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(i_(this,r),o_(this,i,n))},e)),e.j=t}var IS=class{constructor(e,t){this.g=e,this.map=t}};function a_(e){this.l=e||AS,de.PerformanceNavigationTiming?(e=de.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(de.g&&de.g.Ka&&de.g.Ka()&&de.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var AS=10;function l_(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function u_(e){return e.h?1:e.g?e.g.size:0}function Hu(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function oh(e,t){e.g?e.g.add(t):e.h=t}function c_(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}a_.prototype.cancel=function(){if(this.i=h_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function h_(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Kc(e.i)}var CS=class{stringify(e){return de.JSON.stringify(e,void 0)}parse(e){return de.JSON.parse(e,void 0)}};function SS(){this.g=new CS}function RS(e,t,n){const r=n||"";try{n_(e,function(i,s){let o=i;Fs(i)&&(o=Zc(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function PS(e,t){const n=new Ba;if(de.Image){const r=new Image;r.onload=co(fo,n,r,"TestLoadImage: loaded",!0,t),r.onerror=co(fo,n,r,"TestLoadImage: error",!1,t),r.onabort=co(fo,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=co(fo,n,r,"TestLoadImage: timeout",!1,t),de.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function fo(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Ka(e){this.l=e.ec||null,this.j=e.ob||!1}rt(Ka,rh);Ka.prototype.g=function(){return new Wa(this.l,this.j)};Ka.prototype.i=function(e){return function(){return e}}({});function Wa(e,t){nt.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=ah,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rt(Wa,nt);var ah=0;Q=Wa.prototype;Q.open=function(e,t){if(this.readyState!=ah)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Cs(this)};Q.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||de).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};Q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zs(this)),this.readyState=ah};Q.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Cs(this)),this.g&&(this.readyState=3,Cs(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof de.ReadableStream!="undefined"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;f_(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function f_(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}Q.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?zs(this):Cs(this),this.readyState==3&&f_(this)}};Q.Za=function(e){this.g&&(this.response=this.responseText=e,zs(this))};Q.Ya=function(e){this.g&&(this.response=e,zs(this))};Q.ka=function(){this.g&&zs(this)};function zs(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Cs(e)}Q.setRequestHeader=function(e,t){this.v.append(e,t)};Q.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};Q.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Cs(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Wa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var kS=de.JSON.parse;function je(e){nt.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=d_,this.L=this.M=!1}rt(je,nt);var d_="",xS=/^https?$/i,VS=["POST","PUT"];Q=je.prototype;Q.Oa=function(e){this.M=e};Q.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():qu.g(),this.C=this.u?qd(this.u):qd(qu),this.g.onreadystatechange=pt(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){zd(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=de.FormData&&e instanceof de.FormData,!(0<=ky(VS,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{p_(this),0<this.B&&((this.L=DS(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pt(this.ua,this)):this.A=nh(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){zd(this,s)}};function DS(e){return fi&&typeof e.timeout=="number"&&e.ontimeout!==void 0}Q.ua=function(){typeof Hc!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ut(this,"timeout"),this.abort(8))};function zd(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,m_(e),Ga(e)}function m_(e){e.F||(e.F=!0,ut(e,"complete"),ut(e,"error"))}Q.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ut(this,"complete"),ut(this,"abort"),Ga(this))};Q.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ga(this,!0)),je.$.N.call(this)};Q.La=function(){this.s||(this.G||this.v||this.l?g_(this):this.kb())};Q.kb=function(){g_(this)};function g_(e){if(e.h&&typeof Hc!="undefined"&&(!e.C[1]||cn(e)!=4||e.da()!=2)){if(e.v&&cn(e)==4)nh(e.La,0,e);else if(ut(e,"readystatechange"),cn(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(r_)[1]||null;!i&&de.self&&de.self.location&&(i=de.self.location.protocol.slice(0,-1)),r=!xS.test(i?i.toLowerCase():"")}n=r}if(n)ut(e,"complete"),ut(e,"success");else{e.m=6;try{var s=2<cn(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",m_(e)}}finally{Ga(e)}}}}function Ga(e,t){if(e.g){p_(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||ut(e,"ready");try{n.onreadystatechange=r}catch{}}}function p_(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(de.clearTimeout(e.A),e.A=null)}Q.isActive=function(){return!!this.g};function cn(e){return e.g?e.g.readyState:0}Q.da=function(){try{return 2<cn(this)?this.g.status:-1}catch{return-1}};Q.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Q.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),kS(t)}};function Hd(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case d_:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function MS(e){const t={};e=(e.g&&2<=cn(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(vs(e[r]))continue;var n=sS(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}JC(t,function(r){return r.join(", ")})}Q.Ia=function(){return this.m};Q.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function y_(e){let t="";return Gc(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function lh(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=y_(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Le(e,t,n))}function Li(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function __(e){this.Ga=0,this.j=[],this.l=new Ba,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Li("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Li("baseRetryDelayMs",5e3,e),this.hb=Li("retryDelaySeedMs",1e4,e),this.eb=Li("forwardChannelMaxRetries",2,e),this.xa=Li("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new a_(e&&e.concurrentRequestLimit),this.Ja=new SS,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Q=__.prototype;Q.ra=8;Q.H=1;function uh(e){if(v_(e),e.H==3){var t=e.W++,n=Tn(e.I);if(Le(n,"SID",e.K),Le(n,"RID",t),Le(n,"TYPE","terminate"),Hs(e,n),t=new Us(e,e.l,t),t.L=2,t.v=Ha(Tn(n)),n=!1,de.navigator&&de.navigator.sendBeacon)try{n=de.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&de.Image&&(new Image().src=t.v,n=!0),n||(t.g=S_(t.l,null),t.g.ha(t.v)),t.G=Date.now(),js(t)}A_(e)}function Qa(e){e.g&&(hh(e),e.g.cancel(),e.g=null)}function v_(e){Qa(e),e.u&&(de.clearTimeout(e.u),e.u=null),Jo(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&de.clearTimeout(e.m),e.m=null)}function Ya(e){if(!l_(e.i)&&!e.m){e.m=!0;var t=e.Na;Es||Uy(),bs||(Es(),bs=!0),eh.add(t,e),e.C=0}}function OS(e,t){return u_(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Bs(pt(e.Na,e,t),I_(e,e.C)),e.C++,!0)}Q.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Us(this,this.l,e);let s=this.s;if(this.U&&(s?(s=My(s),Oy(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=w_(this,i,t),n=Tn(this.I),Le(n,"RID",e),Le(n,"CVER",22),this.F&&Le(n,"X-HTTP-Session-Id",this.F),Hs(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(y_(s)))+"&"+t:this.o&&lh(n,this.o,s)),oh(this.i,i),this.bb&&Le(n,"TYPE","init"),this.P?(Le(n,"$req",t),Le(n,"SID","null"),i.aa=!0,ju(i,n,null)):ju(i,n,t),this.H=2}}else this.H==3&&(e?Kd(this,e):this.j.length==0||l_(this.i)||Kd(this))};function Kd(e,t){var n;t?n=t.m:n=e.W++;const r=Tn(e.I);Le(r,"SID",e.K),Le(r,"RID",n),Le(r,"AID",e.V),Hs(e,r),e.o&&e.s&&lh(r,e.o,e.s),n=new Us(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=w_(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),oh(e.i,n),ju(n,r,t)}function Hs(e,t){e.na&&Gc(e.na,function(n,r){Le(t,r,n)}),e.h&&n_({},function(n,r){Le(t,r,n)})}function w_(e,t,n){n=Math.min(e.j.length,n);var r=e.h?pt(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{RS(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function E_(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Es||Uy(),bs||(Es(),bs=!0),eh.add(t,e),e.A=0}}function ch(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Bs(pt(e.Ma,e),I_(e,e.A)),e.A++,!0)}Q.Ma=function(){if(this.u=null,b_(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Bs(pt(this.jb,this),e)}};Q.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Et(10),Qa(this),b_(this))};function hh(e){e.B!=null&&(de.clearTimeout(e.B),e.B=null)}function b_(e){e.g=new Us(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Tn(e.wa);Le(t,"RID","rpc"),Le(t,"SID",e.K),Le(t,"AID",e.V),Le(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Le(t,"TO",e.qa),Le(t,"TYPE","xmlhttp"),Hs(e,t),e.o&&e.s&&lh(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Ha(Tn(t)),n.s=null,n.S=!0,Jy(n,e)}Q.ib=function(){this.v!=null&&(this.v=null,Qa(this),ch(this),Et(19))};function Jo(e){e.v!=null&&(de.clearTimeout(e.v),e.v=null)}function T_(e,t){var n=null;if(e.g==t){Jo(e),hh(e),e.g=null;var r=2}else if(Hu(e.i,t))n=t.F,c_(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;r=qa(),ut(r,new Gy(r,n)),Ya(e)}else E_(e);else if(i=t.o,i==3||i==0&&0<t.ca||!(r==1&&OS(e,t)||r==2&&ch(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:vr(e,5);break;case 4:vr(e,10);break;case 3:vr(e,6);break;default:vr(e,2)}}}function I_(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function vr(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=pt(e.pb,e);n||(n=new Cr("//www.google.com/images/cleardot.gif"),de.location&&de.location.protocol=="http"||Yo(n,"https"),Ha(n)),PS(n.toString(),r)}else Et(2);e.H=0,e.h&&e.h.za(t),A_(e),v_(e)}Q.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Et(2)):(this.l.info("Failed to ping google.com"),Et(1))};function A_(e){if(e.H=0,e.ma=[],e.h){const t=h_(e.i);(t.length!=0||e.j.length!=0)&&(Ld(e.ma,t),Ld(e.ma,e.j),e.i.i.length=0,Kc(e.j),e.j.length=0),e.h.ya()}}function C_(e,t,n){var r=n instanceof Cr?Tn(n):new Cr(n);if(r.g!="")t&&(r.g=t+"."+r.g),Xo(r,r.m);else{var i=de.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Cr(null);r&&Yo(s,r),t&&(s.g=t),i&&Xo(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Le(r,n,t),Le(r,"VER",e.ra),Hs(e,r),r}function S_(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new je(new Ka({ob:!0})):new je(e.va),t.Oa(e.J),t}Q.isActive=function(){return!!this.h&&this.h.isActive(this)};function R_(){}Q=R_.prototype;Q.Ba=function(){};Q.Aa=function(){};Q.za=function(){};Q.ya=function(){};Q.isActive=function(){return!0};Q.Va=function(){};function Zo(){if(fi&&!(10<=Number(GC)))throw Error("Environmental error: no available transport.")}Zo.prototype.g=function(e,t){return new Ot(e,t)};function Ot(e,t){nt.call(this),this.g=new __(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!vs(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!vs(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Pi(this)}rt(Ot,nt);Ot.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Et(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=C_(e,null,e.Y),Ya(e)};Ot.prototype.close=function(){uh(this.g)};Ot.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Zc(e),e=n);t.j.push(new IS(t.fb++,e)),t.H==3&&Ya(t)};Ot.prototype.N=function(){this.g.h=null,delete this.j,uh(this.g),delete this.g,Ot.$.N.call(this)};function P_(e){ih.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}rt(P_,ih);function k_(){sh.call(this),this.status=1}rt(k_,sh);function Pi(e){this.g=e}rt(Pi,R_);Pi.prototype.Ba=function(){ut(this.g,"a")};Pi.prototype.Aa=function(e){ut(this.g,new P_(e))};Pi.prototype.za=function(e){ut(this.g,new k_)};Pi.prototype.ya=function(){ut(this.g,"b")};function LS(){this.blockSize=-1}function en(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}rt(en,LS);en.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Kl(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}en.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)Kl(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Kl(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Kl(this,r),i=0;break}}this.h=i,this.i+=t};en.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function Pe(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var NS={};function fh(e){return-128<=e&&128>e?HC(e,function(t){return new Pe([t|0],0>t?-1:0)}):new Pe([e|0],0>e?-1:0)}function hn(e){if(isNaN(e)||!isFinite(e))return ii;if(0>e)return at(hn(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Ku;return new Pe(t,0)}function x_(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return at(x_(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=hn(Math.pow(t,8)),r=ii,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=hn(Math.pow(t,s)),r=r.R(s).add(hn(o))):(r=r.R(n),r=r.add(hn(o)))}return r}var Ku=4294967296,ii=fh(0),Wu=fh(1),Wd=fh(16777216);Q=Pe.prototype;Q.ea=function(){if(Bt(this))return-at(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Ku+r)*t,t*=Ku}return e};Q.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(vn(this))return"0";if(Bt(this))return"-"+at(this).toString(e);for(var t=hn(Math.pow(e,6)),n=this,r="";;){var i=ta(n,t).g;n=ea(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,vn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Q.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function vn(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function Bt(e){return e.h==-1}Q.X=function(e){return e=ea(this,e),Bt(e)?-1:vn(e)?0:1};function at(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Pe(n,~e.h).add(Wu)}Q.abs=function(){return Bt(this)?at(this):this};Q.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Pe(n,n[n.length-1]&-2147483648?-1:0)};function ea(e,t){return e.add(at(t))}Q.R=function(e){if(vn(this)||vn(e))return ii;if(Bt(this))return Bt(e)?at(this).R(at(e)):at(at(this).R(e));if(Bt(e))return at(this.R(at(e)));if(0>this.X(Wd)&&0>e.X(Wd))return hn(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,l=e.D(i)&65535;n[2*r+2*i]+=o*l,mo(n,2*r+2*i),n[2*r+2*i+1]+=s*l,mo(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,mo(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,mo(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Pe(n,0)};function mo(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Ni(e,t){this.g=e,this.h=t}function ta(e,t){if(vn(t))throw Error("division by zero");if(vn(e))return new Ni(ii,ii);if(Bt(e))return t=ta(at(e),t),new Ni(at(t.g),at(t.h));if(Bt(t))return t=ta(e,at(t)),new Ni(at(t.g),t.h);if(30<e.g.length){if(Bt(e)||Bt(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Wu,r=t;0>=r.X(e);)n=Gd(n),r=Gd(r);var i=Wr(n,1),s=Wr(r,1);for(r=Wr(r,2),n=Wr(n,2);!vn(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Wr(r,1),n=Wr(n,1)}return t=ea(e,i.R(t)),new Ni(i,t)}for(i=ii;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=hn(n),o=s.R(t);Bt(o)||0<o.X(e);)n-=r,s=hn(n),o=s.R(t);vn(s)&&(s=Wu),i=i.add(s),e=ea(e,o)}return new Ni(i,e)}Q.gb=function(e){return ta(this,e).h};Q.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Pe(n,this.h&e.h)};Q.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Pe(n,this.h|e.h)};Q.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Pe(n,this.h^e.h)};function Gd(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Pe(n,e.h)}function Wr(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Pe(i,e.h)}Zo.prototype.createWebChannel=Zo.prototype.g;Ot.prototype.send=Ot.prototype.u;Ot.prototype.open=Ot.prototype.m;Ot.prototype.close=Ot.prototype.close;Ua.NO_ERROR=0;Ua.TIMEOUT=8;Ua.HTTP_ERROR=6;Qy.COMPLETE="complete";Yy.EventType=qs;qs.OPEN="a";qs.CLOSE="b";qs.ERROR="c";qs.MESSAGE="d";nt.prototype.listen=nt.prototype.O;je.prototype.listenOnce=je.prototype.P;je.prototype.getLastError=je.prototype.Sa;je.prototype.getLastErrorCode=je.prototype.Ia;je.prototype.getStatus=je.prototype.da;je.prototype.getResponseJson=je.prototype.Wa;je.prototype.getResponseText=je.prototype.ja;je.prototype.send=je.prototype.ha;je.prototype.setWithCredentials=je.prototype.Oa;en.prototype.digest=en.prototype.l;en.prototype.reset=en.prototype.reset;en.prototype.update=en.prototype.j;Pe.prototype.add=Pe.prototype.add;Pe.prototype.multiply=Pe.prototype.R;Pe.prototype.modulo=Pe.prototype.gb;Pe.prototype.compare=Pe.prototype.X;Pe.prototype.toNumber=Pe.prototype.ea;Pe.prototype.toString=Pe.prototype.toString;Pe.prototype.getBits=Pe.prototype.D;Pe.fromNumber=hn;Pe.fromString=x_;var FS=function(){return new Zo},$S=function(){return qa()},Wl=Ua,BS=Qy,qS=Nr,Qd={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},go=Yy,US=je,jS=en,si=Pe;const Yd="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}dt.UNAUTHENTICATED=new dt(null),dt.GOOGLE_CREDENTIALS=new dt("google-credentials-uid"),dt.FIRST_PARTY=new dt("first-party-uid"),dt.MOCK_USER=new dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ki="10.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr=new Nc("@firebase/firestore");function Fi(){return Vr.logLevel}function te(e,...t){if(Vr.logLevel<=Ae.DEBUG){const n=t.map(dh);Vr.debug(`Firestore (${ki}): ${e}`,...n)}}function In(e,...t){if(Vr.logLevel<=Ae.ERROR){const n=t.map(dh);Vr.error(`Firestore (${ki}): ${e}`,...n)}}function di(e,...t){if(Vr.logLevel<=Ae.WARN){const n=t.map(dh);Vr.warn(`Firestore (${ki}): ${e}`,...n)}}function dh(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(e="Unexpected state"){const t=`FIRESTORE (${ki}) INTERNAL ASSERTION FAILED: `+e;throw In(t),new Error(t)}function $e(e,t){e||fe()}function ve(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends Zn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class zS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(dt.UNAUTHENTICATED))}shutdown(){}}class HS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class KS{constructor(t){this.t=t,this.currentUser=dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new wn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new wn,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new wn)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string"),new V_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return $e(t===null||typeof t=="string"),new dt(t)}}class WS{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=dt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class GS{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new WS(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QS{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YS{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?($e(typeof n.token=="string"),this.R=n.token,new QS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(e){const t=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{static V(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=XS(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function Ce(e,t){return e<t?-1:e>t?1:0}function mi(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ee(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ee(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ee(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return et.fromMillis(Date.now())}static fromDate(t){return et.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new et(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ce(this.nanoseconds,t.nanoseconds):Ce(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ge(t)}static min(){return new ge(new et(0,0))}static max(){return new ge(new et(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(t,n,r){n===void 0?n=0:n>t.length&&fe(),r===void 0?r=t.length-n:r>t.length-n&&fe(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ss.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ss?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Ne extends Ss{construct(t,n,r){return new Ne(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ee(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ne(n)}static emptyPath(){return new Ne([])}}const JS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lt extends Ss{construct(t,n,r){return new lt(t,n,r)}static isValidIdentifier(t){return JS.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new lt(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ee(L.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new ee(L.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ee(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ee(L.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new lt(n)}static emptyPath(){return new lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t){this.path=t}static fromPath(t){return new ae(Ne.fromString(t))}static fromName(t){return new ae(Ne.fromString(t).popFirst(5))}static empty(){return new ae(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ae(new Ne(t.slice()))}}function ZS(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ge.fromTimestamp(r===1e9?new et(n+1,0):new et(n,r));return new Wn(i,ae.empty(),t)}function eR(e){return new Wn(e.readTime,e.key,-1)}class Wn{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Wn(ge.min(),ae.empty(),-1)}static max(){return new Wn(ge.max(),ae.empty(),-1)}}function tR(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=ae.comparator(e.documentKey,t.documentKey),n!==0?n:Ce(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ks(e){if(e.code!==L.FAILED_PRECONDITION||e.message!==nR)throw e;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):q.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):q.reject(n)}static resolve(t){return new q((n,r)=>{n(t)})}static reject(t){return new q((n,r)=>{r(t)})}static waitFor(t){return new q((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=q.resolve(!1);for(const r of t)n=n.next(i=>i?q.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new q((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new q((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function Ws(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}mh.ae=-1;function Xa(e){return e==null}function na(e){return e===0&&1/e==-1/0}function iR(e){return typeof e=="number"&&Number.isInteger(e)&&!na(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Fr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function M_(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t,n){this.comparator=t,this.root=n||ot.EMPTY}insert(t,n){return new qe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ot.BLACK,null,null))}remove(t){return new qe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ot.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new po(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new po(this.root,t,this.comparator,!1)}getReverseIterator(){return new po(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new po(this.root,t,this.comparator,!0)}}class po{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ot{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r!=null?r:ot.RED,this.left=i!=null?i:ot.EMPTY,this.right=s!=null?s:ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new ot(t!=null?t:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ot.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return ot.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const t=this.left.check();if(t!==this.right.check())throw fe();return t+(this.isRed()?0:1)}}ot.EMPTY=null,ot.RED=!0,ot.BLACK=!1;ot.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(t,n,r,i,s){return this}insert(t,n,r){return new ot(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t){this.comparator=t,this.data=new qe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jd(this.data.getIterator())}getIteratorFrom(t){return new Jd(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof ct)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ct(this.comparator);return n.data=t,n}}class Jd{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(t){this.fields=t,t.sort(lt.comparator)}static empty(){return new Vt([])}unionWith(t){let n=new ct(lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Vt(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return mi(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException!="undefined"&&s instanceof DOMException?new O_("Invalid base64 string: "+s):s}}(t);return new vt(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new vt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ce(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}vt.EMPTY_BYTE_STRING=new vt("");const sR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gn(e){if($e(!!e),typeof e=="string"){let t=0;const n=sR.exec(e);if($e(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Qe(e.seconds),nanos:Qe(e.nanos)}}function Qe(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Dr(e){return typeof e=="string"?vt.fromBase64String(e):vt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ph(e){const t=e.mapValue.fields.__previous_value__;return gh(t)?ph(t):t}function Rs(e){const t=Gn(e.mapValue.fields.__local_write_time__.timestampValue);return new et(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(t,n,r,i,s,o,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ps{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Ps("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Ps&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Mr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?gh(e)?4:aR(e)?9007199254740991:10:fe()}function pn(e,t){if(e===t)return!0;const n=Mr(e);if(n!==Mr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Rs(e).isEqual(Rs(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Gn(i.timestampValue),a=Gn(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return Dr(i.bytesValue).isEqual(Dr(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return Qe(i.geoPointValue.latitude)===Qe(s.geoPointValue.latitude)&&Qe(i.geoPointValue.longitude)===Qe(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Qe(i.integerValue)===Qe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Qe(i.doubleValue),a=Qe(s.doubleValue);return o===a?na(o)===na(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return mi(e.arrayValue.values||[],t.arrayValue.values||[],pn);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Xd(o)!==Xd(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!pn(o[l],a[l])))return!1;return!0}(e,t);default:return fe()}}function ks(e,t){return(e.values||[]).find(n=>pn(n,t))!==void 0}function gi(e,t){if(e===t)return 0;const n=Mr(e),r=Mr(t);if(n!==r)return Ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Qe(s.integerValue||s.doubleValue),l=Qe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return Zd(e.timestampValue,t.timestampValue);case 4:return Zd(Rs(e),Rs(t));case 5:return Ce(e.stringValue,t.stringValue);case 6:return function(s,o){const a=Dr(s),l=Dr(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Ce(a[u],l[u]);if(c!==0)return c}return Ce(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Ce(Qe(s.latitude),Qe(o.latitude));return a!==0?a:Ce(Qe(s.longitude),Qe(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=gi(a[u],l[u]);if(c)return c}return Ce(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===yo.mapValue&&o===yo.mapValue)return 0;if(s===yo.mapValue)return 1;if(o===yo.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const f=Ce(l[h],c[h]);if(f!==0)return f;const d=gi(a[l[h]],u[c[h]]);if(d!==0)return d}return Ce(l.length,c.length)}(e.mapValue,t.mapValue);default:throw fe()}}function Zd(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ce(e,t);const n=Gn(e),r=Gn(t),i=Ce(n.seconds,r.seconds);return i!==0?i:Ce(n.nanos,r.nanos)}function pi(e){return Gu(e)}function Gu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Gn(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Dr(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return ae.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Gu(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Gu(n.fields[o])}`;return i+"}"}(e.mapValue):fe()}function em(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Qu(e){return!!e&&"integerValue"in e}function yh(e){return!!e&&"arrayValue"in e}function tm(e){return!!e&&"nullValue"in e}function nm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Po(e){return!!e&&"mapValue"in e}function ns(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Fr(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=ns(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ns(e.arrayValue.values[n]);return t}return Object.assign({},e)}function aR(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(t){this.value=t}static empty(){return new Ct({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Po(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ns(n)}setAll(t){let n=lt.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ns(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());Po(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return pn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Po(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Fr(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Ct(ns(this.value))}}function L_(e){const t=[];return Fr(e.fields,(n,r)=>{const i=new lt([n]);if(Po(r)){const s=L_(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new Vt(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new mt(t,0,ge.min(),ge.min(),ge.min(),Ct.empty(),0)}static newFoundDocument(t,n,r,i){return new mt(t,1,n,ge.min(),r,i,0)}static newNoDocument(t,n){return new mt(t,2,n,ge.min(),ge.min(),Ct.empty(),0)}static newUnknownDocument(t,n){return new mt(t,3,n,ge.min(),ge.min(),Ct.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ct.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ct.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof mt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(t,n){this.position=t,this.inclusive=n}}function rm(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=gi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function im(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!pn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(t,n="asc"){this.field=t,this.dir=n}}function lR(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{}class Xe extends N_{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new cR(t,n,r):n==="array-contains"?new dR(t,r):n==="in"?new mR(t,r):n==="not-in"?new gR(t,r):n==="array-contains-any"?new pR(t,r):new Xe(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new hR(t,r):new fR(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(gi(n,this.value)):n!==null&&Mr(this.value)===Mr(n)&&this.matchesComparison(gi(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tn extends N_{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new tn(t,n)}matches(t){return F_(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function F_(e){return e.op==="and"}function $_(e){return uR(e)&&F_(e)}function uR(e){for(const t of e.filters)if(t instanceof tn)return!1;return!0}function Yu(e){if(e instanceof Xe)return e.field.canonicalString()+e.op.toString()+pi(e.value);if($_(e))return e.filters.map(t=>Yu(t)).join(",");{const t=e.filters.map(n=>Yu(n)).join(",");return`${e.op}(${t})`}}function B_(e,t){return e instanceof Xe?function(r,i){return i instanceof Xe&&r.op===i.op&&r.field.isEqual(i.field)&&pn(r.value,i.value)}(e,t):e instanceof tn?function(r,i){return i instanceof tn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&B_(o,i.filters[a]),!0):!1}(e,t):void fe()}function q_(e){return e instanceof Xe?function(n){return`${n.field.canonicalString()} ${n.op} ${pi(n.value)}`}(e):e instanceof tn?function(n){return n.op.toString()+" {"+n.getFilters().map(q_).join(" ,")+"}"}(e):"Filter"}class cR extends Xe{constructor(t,n,r){super(t,n,r),this.key=ae.fromName(r.referenceValue)}matches(t){const n=ae.comparator(t.key,this.key);return this.matchesComparison(n)}}class hR extends Xe{constructor(t,n){super(t,"in",n),this.keys=U_("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class fR extends Xe{constructor(t,n){super(t,"not-in",n),this.keys=U_("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function U_(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class dR extends Xe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return yh(n)&&ks(n.arrayValue,this.value)}}class mR extends Xe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ks(this.value.arrayValue,n)}}class gR extends Xe{constructor(t,n){super(t,"not-in",n)}matches(t){if(ks(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!ks(this.value.arrayValue,n)}}class pR extends Xe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!yh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ks(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function sm(e,t=null,n=[],r=[],i=null,s=null,o=null){return new yR(e,t,n,r,i,s,o)}function _h(e){const t=ve(e);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Yu(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Xa(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>pi(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>pi(r)).join(",")),t.le=n}return t.le}function vh(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!lR(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!B_(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!im(e.startAt,t.startAt)&&im(e.endAt,t.endAt)}function Xu(e){return ae.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function _R(e,t,n,r,i,s,o,a){return new Gs(e,t,n,r,i,s,o,a)}function Ja(e){return new Gs(e)}function om(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function j_(e){return e.collectionGroup!==null}function rs(e){const t=ve(e);if(t.he===null){t.he=[];const n=new Set;for(const s of t.explicitOrderBy)t.he.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ct(lt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.he.push(new ia(s,r))}),n.has(lt.keyField().canonicalString())||t.he.push(new ia(lt.keyField(),r))}return t.he}function dn(e){const t=ve(e);return t.Pe||(t.Pe=vR(t,rs(e))),t.Pe}function vR(e,t){if(e.limitType==="F")return sm(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ia(i.field,s)});const n=e.endAt?new ra(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ra(e.startAt.position,e.startAt.inclusive):null;return sm(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Ju(e,t){const n=e.filters.concat([t]);return new Gs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Zu(e,t,n){return new Gs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Za(e,t){return vh(dn(e),dn(t))&&e.limitType===t.limitType}function z_(e){return`${_h(dn(e))}|lt:${e.limitType}`}function Yr(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>q_(i)).join(", ")}]`),Xa(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>pi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>pi(i)).join(",")),`Target(${r})`}(dn(e))}; limitType=${e.limitType})`}function el(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ae.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of rs(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=rm(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,rs(r),i)||r.endAt&&!function(o,a,l){const u=rm(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,rs(r),i))}(e,t)}function wR(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function H_(e){return(t,n)=>{let r=!1;for(const i of rs(e)){const s=ER(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function ER(e,t,n){const r=e.field.isKeyField()?ae.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?gi(l,u):fe()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Fr(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return M_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=new qe(ae.comparator);function An(){return bR}const K_=new qe(ae.comparator);function Wi(...e){let t=K_;for(const n of e)t=t.insert(n.key,n);return t}function W_(e){let t=K_;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function wr(){return is()}function G_(){return is()}function is(){return new xi(e=>e.toString(),(e,t)=>e.isEqual(t))}const TR=new qe(ae.comparator),IR=new ct(ae.comparator);function Ee(...e){let t=IR;for(const n of e)t=t.add(n);return t}const AR=new ct(Ce);function CR(){return AR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:na(t)?"-0":t}}function Y_(e){return{integerValue:""+e}}function SR(e,t){return iR(t)?Y_(t):Q_(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this._=void 0}}function RR(e,t,n){return e instanceof sa?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&gh(s)&&(s=ph(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof xs?J_(e,t):e instanceof Vs?Z_(e,t):function(i,s){const o=X_(i,s),a=am(o)+am(i.Te);return Qu(o)&&Qu(i.Te)?Y_(a):Q_(i.serializer,a)}(e,t)}function PR(e,t,n){return e instanceof xs?J_(e,t):e instanceof Vs?Z_(e,t):n}function X_(e,t){return e instanceof oa?function(r){return Qu(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class sa extends tl{}class xs extends tl{constructor(t){super(),this.elements=t}}function J_(e,t){const n=ev(t);for(const r of e.elements)n.some(i=>pn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Vs extends tl{constructor(t){super(),this.elements=t}}function Z_(e,t){let n=ev(t);for(const r of e.elements)n=n.filter(i=>!pn(i,r));return{arrayValue:{values:n}}}class oa extends tl{constructor(t,n){super(),this.serializer=t,this.Te=n}}function am(e){return Qe(e.integerValue||e.doubleValue)}function ev(e){return yh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function kR(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof xs&&i instanceof xs||r instanceof Vs&&i instanceof Vs?mi(r.elements,i.elements,pn):r instanceof oa&&i instanceof oa?pn(r.Te,i.Te):r instanceof sa&&i instanceof sa}(e.transform,t.transform)}class xR{constructor(t,n){this.version=t,this.transformResults=n}}class Zt{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Zt}static exists(t){return new Zt(void 0,t)}static updateTime(t){return new Zt(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ko(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class nl{}function tv(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new wh(e.key,Zt.none()):new Qs(e.key,e.data,Zt.none());{const n=e.data,r=Ct.empty();let i=new ct(lt.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new nr(e.key,r,new Vt(i.toArray()),Zt.none())}}function VR(e,t,n){e instanceof Qs?function(i,s,o){const a=i.value.clone(),l=um(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof nr?function(i,s,o){if(!ko(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=um(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(nv(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function ss(e,t,n,r){return e instanceof Qs?function(s,o,a,l){if(!ko(s.precondition,o))return a;const u=s.value.clone(),c=cm(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof nr?function(s,o,a,l){if(!ko(s.precondition,o))return a;const u=cm(s.fieldTransforms,l,o),c=o.data;return c.setAll(nv(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(e,t,n,r):function(s,o,a){return ko(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function DR(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=X_(r.transform,i||null);s!=null&&(n===null&&(n=Ct.empty()),n.set(r.field,s))}return n||null}function lm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&mi(r,i,(s,o)=>kR(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Qs extends nl{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class nr extends nl{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function nv(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function um(e,t,n){const r=new Map;$e(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,PR(o,a,n[i]))}return r}function cm(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,RR(s,o,t))}return r}class wh extends nl{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MR extends nl{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&VR(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=ss(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=ss(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=G_();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=tv(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ee())}isEqual(t){return this.batchId===t.batchId&&mi(this.mutations,t.mutations,(n,r)=>lm(n,r))&&mi(this.baseMutations,t.baseMutations,(n,r)=>lm(n,r))}}class Eh{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){$e(t.mutations.length===r.length);let i=function(){return TR}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Eh(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge,Te;function FR(e){switch(e){default:return fe();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function rv(e){if(e===void 0)return In("GRPC error has no .code"),L.UNKNOWN;switch(e){case Ge.OK:return L.OK;case Ge.CANCELLED:return L.CANCELLED;case Ge.UNKNOWN:return L.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return L.INTERNAL;case Ge.UNAVAILABLE:return L.UNAVAILABLE;case Ge.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Ge.NOT_FOUND:return L.NOT_FOUND;case Ge.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Ge.ABORTED:return L.ABORTED;case Ge.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Ge.DATA_LOSS:return L.DATA_LOSS;default:return fe()}}(Te=Ge||(Ge={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=new si([4294967295,4294967295],0);function hm(e){const t=$R().encode(e),n=new jS;return n.update(t),new Uint8Array(n.digest())}function fm(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new si([n,r],0),new si([i,s],0)]}class bh{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Gi(`Invalid padding: ${n}`);if(r<0)throw new Gi(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Gi(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Gi(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=si.fromNumber(this.Ee)}Ae(t,n,r){let i=t.add(n.multiply(si.fromNumber(r)));return i.compare(BR)===1&&(i=new si([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ee===0)return!1;const n=hm(t),[r,i]=fm(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new bh(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Ee===0)return;const n=hm(t),[r,i]=fm(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Gi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Ys.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new rl(ge.min(),i,new qe(Ce),An(),Ee())}}class Ys{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Ys(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(t,n,r,i){this.me=t,this.removedTargetIds=n,this.key=r,this.fe=i}}class iv{constructor(t,n){this.targetId=t,this.ge=n}}class sv{constructor(t,n,r=vt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class dm{constructor(){this.pe=0,this.ye=gm(),this.we=vt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get Ce(){return this.be}ve(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Ee(),n=Ee(),r=Ee();return this.ye.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:fe()}}),new Ys(this.we,this.Se,t,n,r)}Me(){this.be=!1,this.ye=gm()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1}Le(){this.be=!0,this.Se=!0}}class qR{constructor(t){this.ke=t,this.qe=new Map,this.Qe=An(),this.Ke=mm(),this.$e=new qe(Ce)}Ue(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.We(n,t.fe):this.Ge(n,t.key,t.fe);for(const n of t.removedTargetIds)this.Ge(n,t.key,t.fe)}ze(t){this.forEachTarget(t,n=>{const r=this.je(n);switch(t.state){case 0:this.He(n)&&r.ve(t.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.ve(t.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.He(n)&&(r.Le(),r.ve(t.resumeToken));break;case 4:this.He(n)&&(this.Je(n),r.ve(t.resumeToken));break;default:fe()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.He(i)&&n(i)})}Ye(t){const n=t.targetId,r=t.ge.count,i=this.Ze(n);if(i){const s=i.target;if(Xu(s))if(r===0){const o=new ae(s.path);this.Ge(n,o,mt.newNoDocument(o,ge.min()))}else $e(r===1);else{const o=this.Xe(n);if(o!==r){const a=this.et(t),l=a?this.tt(a,t,o):1;if(l!==0){this.Je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.$e=this.$e.insert(n,u)}}}}}et(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Dr(r).toUint8Array()}catch(l){if(l instanceof O_)return di("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new bh(o,i,s)}catch(l){return di(l instanceof Gi?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}tt(t,n,r){return n.ge.count===r-this.it(t,n.targetId)?0:2}it(t,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ke.rt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.Ge(n,s,null),i++)}),i}st(t){const n=new Map;this.qe.forEach((s,o)=>{const a=this.Ze(o);if(a){if(s.current&&Xu(a.target)){const l=new ae(a.target.path);this.Qe.get(l)!==null||this.ot(o,l)||this.Ge(o,l,mt.newNoDocument(l,t))}s.Ce&&(n.set(o,s.Fe()),s.Me())}});let r=Ee();this.Ke.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ze(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(t));const i=new rl(t,n,this.$e,this.Qe,r);return this.Qe=An(),this.Ke=mm(),this.$e=new qe(Ce),i}We(t,n){if(!this.He(t))return;const r=this.ot(t,n.key)?2:0;this.je(t).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.Ke=this.Ke.insert(n.key,this._t(n.key).add(t))}Ge(t,n,r){if(!this.He(t))return;const i=this.je(t);this.ot(t,n)?i.xe(n,1):i.Oe(n),this.Ke=this.Ke.insert(n,this._t(n).delete(t)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(t){this.qe.delete(t)}Xe(t){const n=this.je(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.je(t).Ne()}je(t){let n=this.qe.get(t);return n||(n=new dm,this.qe.set(t,n)),n}_t(t){let n=this.Ke.get(t);return n||(n=new ct(Ce),this.Ke=this.Ke.insert(t,n)),n}He(t){const n=this.Ze(t)!==null;return n||te("WatchChangeAggregator","Detected inactive target",t),n}Ze(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.ut(t)}Je(t){this.qe.set(t,new dm),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.Ge(t,n,null)})}ot(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function mm(){return new qe(ae.comparator)}function gm(){return new qe(ae.comparator)}const UR=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),jR=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),zR=(()=>({and:"AND",or:"OR"}))();class HR{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ec(e,t){return e.useProto3Json||Xa(t)?t:{value:t}}function aa(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ov(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function KR(e,t){return aa(e,t.toTimestamp())}function mn(e){return $e(!!e),ge.fromTimestamp(function(n){const r=Gn(n);return new et(r.seconds,r.nanos)}(e))}function Th(e,t){return function(r){return new Ne(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function av(e){const t=Ne.fromString(e);return $e(hv(t)),t}function tc(e,t){return Th(e.databaseId,t.path)}function Gl(e,t){const n=av(t);if(n.get(1)!==e.databaseId.projectId)throw new ee(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ee(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ae(lv(n))}function nc(e,t){return Th(e.databaseId,t)}function WR(e){const t=av(e);return t.length===4?Ne.emptyPath():lv(t)}function rc(e){return new Ne(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function lv(e){return $e(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function pm(e,t,n){return{name:tc(e,t),fields:n.value.mapValue.fields}}function GR(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:fe()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?($e(c===void 0||typeof c=="string"),vt.fromBase64String(c||"")):($e(c===void 0||c instanceof Uint8Array),vt.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(u){const c=u.code===void 0?L.UNKNOWN:rv(u.code);return new ee(c,u.message||"")}(o);n=new sv(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gl(e,r.document.name),s=mn(r.document.updateTime),o=r.document.createTime?mn(r.document.createTime):ge.min(),a=new Ct({mapValue:{fields:r.document.fields}}),l=mt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new xo(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Gl(e,r.document),s=r.readTime?mn(r.readTime):ge.min(),o=mt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new xo([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Gl(e,r.document),s=r.removedTargetIds||[];n=new xo([],s,i,null)}else{if(!("filter"in t))return fe();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new NR(i,s),a=r.targetId;n=new iv(a,o)}}return n}function QR(e,t){let n;if(t instanceof Qs)n={update:pm(e,t.key,t.value)};else if(t instanceof wh)n={delete:tc(e,t.key)};else if(t instanceof nr)n={update:pm(e,t.key,t.data),updateMask:iP(t.fieldMask)};else{if(!(t instanceof MR))return fe();n={verify:tc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof sa)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xs)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Vs)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof oa)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw fe()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:KR(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:fe()}(e,t.precondition)),n}function YR(e,t){return e&&e.length>0?($e(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?mn(i.updateTime):mn(s);return o.isEqual(ge.min())&&(o=mn(s)),new xR(o,i.transformResults||[])}(n,t))):[]}function XR(e,t){return{documents:[nc(e,t.path)]}}function JR(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=nc(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=nc(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return cv(tn.create(l,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:Xr(h.field),direction:tP(h.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=ec(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function ZR(e){let t=WR(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$e(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(h){const f=uv(h);return f instanceof tn&&$_(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(g){return new ia(Jr(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Xa(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,d=h.values||[];return new ra(d,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,d=h.values||[];return new ra(d,f)}(n.endAt)),_R(t,i,o,s,a,"F",l,u)}function eP(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function uv(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Jr(n.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Jr(n.unaryFilter.field);return Xe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Jr(n.unaryFilter.field);return Xe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Jr(n.unaryFilter.field);return Xe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(e):e.fieldFilter!==void 0?function(n){return Xe.create(Jr(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return tn.create(n.compositeFilter.filters.map(r=>uv(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return fe()}}(n.compositeFilter.op))}(e):fe()}function tP(e){return UR[e]}function nP(e){return jR[e]}function rP(e){return zR[e]}function Xr(e){return{fieldPath:e.canonicalString()}}function Jr(e){return lt.fromServerFormat(e.fieldPath)}function cv(e){return e instanceof Xe?function(n){if(n.op==="=="){if(nm(n.value))return{unaryFilter:{field:Xr(n.field),op:"IS_NAN"}};if(tm(n.value))return{unaryFilter:{field:Xr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nm(n.value))return{unaryFilter:{field:Xr(n.field),op:"IS_NOT_NAN"}};if(tm(n.value))return{unaryFilter:{field:Xr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xr(n.field),op:nP(n.op),value:n.value}}}(e):e instanceof tn?function(n){const r=n.getFilters().map(i=>cv(i));return r.length===1?r[0]:{compositeFilter:{op:rP(n.op),filters:r}}}(e):fe()}function iP(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function hv(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t,n,r,i,s=ge.min(),o=ge.min(),a=vt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new On(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new On(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new On(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new On(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(t){this.ct=t}}function oP(e){const t=ZR({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Zu(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(){this._n=new lP}addToCollectionParentIndex(t,n){return this._n.add(n),q.resolve()}getCollectionParents(t,n){return q.resolve(this._n.getEntries(n))}addFieldIndex(t,n){return q.resolve()}deleteFieldIndex(t,n){return q.resolve()}deleteAllFieldIndexes(t){return q.resolve()}createTargetIndexes(t,n){return q.resolve()}getDocumentsMatchingTarget(t,n){return q.resolve(null)}getIndexType(t,n){return q.resolve(0)}getFieldIndexes(t,n){return q.resolve([])}getNextCollectionGroupToUpdate(t){return q.resolve(null)}getMinOffset(t,n){return q.resolve(Wn.min())}getMinOffsetFromCollectionGroup(t,n){return q.resolve(Wn.min())}updateCollectionGroup(t,n,r){return q.resolve()}updateIndexEntries(t,n){return q.resolve()}}class lP{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new ct(Ne.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new ct(Ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new yi(0)}static Bn(){return new yi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(){this.changes=new xi(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,mt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&ss(r.mutation,i,Vt.empty(),et.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Ee()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Ee()){const i=wr();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=Wi();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=wr();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Ee()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=An();const o=is(),a=function(){return is()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof nr)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),ss(c.mutation,u,c.mutation.getFieldMask(),et.now())):o.set(u.key,Vt.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new cP(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const r=is();let i=new qe((o,a)=>o-a),s=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Vt.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||Ee()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=G_();c.forEach(f=>{if(!s.has(f)){const d=tv(n.get(f),r.get(f));d!==null&&h.set(f,d),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,h))}return q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):j_(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):q.resolve(wr());let a=-1,l=s;return o.next(u=>q.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?q.resolve():this.remoteDocumentCache.getEntry(t,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,Ee())).next(c=>({batchId:a,changes:W_(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ae(n)).next(r=>{let i=Wi();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=Wi();return this.indexManager.getCollectionParents(t,s).next(a=>q.forEach(a,l=>{const u=function(h,f){return new Gs(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(c=>{c.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,mt.newInvalidDocument(c)))});let a=Wi();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&ss(c.mutation,u,Vt.empty(),et.now()),el(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,n){return q.resolve(this.cr.get(n))}saveBundleMetadata(t,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:mn(i.createTime)}}(n)),q.resolve()}getNamedQuery(t,n){return q.resolve(this.lr.get(n))}saveNamedQuery(t,n){return this.lr.set(n.name,function(i){return{name:i.name,query:oP(i.bundledQuery),readTime:mn(i.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this.overlays=new qe(ae.comparator),this.hr=new Map}getOverlay(t,n){return q.resolve(this.overlays.get(n))}getOverlays(t,n){const r=wr();return q.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.ht(t,n,s)}),q.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),q.resolve()}getOverlaysForCollection(t,n,r){const i=wr(),s=n.length+1,o=new ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return q.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new qe((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=wr(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=wr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return q.resolve(a)}ht(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new LR(n,r));let s=this.hr.get(n);s===void 0&&(s=Ee(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(){this.Pr=new ct(tt.Ir),this.Tr=new ct(tt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,n){const r=new tt(t,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Ar(new tt(t,n))}Rr(t,n){t.forEach(r=>this.removeReference(r,n))}Vr(t){const n=new ae(new Ne([])),r=new tt(n,t),i=new tt(n,t+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const n=new ae(new Ne([])),r=new tt(n,t),i=new tt(n,t+1);let s=Ee();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new tt(t,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class tt{constructor(t,n){this.key=t,this.pr=n}static Ir(t,n){return ae.comparator(t.key,n.key)||Ce(t.pr,n.pr)}static Er(t,n){return Ce(t.pr,n.pr)||ae.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ct(tt.Ir)}checkEmpty(t){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new OR(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new tt(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return q.resolve(o)}lookupMutationBatch(t,n){return q.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.br(r),s=i<0?0:i;return q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new tt(n,0),i=new tt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new ct(Ce);return n.forEach(i=>{const s=new tt(i,0),o=new tt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),q.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;ae.isDocumentKey(s)||(s=s.child(""));const o=new tt(new ae(s),0);let a=new ct(Ce);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},o),q.resolve(this.Dr(a))}Dr(t){const n=[];return t.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){$e(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return q.forEach(n.mutations,i=>{const s=new tt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.wr=r})}Mn(t){}containsKey(t,n){const r=new tt(n,0),i=this.wr.firstAfterOrEqual(r);return q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,q.resolve()}Cr(t,n){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){const n=this.br(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(t){this.vr=t,this.docs=function(){return new qe(ae.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():mt.newInvalidDocument(n))}getEntries(t,n){let r=An();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():mt.newInvalidDocument(i))}),q.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=An();const o=n.path,a=new ae(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||tR(eR(c),r)<=0||(i.has(c.key)||el(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return q.resolve(s)}getAllFromCollectionGroup(t,n,r,i){fe()}Fr(t,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new pP(this)}getSize(t){return q.resolve(this.size)}}class pP extends uP{constructor(t){super(),this.ar=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(t,i)):this.ar.removeEntry(r)}),q.waitFor(n)}getFromCache(t,n){return this.ar.getEntry(t,n)}getAllFromCache(t,n){return this.ar.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(t){this.persistence=t,this.Mr=new xi(n=>_h(n),vh),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Ih,this.targetCount=0,this.Br=yi.Nn()}forEachTarget(t,n){return this.Mr.forEach((r,i)=>n(i)),q.resolve()}getLastRemoteSnapshotVersion(t){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return q.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Br.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),q.resolve()}qn(t){this.Mr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Br=new yi(n),this.highestTargetId=n),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,n){return this.qn(n),this.targetCount+=1,q.resolve()}updateTargetData(t,n){return this.qn(n),q.resolve()}removeTargetData(t,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),q.waitFor(s).next(()=>i)}getTargetCount(t){return q.resolve(this.targetCount)}getTargetData(t,n){const r=this.Mr.get(n)||null;return q.resolve(r)}addMatchingKeys(t,n,r){return this.Nr.dr(n,r),q.resolve()}removeMatchingKeys(t,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),q.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Nr.Vr(n),q.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Nr.gr(n);return q.resolve(r)}containsKey(t,n){return q.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(t,n){this.Lr={},this.overlays={},this.kr=new mh(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new yP(this),this.indexManager=new aP,this.remoteDocumentCache=function(i){return new gP(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new sP(n),this.$r=new fP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new dP,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Lr[t.toKey()];return r||(r=new mP(n,this.referenceDelegate),this.Lr[t.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,n,r){te("MemoryPersistence","Starting transaction:",t);const i=new vP(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(t,n){return q.or(Object.values(this.Lr).map(r=>()=>r.containsKey(t,n)))}}class vP extends rR{constructor(t){super(),this.currentSequenceNumber=t}}class Ah{constructor(t){this.persistence=t,this.zr=new Ih,this.jr=null}static Hr(t){return new Ah(t)}get Jr(){if(this.jr)return this.jr;throw fe()}addReference(t,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),q.resolve()}removeReference(t,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),q.resolve()}markPotentiallyOrphaned(t,n){return this.Jr.add(n.toString()),q.resolve()}removeTarget(t,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Ur(){this.jr=new Set}Wr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Jr,r=>{const i=ae.fromPath(r);return this.Yr(t,i).next(s=>{s||n.removeEntry(i,ge.min())})}).next(()=>(this.jr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Yr(t,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(t){return 0}Yr(t,n){return q.or([()=>q.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(t,n){let r=Ee(),i=Ee();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Ch(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=8}initialize(t,n){this.zi=t,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.ji(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new wP;return this.Ji(t,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(t,n,o,a.size)})}).next(()=>s.result)}Yi(t,n,r,i){return r.documentReadCount<this.Wi?(Fi()<=Ae.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Yr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),q.resolve()):(Fi()<=Ae.DEBUG&&te("QueryEngine","Query:",Yr(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Fi()<=Ae.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Yr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,dn(n))):q.resolve())}ji(t,n){if(om(n))return q.resolve(null);let r=dn(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Zu(n,null,"F"),r=dn(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=Ee(...s);return this.zi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(t,Zu(n,null,"F")):this.es(t,u,n,l)}))})))}Hi(t,n,r,i){return om(n)||i.isEqual(ge.min())?q.resolve(null):this.zi.getDocuments(t,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?q.resolve(null):(Fi()<=Ae.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yr(n)),this.es(t,o,n,ZS(i,-1)).next(a=>a))})}Zi(t,n){let r=new ct(H_(t));return n.forEach((i,s)=>{el(t,s)&&(r=r.add(s))}),r}Xi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(t,n,r){return Fi()<=Ae.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Yr(n)),this.zi.getDocumentsMatchingQuery(t,n,Wn.min(),r)}es(t,n,r,i){return this.zi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(t,n,r,i){this.persistence=t,this.ts=n,this.serializer=i,this.ns=new qe(Ce),this.rs=new xi(s=>_h(s),vh),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new hP(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ns))}}function TP(e,t,n,r){return new bP(e,t,n,r)}async function fv(e,t){const n=ve(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ee();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function IP(e,t){const n=ve(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,f=h.keys();let d=q.resolve();return f.forEach(g=>{d=d.next(()=>c.getEntry(l,g)).next(w=>{const v=u.docVersions.get(g);$e(v!==null),w.version.compareTo(v)<0&&(h.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),c.addEntry(w)))})}),d.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ee();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function dv(e){const t=ve(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Qr.getLastRemoteSnapshotVersion(n))}function AP(e,t){const n=ve(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];t.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,h)));let d=f.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(h)!==null?d=d.withResumeToken(vt.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):c.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(c.resumeToken,r)),i=i.insert(h,d),function(w,v,I){return w.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(f,d,c)&&a.push(n.Qr.updateTargetData(s,d))});let l=An(),u=Ee();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(CP(s,o,t.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(ge.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return q.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ns=i,s))}function CP(e,t,n){let r=Ee(),i=Ee();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=An();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ge.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:i}})}function SP(e,t){const n=ve(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function RP(e,t){const n=ve(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,t).next(s=>s?(i=s,q.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new On(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(t,r.targetId)),r})}async function ic(e,t,n){const r=ve(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ws(o))throw o;te("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function ym(e,t,n){const r=ve(e);let i=ge.min(),s=Ee();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=ve(l),f=h.rs.get(c);return f!==void 0?q.resolve(h.ns.get(f)):h.Qr.getTargetData(u,c)}(r,o,dn(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,t,n?i:ge.min(),n?s:Ee())).next(a=>(PP(r,wR(t),a),{documents:a,hs:s})))}function PP(e,t,n){let r=e.ss.get(t)||ge.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.ss.set(t,r)}class _m{constructor(){this.activeTargetIds=CR()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class kP{constructor(){this.no=new _m,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,n,r){this.ro[t]=n}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new _m,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{io(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static C(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o=null;function Ql(){return _o===null?_o=function(){return 268435456+Math.round(2147483648*Math.random())}():_o++,"0x"+_o.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}onMessage(t){this.Ao=t}close(){this.ho()}send(t){this.lo(t)}Ro(){this.Io()}Vo(t){this.Eo(t)}mo(t){this.Ao(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht="WebChannelConnection";class MP extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=Ql(),l=this.bo(n,r);te("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,l,u,i).then(c=>(te("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw di("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ki}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=VP[n];return`${this.fo}/v1/${r}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Co(t,n,r,i){const s=Ql();return new Promise((o,a)=>{const l=new US;l.setWithCredentials(!0),l.listenOnce(BS.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Wl.NO_ERROR:const c=l.getResponseJson();te(ht,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case Wl.TIMEOUT:te(ht,`RPC '${t}' ${s} timed out`),a(new ee(L.DEADLINE_EXCEEDED,"Request time out"));break;case Wl.HTTP_ERROR:const h=l.getStatus();if(te(ht,`RPC '${t}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const d=f==null?void 0:f.error;if(d&&d.status&&d.message){const g=function(v){const I=v.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(I)>=0?I:L.UNKNOWN}(d.status);a(new ee(g,d.message))}else a(new ee(L.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ee(L.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{te(ht,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);te(ht,`RPC '${t}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(t,n,r){const i=Ql(),s=[this.fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=FS(),a=$S(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");te(ht,`Creating RPC '${t}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let f=!1,d=!1;const g=new DP({lo:v=>{d?te(ht,`Not sending because RPC '${t}' stream ${i} is closed:`,v):(f||(te(ht,`Opening RPC '${t}' stream ${i} transport.`),h.open(),f=!0),te(ht,`RPC '${t}' stream ${i} sending:`,v),h.send(v))},ho:()=>h.close()}),w=(v,I,y)=>{v.listen(I,A=>{try{y(A)}catch(V){setTimeout(()=>{throw V},0)}})};return w(h,go.EventType.OPEN,()=>{d||te(ht,`RPC '${t}' stream ${i} transport opened.`)}),w(h,go.EventType.CLOSE,()=>{d||(d=!0,te(ht,`RPC '${t}' stream ${i} transport closed`),g.Vo())}),w(h,go.EventType.ERROR,v=>{d||(d=!0,di(ht,`RPC '${t}' stream ${i} transport errored:`,v),g.Vo(new ee(L.UNAVAILABLE,"The operation could not be completed")))}),w(h,go.EventType.MESSAGE,v=>{var I;if(!d){const y=v.data[0];$e(!!y);const A=y,V=A.error||((I=A[0])===null||I===void 0?void 0:I.error);if(V){te(ht,`RPC '${t}' stream ${i} received error:`,V);const $=V.status;let z=function(b){const T=Ge[b];if(T!==void 0)return rv(T)}($),F=V.message;z===void 0&&(z=L.INTERNAL,F="Unknown error status: "+$+" with message "+V.message),d=!0,g.Vo(new ee(z,F)),h.close()}else te(ht,`RPC '${t}' stream ${i} received:`,y),g.mo(y)}}),w(a,qS.STAT_EVENT,v=>{v.stat===Qd.PROXY?te(ht,`RPC '${t}' stream ${i} detected buffering proxy`):v.stat===Qd.NOPROXY&&te(ht,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}}function Yl(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(e){return new HR(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(t,n,r=1e3,i=1.5,s=6e4){this.oi=t,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(t){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),t())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(t,n,r,i,s,o,a,l){this.oi=t,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new mv(t,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(t){this.n_(),this.stream.send(t)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(t,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,t!==4?this.jo.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(In(n.toString()),In("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.To(n)}i_(){}auth(){this.state=1;const t=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{t(()=>{const i=new ee(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(t,n){const r=this.s_(this.Wo);this.stream=this.a_(t,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(t){return te("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}s_(t){return n=>{this.oi.enqueueAndForget(()=>this.Wo===t?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OP extends gv{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(t,n){return this.connection.Fo("Listen",t,n)}onMessage(t){this.jo.reset();const n=GR(this.serializer,t),r=function(s){if(!("targetChange"in s))return ge.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?mn(o.readTime):ge.min()}(t);return this.listener.u_(n,r)}c_(t){const n={};n.database=rc(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Xu(l)?{documents:XR(s,l)}:{query:JR(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=ov(s,o.resumeToken);const u=ec(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ge.min())>0){a.readTime=aa(s,o.snapshotVersion.toTimestamp());const u=ec(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=eP(this.serializer,t);r&&(n.labels=r),this.t_(n)}l_(t){const n={};n.database=rc(this.serializer),n.removeTarget=t,this.t_(n)}}class LP extends gv{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(t,n){return this.connection.Fo("Write",t,n)}onMessage(t){if($e(!!t.streamToken),this.lastStreamToken=t.streamToken,this.h_){this.jo.reset();const n=YR(t.writeResults,t.commitTime),r=mn(t.commitTime);return this.listener.T_(r,n)}return $e(!t.writeResults||t.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const t={};t.database=rc(this.serializer),this.t_(t)}I_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>QR(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new ee(L.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.So(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ee(L.UNKNOWN,i.toString())})}vo(t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee(L.UNKNOWN,s.toString())})}terminate(){this.A_=!0}}class FP{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(t){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.y_("Offline")))}set(t){this.b_(),this.m_=0,t==="Online"&&(this.g_=!1),this.y_(t)}y_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}w_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(In(n),this.g_=!1):te("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{$r(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ve(l);u.v_.add(4),await Xs(u),u.x_.set("Unknown"),u.v_.delete(4),await sl(u)}(this))})}),this.x_=new FP(r,i)}}async function sl(e){if($r(e))for(const t of e.F_)await t(!0)}async function Xs(e){for(const t of e.F_)await t(!1)}function pv(e,t){const n=ve(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),Ph(n)?Rh(n):Vi(n).Jo()&&Sh(n,t))}function yv(e,t){const n=ve(e),r=Vi(n);n.C_.delete(t),r.Jo()&&_v(n,t),n.C_.size===0&&(r.Jo()?r.Xo():$r(n)&&n.x_.set("Unknown"))}function Sh(e,t){if(e.O_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ge.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Vi(e).c_(t)}function _v(e,t){e.O_.Ne(t),Vi(e).l_(t)}function Rh(e){e.O_=new qR({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.C_.get(t)||null,rt:()=>e.datastore.serializer.databaseId}),Vi(e).start(),e.x_.p_()}function Ph(e){return $r(e)&&!Vi(e).Ho()&&e.C_.size>0}function $r(e){return ve(e).v_.size===0}function vv(e){e.O_=void 0}async function BP(e){e.C_.forEach((t,n)=>{Sh(e,t)})}async function qP(e,t){vv(e),Ph(e)?(e.x_.S_(t),Rh(e)):e.x_.set("Unknown")}async function UP(e,t,n){if(e.x_.set("Online"),t instanceof sv&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(e,t)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await la(e,r)}else if(t instanceof xo?e.O_.Ue(t):t instanceof iv?e.O_.Ye(t):e.O_.ze(t),!n.isEqual(ge.min()))try{const r=await dv(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.st(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.C_.get(u);c&&s.C_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.C_.get(l);if(!c)return;s.C_.set(l,c.withResumeToken(vt.EMPTY_BYTE_STRING,c.snapshotVersion)),_v(s,l);const h=new On(c.target,l,u,c.sequenceNumber);Sh(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){te("RemoteStore","Failed to raise snapshot:",r),await la(e,r)}}async function la(e,t,n){if(!Ws(t))throw t;e.v_.add(1),await Xs(e),e.x_.set("Offline"),n||(n=()=>dv(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await sl(e)})}function wv(e,t){return t().catch(n=>la(e,n,t))}async function ol(e){const t=ve(e),n=Qn(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;jP(t);)try{const i=await SP(t.localStore,r);if(i===null){t.D_.length===0&&n.Xo();break}r=i.batchId,zP(t,i)}catch(i){await la(t,i)}Ev(t)&&bv(t)}function jP(e){return $r(e)&&e.D_.length<10}function zP(e,t){e.D_.push(t);const n=Qn(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function Ev(e){return $r(e)&&!Qn(e).Ho()&&e.D_.length>0}function bv(e){Qn(e).start()}async function HP(e){Qn(e).d_()}async function KP(e){const t=Qn(e);for(const n of e.D_)t.I_(n.mutations)}async function WP(e,t,n){const r=e.D_.shift(),i=Eh.from(r,t,n);await wv(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await ol(e)}async function GP(e,t){t&&Qn(e).P_&&await async function(r,i){if(function(o){return FR(o)&&o!==L.ABORTED}(i.code)){const s=r.D_.shift();Qn(r).Zo(),await wv(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ol(r)}}(e,t),Ev(e)&&bv(e)}async function wm(e,t){const n=ve(e);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const r=$r(n);n.v_.add(3),await Xs(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await sl(n)}async function QP(e,t){const n=ve(e);t?(n.v_.delete(2),await sl(n)):t||(n.v_.add(2),await Xs(n),n.x_.set("Unknown"))}function Vi(e){return e.N_||(e.N_=function(n,r,i){const s=ve(n);return s.R_(),new OP(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Po:BP.bind(null,e),To:qP.bind(null,e),u_:UP.bind(null,e)}),e.F_.push(async t=>{t?(e.N_.Zo(),Ph(e)?Rh(e):e.x_.set("Unknown")):(await e.N_.stop(),vv(e))})),e.N_}function Qn(e){return e.B_||(e.B_=function(n,r,i){const s=ve(n);return s.R_(),new LP(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Po:HP.bind(null,e),To:GP.bind(null,e),E_:KP.bind(null,e),T_:WP.bind(null,e)}),e.F_.push(async t=>{t?(e.B_.Zo(),await ol(e)):(await e.B_.stop(),e.D_.length>0&&(te("RemoteStore",`Stopping write stream with ${e.D_.length} pending writes`),e.D_=[]))})),e.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new kh(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(L.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xh(e,t){if(In("AsyncQueue",`${t}: ${e}`),Ws(e))return new ee(L.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(t){this.comparator=t?(n,r)=>t(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=Wi(),this.sortedSet=new qe(this.comparator)}static emptySet(t){return new oi(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof oi)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new oi;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(){this.L_=new qe(ae.comparator)}track(t){const n=t.doc.key,r=this.L_.get(n);r?t.type!==0&&r.type===3?this.L_=this.L_.insert(n,t):t.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.L_=this.L_.remove(n):t.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:t.doc}):fe():this.L_=this.L_.insert(n,t)}k_(){const t=[];return this.L_.inorderTraversal((n,r)=>{t.push(r)}),t}}class _i{constructor(t,n,r,i,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new _i(t,n,oi.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Za(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(){this.q_=void 0,this.listeners=[]}}class XP{constructor(){this.queries=new xi(t=>z_(t),Za),this.onlineState="Unknown",this.Q_=new Set}}async function Vh(e,t){const n=ve(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new YP),i)try{s.q_=await n.onListen(r)}catch(o){const a=xh(o,`Initialization of query '${Yr(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.K_(n.onlineState),s.q_&&t.U_(s.q_)&&Mh(n)}async function Dh(e,t){const n=ve(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function JP(e,t){const n=ve(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.U_(i)&&(r=!0);o.q_=i}}r&&Mh(n)}function ZP(e,t,n){const r=ve(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Mh(e){e.Q_.forEach(t=>{t.next()})}class Oh{constructor(t,n,r){this.query=t,this.W_=n,this.G_=!1,this.z_=null,this.onlineState="Unknown",this.options=r||{}}U_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new _i(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.G_?this.j_(t)&&(this.W_.next(t),n=!0):this.H_(t,this.onlineState)&&(this.J_(t),n=!0),this.z_=t,n}onError(t){this.W_.error(t)}K_(t){this.onlineState=t;let n=!1;return this.z_&&!this.G_&&this.H_(this.z_,t)&&(this.J_(this.z_),n=!0),n}H_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.Y_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}j_(t){if(t.docChanges.length>0)return!0;const n=this.z_&&this.z_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}J_(t){t=_i.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.G_=!0,this.W_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(t){this.key=t}}class Iv{constructor(t){this.key=t}}class e1{constructor(t,n){this.query=t,this.sa=n,this.oa=null,this.hasCachedResults=!1,this.current=!1,this._a=Ee(),this.mutatedKeys=Ee(),this.aa=H_(t),this.ua=new oi(this.aa)}get ca(){return this.sa}la(t,n){const r=n?n.ha:new Em,i=n?n.ua:this.ua;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,h)=>{const f=i.get(c),d=el(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),w=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let v=!1;f&&d?f.data.isEqual(d.data)?g!==w&&(r.track({type:3,doc:d}),v=!0):this.Pa(f,d)||(r.track({type:2,doc:d}),v=!0,(l&&this.aa(d,l)>0||u&&this.aa(d,u)<0)&&(a=!0)):!f&&d?(r.track({type:0,doc:d}),v=!0):f&&!d&&(r.track({type:1,doc:f}),v=!0,(l||u)&&(a=!0)),v&&(d?(o=o.add(d),s=w?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ua:o,ha:r,Xi:a,mutatedKeys:s}}Pa(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const i=this.ua;this.ua=t.ua,this.mutatedKeys=t.mutatedKeys;const s=t.ha.k_();s.sort((u,c)=>function(f,d){const g=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return g(f)-g(d)}(u.type,c.type)||this.aa(u.doc,c.doc)),this.Ia(r);const o=n?this.Ta():[],a=this._a.size===0&&this.current?1:0,l=a!==this.oa;return this.oa=a,s.length!==0||l?{snapshot:new _i(this.query,t.ua,i,s,t.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}K_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ua:this.ua,ha:new Em,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Ea:[]}}da(t){return!this.sa.has(t)&&!!this.ua.has(t)&&!this.ua.get(t).hasLocalMutations}Ia(t){t&&(t.addedDocuments.forEach(n=>this.sa=this.sa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.sa=this.sa.delete(n)),this.current=t.current)}Ta(){if(!this.current)return[];const t=this._a;this._a=Ee(),this.ua.forEach(r=>{this.da(r.key)&&(this._a=this._a.add(r.key))});const n=[];return t.forEach(r=>{this._a.has(r)||n.push(new Iv(r))}),this._a.forEach(r=>{t.has(r)||n.push(new Tv(r))}),n}Aa(t){this.sa=t.hs,this._a=Ee();const n=this.la(t.documents);return this.applyChanges(n,!0)}Ra(){return _i.fromInitialDocuments(this.query,this.ua,this.mutatedKeys,this.oa===0,this.hasCachedResults)}}class t1{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class n1{constructor(t){this.key=t,this.Va=!1}}class r1{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ma={},this.fa=new xi(a=>z_(a),Za),this.ga=new Map,this.pa=new Set,this.ya=new qe(ae.comparator),this.wa=new Map,this.Sa=new Ih,this.ba={},this.Da=new Map,this.Ca=yi.Bn(),this.onlineState="Unknown",this.va=void 0}get isPrimaryClient(){return this.va===!0}}async function i1(e,t){const n=m1(e);let r,i;const s=n.fa.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ra();else{const o=await RP(n.localStore,dn(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await s1(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&pv(n.remoteStore,o)}return i}async function s1(e,t,n,r,i){e.Fa=(h,f,d)=>async function(w,v,I,y){let A=v.view.la(I);A.Xi&&(A=await ym(w.localStore,v.query,!1).then(({documents:z})=>v.view.la(z,A)));const V=y&&y.targetChanges.get(v.targetId),$=v.view.applyChanges(A,w.isPrimaryClient,V);return Tm(w,v.targetId,$.Ea),$.snapshot}(e,h,f,d);const s=await ym(e.localStore,t,!0),o=new e1(t,s.hs),a=o.la(s.documents),l=Ys.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=o.applyChanges(a,e.isPrimaryClient,l);Tm(e,n,u.Ea);const c=new t1(t,n,o);return e.fa.set(t,c),e.ga.has(n)?e.ga.get(n).push(t):e.ga.set(n,[t]),u.snapshot}async function o1(e,t){const n=ve(e),r=n.fa.get(t),i=n.ga.get(r.targetId);if(i.length>1)return n.ga.set(r.targetId,i.filter(s=>!Za(s,t))),void n.fa.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await ic(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),yv(n.remoteStore,r.targetId),sc(n,r.targetId)}).catch(Ks)):(sc(n,r.targetId),await ic(n.localStore,r.targetId,!0))}async function a1(e,t,n){const r=g1(e);try{const i=await function(o,a){const l=ve(o),u=et.now(),c=a.reduce((d,g)=>d.add(g.key),Ee());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let g=An(),w=Ee();return l.os.getEntries(d,c).next(v=>{g=v,g.forEach((I,y)=>{y.isValidDocument()||(w=w.add(I))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,g)).next(v=>{h=v;const I=[];for(const y of a){const A=DR(y,h.get(y.key).overlayedDocument);A!=null&&I.push(new nr(y.key,A,L_(A.value.mapValue),Zt.exists(!0)))}return l.mutationQueue.addMutationBatch(d,u,I,a)}).next(v=>{f=v;const I=v.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(d,v.batchId,I)})}).then(()=>({batchId:f.batchId,changes:W_(h)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.ba[o.currentUser.toKey()];u||(u=new qe(Ce)),u=u.insert(a,l),o.ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Js(r,i.changes),await ol(r.remoteStore)}catch(i){const s=xh(i,"Failed to persist write");n.reject(s)}}async function Av(e,t){const n=ve(e);try{const r=await AP(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.wa.get(s);o&&($e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Va=!0:i.modifiedDocuments.size>0?$e(o.Va):i.removedDocuments.size>0&&($e(o.Va),o.Va=!1))}),await Js(n,r,t)}catch(r){await Ks(r)}}function bm(e,t,n){const r=ve(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.fa.forEach((s,o)=>{const a=o.view.K_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ve(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const f of h.listeners)f.K_(a)&&(u=!0)}),u&&Mh(l)}(r.eventManager,t),i.length&&r.ma.u_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function l1(e,t,n){const r=ve(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.wa.get(t),s=i&&i.key;if(s){let o=new qe(ae.comparator);o=o.insert(s,mt.newNoDocument(s,ge.min()));const a=Ee().add(s),l=new rl(ge.min(),new Map,new qe(Ce),o,a);await Av(r,l),r.ya=r.ya.remove(s),r.wa.delete(t),Lh(r)}else await ic(r.localStore,t,!1).then(()=>sc(r,t,n)).catch(Ks)}async function u1(e,t){const n=ve(e),r=t.batch.batchId;try{const i=await IP(n.localStore,t);Sv(n,r,null),Cv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Js(n,i)}catch(i){await Ks(i)}}async function c1(e,t,n){const r=ve(e);try{const i=await function(o,a){const l=ve(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>($e(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);Sv(r,t,n),Cv(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Js(r,i)}catch(i){await Ks(i)}}function Cv(e,t){(e.Da.get(t)||[]).forEach(n=>{n.resolve()}),e.Da.delete(t)}function Sv(e,t,n){const r=ve(e);let i=r.ba[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.ba[r.currentUser.toKey()]=i}}function sc(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ga.get(t))e.fa.delete(r),n&&e.ma.Ma(r,n);e.ga.delete(t),e.isPrimaryClient&&e.Sa.Vr(t).forEach(r=>{e.Sa.containsKey(r)||Rv(e,r)})}function Rv(e,t){e.pa.delete(t.path.canonicalString());const n=e.ya.get(t);n!==null&&(yv(e.remoteStore,n),e.ya=e.ya.remove(t),e.wa.delete(n),Lh(e))}function Tm(e,t,n){for(const r of n)r instanceof Tv?(e.Sa.addReference(r.key,t),h1(e,r)):r instanceof Iv?(te("SyncEngine","Document no longer in limbo: "+r.key),e.Sa.removeReference(r.key,t),e.Sa.containsKey(r.key)||Rv(e,r.key)):fe()}function h1(e,t){const n=t.key,r=n.path.canonicalString();e.ya.get(n)||e.pa.has(r)||(te("SyncEngine","New document in limbo: "+n),e.pa.add(r),Lh(e))}function Lh(e){for(;e.pa.size>0&&e.ya.size<e.maxConcurrentLimboResolutions;){const t=e.pa.values().next().value;e.pa.delete(t);const n=new ae(Ne.fromString(t)),r=e.Ca.next();e.wa.set(r,new n1(n)),e.ya=e.ya.insert(n,r),pv(e.remoteStore,new On(dn(Ja(n.path)),r,"TargetPurposeLimboResolution",mh.ae))}}async function Js(e,t,n){const r=ve(e),i=[],s=[],o=[];r.fa.isEmpty()||(r.fa.forEach((a,l)=>{o.push(r.Fa(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Ch.Ki(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.ma.u_(i),await async function(l,u){const c=ve(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>q.forEach(u,f=>q.forEach(f.qi,d=>c.persistence.referenceDelegate.addReference(h,f.targetId,d)).next(()=>q.forEach(f.Qi,d=>c.persistence.referenceDelegate.removeReference(h,f.targetId,d)))))}catch(h){if(!Ws(h))throw h;te("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const d=c.ns.get(f),g=d.snapshotVersion,w=d.withLastLimboFreeSnapshotVersion(g);c.ns=c.ns.insert(f,w)}}}(r.localStore,s))}async function f1(e,t){const n=ve(e);if(!n.currentUser.isEqual(t)){te("SyncEngine","User change. New user:",t.toKey());const r=await fv(n.localStore,t);n.currentUser=t,function(s,o){s.Da.forEach(a=>{a.forEach(l=>{l.reject(new ee(L.CANCELLED,o))})}),s.Da.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Js(n,r.us)}}function d1(e,t){const n=ve(e),r=n.wa.get(t);if(r&&r.Va)return Ee().add(r.key);{let i=Ee();const s=n.ga.get(t);if(!s)return i;for(const o of s){const a=n.fa.get(o);i=i.unionWith(a.view.ca)}return i}}function m1(e){const t=ve(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Av.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=d1.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=l1.bind(null,t),t.ma.u_=JP.bind(null,t.eventManager),t.ma.Ma=ZP.bind(null,t.eventManager),t}function g1(e){const t=ve(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=u1.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=c1.bind(null,t),t}class Im{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=il(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return TP(this.persistence,new EP,t.initialUser,this.serializer)}createPersistence(t){return new _P(Ah.Hr,this.serializer)}createSharedClientState(t){return new kP}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class p1{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=f1.bind(null,this.syncEngine),await QP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new XP}()}createDatastore(t){const n=il(t.databaseInfo.databaseId),r=function(s){return new MP(s)}(t.databaseInfo);return function(s,o,a,l){return new NP(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new $P(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>bm(this.syncEngine,n,0),function(){return vm.C()?new vm:new xP}())}createSyncEngine(t,n){return function(i,s,o,a,l,u,c){const h=new r1(i,s,o,a,l,u);return c&&(h.va=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ve(n);te("RemoteStore","RemoteStore shutting down."),r.v_.add(5),await Xs(r),r.M_.shutdown(),r.x_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Na(this.observer.next,t)}error(t){this.observer.error?this.Na(this.observer.error,t):In("Uncaught Error in snapshot listener:",t.toString())}Ba(){this.muted=!0}Na(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=dt.UNAUTHENTICATED,this.clientId=D_.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{te("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(te("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ee(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=xh(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Xl(e,t){e.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await fv(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Am(e,t){e.asyncQueue.verifyOperationInProgress();const n=await v1(e);te("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>wm(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>wm(t.remoteStore,s)),e._onlineComponents=t}function _1(e){return e.name==="FirebaseError"?e.code===L.FAILED_PRECONDITION||e.code===L.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function v1(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await Xl(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!_1(n))throw n;di("Error using user provided cache. Falling back to memory cache: "+n),await Xl(e,new Im)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await Xl(e,new Im);return e._offlineComponents}async function Pv(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await Am(e,e._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await Am(e,new p1))),e._onlineComponents}function w1(e){return Pv(e).then(t=>t.syncEngine)}async function ua(e){const t=await Pv(e),n=t.eventManager;return n.onListen=i1.bind(null,t.syncEngine),n.onUnlisten=o1.bind(null,t.syncEngine),n}function E1(e,t,n={}){const r=new wn;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new Nh({next:f=>{o.enqueueAndForget(()=>Dh(s,h));const d=f.docs.has(a);!d&&f.fromCache?u.reject(new ee(L.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&f.fromCache&&l&&l.source==="server"?u.reject(new ee(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new Oh(Ja(a.path),c,{includeMetadataChanges:!0,Y_:!0});return Vh(s,h)}(await ua(e),e.asyncQueue,t,n,r)),r.promise}function b1(e,t,n={}){const r=new wn;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new Nh({next:f=>{o.enqueueAndForget(()=>Dh(s,h)),f.fromCache&&l.source==="server"?u.reject(new ee(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new Oh(a,c,{includeMetadataChanges:!0,Y_:!0});return Vh(s,h)}(await ua(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(e,t,n){if(!n)throw new ee(L.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function T1(e,t,n,r){if(t===!0&&r===!0)throw new ee(L.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Sm(e){if(!ae.isDocumentKey(e))throw new ee(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Rm(e){if(ae.isDocumentKey(e))throw new ee(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function al(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":fe()}function Mt(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ee(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=al(e);throw new ee(L.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new ee(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ee(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}T1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kv((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ee(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ee(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ee(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ll{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ee(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new ee(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pm(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new zS;switch(r.type){case"firstParty":return new GS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Cm.get(n);r&&(te("ComponentProvider","Removing Datastore"),Cm.delete(n),r.terminate())}(this),Promise.resolve()}}function Vv(e,t,n,r={}){var i;const s=(e=Mt(e,ll))._getSettings(),o=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&di("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=dt.MOCK_USER;else{a=zT(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ee(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new dt(u)}e._authCredentials=new HS(new V_(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Br(this.firestore,t,this._query)}}class _t{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Un(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new _t(this.firestore,t,this._key)}}class Un extends Br{constructor(t,n,r){super(t,n,Ja(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new _t(this.firestore,null,new ae(t))}withConverter(t){return new Un(this.firestore,t,this._path)}}function Gr(e,t,...n){if(e=Ut(e),xv("collection","path",t),e instanceof ll){const r=Ne.fromString(t,...n);return Rm(r),new Un(e,null,r)}{if(!(e instanceof _t||e instanceof Un))throw new ee(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ne.fromString(t,...n));return Rm(r),new Un(e.firestore,null,r)}}function Ft(e,t,...n){if(e=Ut(e),arguments.length===1&&(t=D_.V()),xv("doc","path",t),e instanceof ll){const r=Ne.fromString(t,...n);return Sm(r),new _t(e,null,new ae(r))}{if(!(e instanceof _t||e instanceof Un))throw new ee(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ne.fromString(t,...n));return Sm(r),new _t(e.firestore,e instanceof Un?e.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(){this.Ya=Promise.resolve(),this.Za=[],this.Xa=!1,this.eu=[],this.tu=null,this.nu=!1,this.ru=!1,this.iu=[],this.jo=new mv(this,"async_queue_retry"),this.su=()=>{const n=Yl();n&&te("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const t=Yl();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.su)}get isShuttingDown(){return this.Xa}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ou(),this._u(t)}enterRestrictedMode(t){if(!this.Xa){this.Xa=!0,this.ru=t||!1;const n=Yl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.su)}}enqueue(t){if(this.ou(),this.Xa)return new Promise(()=>{});const n=new wn;return this._u(()=>this.Xa&&this.ru?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Za.push(t),this.au()))}async au(){if(this.Za.length!==0){try{await this.Za[0](),this.Za.shift(),this.jo.reset()}catch(t){if(!Ws(t))throw t;te("AsyncQueue","Operation failed with retryable error: "+t)}this.Za.length>0&&this.jo.qo(()=>this.au())}}_u(t){const n=this.Ya.then(()=>(this.nu=!0,t().catch(r=>{this.tu=r,this.nu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw In("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.nu=!1,r))));return this.Ya=n,n}enqueueAfterDelay(t,n,r){this.ou(),this.iu.indexOf(t)>-1&&(n=0);const i=kh.createAndSchedule(this,t,n,r,s=>this.uu(s));return this.eu.push(i),i}ou(){this.tu&&fe()}verifyOperationInProgress(){}async cu(){let t;do t=this.Ya,await t;while(t!==this.Ya)}lu(t){for(const n of this.eu)if(n.timerId===t)return!0;return!1}hu(t){return this.cu().then(()=>{this.eu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.eu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.cu()})}Pu(t){this.iu.push(t)}uu(t){const n=this.eu.indexOf(t);this.eu.splice(n,1)}}function km(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(e,["next","error","complete"])}class Yn extends ll{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new I1}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Dv(this),this._firestoreClient.terminate()}}function xm(e,t){const n=typeof e=="object"?e:ry(),r=typeof e=="string"?e:t||"(default)",i=Ns(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=UT("firestore");s&&Vv(i,...s)}return i}function ul(e){return e._firestoreClient||Dv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Dv(e){var t,n,r;const i=e._freezeSettings(),s=function(a,l,u,c){return new oR(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,kv(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new y1(e._authCredentials,e._appCheckCredentials,e._queue,s),((n=i.localCache)===null||n===void 0?void 0:n._offlineComponentProvider)&&((r=i.localCache)===null||r===void 0?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new vi(vt.fromBase64String(t))}catch(n){throw new ee(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new vi(vt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ee(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ee(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ee(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ce(this._lat,t._lat)||Ce(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=/^__.*__$/;class C1{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new nr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Qs(t,this.data,n,this.fieldTransforms)}}class Mv{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new nr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ov(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class Bh{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Iu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(t){return new Bh(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}du(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Eu({path:r,Au:!1});return i.Ru(t),i}Vu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Eu({path:r,Au:!1});return i.Iu(),i}mu(t){return this.Eu({path:void 0,Au:!0})}fu(t){return ca(t,this.settings.methodName,this.settings.gu||!1,this.path,this.settings.pu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Iu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ru(this.path.get(t))}Ru(t){if(t.length===0)throw this.fu("Document fields must not be empty");if(Ov(this.Tu)&&A1.test(t))throw this.fu('Document fields cannot begin and end with "__"')}}class S1{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||il(t)}yu(t,n,r,i=!1){return new Bh({Tu:t,methodName:n,pu:r,path:lt.emptyPath(),Au:!1,gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qh(e){const t=e._freezeSettings(),n=il(e._databaseId);return new S1(e._databaseId,!!t.ignoreUndefinedProperties,n)}function R1(e,t,n,r,i,s={}){const o=e.yu(s.merge||s.mergeFields?2:0,t,n,i);Uh("Data must be an object, but it was:",o,r);const a=Lv(r,o);let l,u;if(s.merge)l=new Vt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=oc(t,h,n);if(!o.contains(f))throw new ee(L.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Fv(c,f)||c.push(f)}l=new Vt(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new C1(new Ct(a),l,u)}class hl extends Fh{_toFieldTransform(t){if(t.Tu!==2)throw t.Tu===1?t.fu(`${this._methodName}() can only appear at the top level of your update data`):t.fu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof hl}}function P1(e,t,n,r){const i=e.yu(1,t,n);Uh("Data must be an object, but it was:",i,r);const s=[],o=Ct.empty();Fr(r,(l,u)=>{const c=jh(t,l,n);u=Ut(u);const h=i.Vu(c);if(u instanceof hl)s.push(c);else{const f=Zs(u,h);f!=null&&(s.push(c),o.set(c,f))}});const a=new Vt(s);return new Mv(o,a,i.fieldTransforms)}function k1(e,t,n,r,i,s){const o=e.yu(1,t,n),a=[oc(t,r,n)],l=[i];if(s.length%2!=0)throw new ee(L.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(oc(t,s[f])),l.push(s[f+1]);const u=[],c=Ct.empty();for(let f=a.length-1;f>=0;--f)if(!Fv(u,a[f])){const d=a[f];let g=l[f];g=Ut(g);const w=o.Vu(d);if(g instanceof hl)u.push(d);else{const v=Zs(g,w);v!=null&&(u.push(d),c.set(d,v))}}const h=new Vt(u);return new Mv(c,h,o.fieldTransforms)}function x1(e,t,n,r=!1){return Zs(n,e.yu(r?4:3,t))}function Zs(e,t){if(Nv(e=Ut(e)))return Uh("Unsupported field value:",t,e),Lv(e,t);if(e instanceof Fh)return function(r,i){if(!Ov(i.Tu))throw i.fu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.fu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Au&&t.Tu!==4)throw t.fu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Zs(a,i.mu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=Ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=et.fromDate(r);return{timestampValue:aa(i.serializer,s)}}if(r instanceof et){const s=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:aa(i.serializer,s)}}if(r instanceof $h)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vi)return{bytesValue:ov(i.serializer,r._byteString)};if(r instanceof _t){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.fu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Th(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.fu(`Unsupported field value: ${al(r)}`)}(e,t)}function Lv(e,t){const n={};return M_(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fr(e,(r,i)=>{const s=Zs(i,t.du(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Nv(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof et||e instanceof $h||e instanceof vi||e instanceof _t||e instanceof Fh)}function Uh(e,t,n){if(!Nv(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=al(n);throw r==="an object"?t.fu(e+" a custom object"):t.fu(e+" "+r)}}function oc(e,t,n){if((t=Ut(t))instanceof cl)return t._internalPath;if(typeof t=="string")return jh(e,t);throw ca("Field path arguments must be of type string or ",e,!1,void 0,n)}const V1=new RegExp("[~\\*/\\[\\]]");function jh(e,t,n){if(t.search(V1)>=0)throw ca(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new cl(...t.split("."))._internalPath}catch{throw ca(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function ca(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ee(L.INVALID_ARGUMENT,a+e+l)}function Fv(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new D1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(zh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class D1 extends $v{data(){return super.data()}}function zh(e,t){return typeof t=="string"?jh(e,t):t instanceof cl?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ee(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hh{}class M1 extends Hh{}function O1(e,t,...n){let r=[];t instanceof Hh&&r.push(t),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Kh).length,a=s.filter(l=>l instanceof fl).length;if(o>1||o>0&&a>0)throw new ee(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class fl extends M1{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new fl(t,n,r)}_apply(t){const n=this._parse(t);return qv(t._query,n),new Br(t.firestore,t.converter,Ju(t._query,n))}_parse(t){const n=qh(t.firestore);return function(s,o,a,l,u,c,h){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ee(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Dm(h,c);const d=[];for(const g of h)d.push(Vm(l,s,g));f={arrayValue:{values:d}}}else f=Vm(l,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Dm(h,c),f=x1(a,o,h,c==="in"||c==="not-in");return Xe.create(u,c,f)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function L1(e,t,n){const r=t,i=zh("where",e);return fl._create(i,r,n)}class Kh extends Hh{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Kh(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:tn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)qv(o,l),o=Ju(o,l)}(t._query,n),new Br(t.firestore,t.converter,Ju(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Vm(e,t,n){if(typeof(n=Ut(n))=="string"){if(n==="")throw new ee(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!j_(t)&&n.indexOf("/")!==-1)throw new ee(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Ne.fromString(n));if(!ae.isDocumentKey(r))throw new ee(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return em(e,new ae(r))}if(n instanceof _t)return em(e,n._key);throw new ee(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${al(n)}.`)}function Dm(e,t){if(!Array.isArray(e)||e.length===0)throw new ee(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function qv(e,t){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ee(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ee(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class N1{convertValue(t,n="none"){switch(Mr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Qe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Dr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw fe()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Fr(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new $h(Qe(t.latitude),Qe(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=ph(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Rs(t));default:return null}}convertTimestamp(t){const n=Gn(t);return new et(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Ne.fromString(t);$e(hv(r));const i=new Ps(r.get(1),r.get(3)),s=new ae(r.popFirst(5));return i.isEqual(n)||In(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Uv extends $v{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Vo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(zh("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Vo extends Uv{data(t={}){return super.data(t)}}class jv{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Vo(this._firestore,this._userDataWriter,r.key,r,new Qi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Vo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Vo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:$1(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function $1(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(e){e=Mt(e,_t);const t=Mt(e.firestore,Yn);return E1(ul(t),e._key).then(n=>zv(t,e,n))}class Wh extends N1{constructor(t){super(),this.firestore=t}convertBytes(t){return new vi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new _t(this.firestore,null,n)}}function $i(e){e=Mt(e,Br);const t=Mt(e.firestore,Yn),n=ul(t),r=new Wh(t);return Bv(e._query),b1(n,e._query).then(i=>new jv(t,r,e,i))}function Bi(e,t,n){e=Mt(e,_t);const r=Mt(e.firestore,Yn),i=F1(e.converter,t,n);return Gh(r,[R1(qh(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Zt.none())])}function Om(e,t,n,...r){e=Mt(e,_t);const i=Mt(e.firestore,Yn),s=qh(i);let o;return o=typeof(t=Ut(t))=="string"||t instanceof cl?k1(s,"updateDoc",e._key,t,n,r):P1(s,"updateDoc",e._key,t),Gh(i,[o.toMutation(e._key,Zt.exists(!0))])}function Lm(e){return Gh(Mt(e.firestore,Yn),[new wh(e._key,Zt.none())])}function Nm(e,...t){var n,r,i;e=Ut(e);let s={includeMetadataChanges:!1},o=0;typeof t[o]!="object"||km(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(km(t[o])){const h=t[o];t[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),t[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),t[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(e instanceof _t)u=Mt(e.firestore,Yn),c=Ja(e._key.path),l={next:h=>{t[o]&&t[o](zv(u,e,h))},error:t[o+1],complete:t[o+2]};else{const h=Mt(e,Br);u=Mt(h.firestore,Yn),c=h._query;const f=new Wh(u);l={next:d=>{t[o]&&t[o](new jv(u,f,h,d))},error:t[o+1],complete:t[o+2]},Bv(e._query)}return function(f,d,g,w){const v=new Nh(w),I=new Oh(d,v,g);return f.asyncQueue.enqueueAndForget(async()=>Vh(await ua(f),I)),()=>{v.Ba(),f.asyncQueue.enqueueAndForget(async()=>Dh(await ua(f),I))}}(ul(u),c,a,l)}function Gh(e,t){return function(r,i){const s=new wn;return r.asyncQueue.enqueueAndForget(async()=>a1(await w1(r),i,s)),s.promise}(ul(e),t)}function zv(e,t,n){const r=n.docs.get(t._key),i=new Wh(e);return new Uv(e,i,t._key,r,new Qi(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(i){ki=i})(YI),Kn(new bn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Yn(new KS(r.getProvider("auth-internal")),new YS(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ee(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ps(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),fn(Yd,"4.3.0",t),fn(Yd,"4.3.0","esm2017")})();const B1=[{id:"3b4eb8af-89bc-40cb-a233-ccf0a852e5e4",name:"peacock",playerPosition:432},{id:"538ea73b-5cbc-47ad-980d-9da03c49c3ff",name:"green",playerPosition:585},{id:"6084da24-c971-4e7a-ac8f-c6425c09e321",name:"mustard",playerPosition:191},{id:"730a504f-3a04-4134-9174-6f8d444c0b00",playerPosition:120,name:"plum"},{name:"scarlett",playerPosition:16,id:"bbdad34f-7bcf-40cf-aa76-974964546961"},{playerPosition:590,id:"f785fb2e-82c8-4947-b0b1-255e5d7edd0c",name:"white"}],Fm=[{id:"260a0608-0cfd-4bb6-ab4c-bc061cf45d85",name:"plum",category:"character"},{id:"446b9d3f-ad42-4560-921d-a67ae2deb456",name:"scarlett",category:"character"},{id:"f0ef40c2-fc7d-4748-9d47-1e3b56418ae9",name:"mustard",category:"character"},{id:"55aa9ce5-4148-4de7-9489-e37aede59bc1",name:"white",category:"character"},{id:"0feef337-3945-4350-85e5-906acc1ad0c8",name:"green",category:"character"},{id:"bd09176c-6c36-495b-b8b2-5aa48c78a42b",name:"peacock",category:"character"},{id:"6f817384-9879-4e37-8403-c58649085901",name:"cano",category:"weapon"},{id:"05831f14-28b6-486a-af11-6df08c2173df",name:"castical",category:"weapon"},{id:"be7c03b7-218e-4c48-8a64-caa8cd1652cc",name:"chaveinglesa",category:"weapon"},{id:"51a0ddef-36a6-4086-866b-1d4a8171c4aa",name:"corda",category:"weapon"},{id:"c42e74c1-7f52-45f9-8184-342ae8cb2601",name:"faca",category:"weapon"},{id:"a9da836c-4917-4a55-ba89-7b13fb719131",name:"revolver",category:"weapon"},{id:"aeed5314-f28b-4bc4-8f61-a8df53b1394f",name:"biblioteca",category:"place"},{id:"9f1540d6-39d1-41fc-9e90-65890eead283",name:"cozinha",category:"place"},{id:"2bb722fe-5323-4e83-a930-5d21ffa199b8",name:"entrada",category:"place"},{id:"4216d83f-a3ad-40fd-89e8-c6af3b023385",name:"escritorio",category:"place"},{id:"ea314acc-27cc-4961-846d-46160f65236c",name:"jardiminverno",category:"place"},{id:"e9510132-0fa9-403b-99ea-81b03c3a2856",name:"salaestar",category:"place"},{id:"397042d4-4bda-4c0f-a80d-87babb5593ec",name:"salajantar",category:"place"},{id:"e8ebd3c4-2f17-41e3-aa94-08c18c160f53",name:"salamusica",category:"place"},{id:"5a631736-7fad-4868-a99a-a12b0e61c5d8",name:"salaojogos",category:"place"}],Qh=xa("firebase",{state:()=>({app:null,analytics:null,db:null,rtUsers:null,rtGame:null}),getters:{},actions:{initializeApp(){const e={apiKey:"AIzaSyD5b75molGUQWmisLRXK-k9owkmyiTeLNU",authDomain:"clue-fde0b.firebaseapp.com",projectId:"clue-fde0b",storageBucket:"clue-fde0b.appspot.com",messagingSenderId:"860129738845",appId:"1:860129738845:web:2bcf447ef0f2d18630cdb4",measurementId:"G-M3VWF500XN"};this.app=ny(e),this.initFirestore()},initFirestore(){location.hostname==="localhost"&&!$o.is.capacitor?(this.db=xm(),Vv(this.db,"localhost",8080),B1.forEach(e=>{const t=Ft(this.db,"character",e.id);Bi(t,e)}),Fm.forEach(e=>{const t=Ft(this.db,"card",e.id);Bi(t,e)})):(this.db=xm(this.app),Fm.forEach(e=>{const t=Ft(this.db,"card",e.id);Bi(t,e)}),this.initAnalytcs())},initAnalytcs(){this.analytics=MC(this.app)},realTimeUsers(){const e=Gr(this.db,"user");this.rtUsers=Nm(e,t=>{console.log(t.docs.map(n=>n.data()))})},async getUsers(){const e=Gr(this.db,"user");return(await $i(e)).docs.map(n=>n.data())},async getUser(e){const t=Ft(this.db,"user",e);return(await Mm(t)).data()},async createUser(e){const t=Ft(this.db,"user",e.id);await Bi(t,e)},async updateUser(e){const t=Ft(this.db,"user",e.id);await Om(t,e)},async deleteUser(e){const t=Ft(this.db,"user",e);await Lm(t)},async getCharacters(){const e=Gr(this.db,"character");return(await $i(e)).docs.map(n=>n.data())},async getCards(){const e=Gr(this.db,"card");return(await $i(e)).docs.map(n=>n.data())},realTimeGame(e){const t=Yh(),n=Ft(this.db,"game",e);this.rtGame=Nm(n,r=>{var i;(i=r.data())!=null&&i.id?(t.game=Object.assign({},r.data()),t.user.gameId||(t.user.gameId=t.game.id,this.updateUser(t.user))):(t.cleanGame(),this.rtGame()),console.log("game",t.game)})},async getGames(){const e=Gr(this.db,"game");return(await $i(e)).docs.map(n=>n.data())},async getGame(e){const t=Ft(this.db,"game",e);return(await Mm(t)).data()},async getGameByRoom(e){const t=O1(Gr(this.db,"game"),L1("room","==",e));return(await $i(t)).docs.map(r=>r.data())},async createGame(e){const t=Ft(this.db,"game",e.id);await Bi(t,e)},async updateGame(e){const t=Ft(this.db,"game",e.id);await Om(t,e)},async deleteGame(e){const t=Ft(this.db,"game",e);await Lm(t)}}}),Yh=xa("session",{state:()=>({characters:[],cards:[],user:{id:"",name:"",gameId:""},game:{id:"",room:"",ownerId:"",qtdPlayers:3,players:[],targets:[],activeIndex:0,rollDice:!1,diceValue:0,place:{},status:""},playerSelected:{}}),getters:{activePlayer(){return this.game.players[this.game.activeIndex]}},actions:{changeActivePlayer(){this.game.activeIndex<this.game.players.length-1?this.game.activeIndex++:this.game.activeIndex=0},cleanGame(){const e=Qh();this.game={id:"",room:"",ownerId:"",qtdPlayers:6,players:[],targets:[],activeIndex:0,rollDice:!1,diceValue:0,place:{},status:""},this.playerSelected={},this.user.gameId="",e.updateUser(this.user)}}});var Hv=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n};const q1=Ai({name:"ExitGameDialogComponent",setup(){const e=Wp(),t=Yh(),n=Qh();return{layoutStore:e,sessionStore:t,firebaseStore:n}},methods:{async exitGame(){this.layoutStore.exitGameDialog=!1,this.layoutStore.rightDrawerOpen=!1;const e=this.sessionStore.game.players.filter(t=>!t.isNpc);if(!e.length||e.length===1)this.layoutStore.loadingLayout=!0,await this.firebaseStore.deleteGame(this.sessionStore.game.id).then(()=>{this.$router.push({name:"home"})}),this.layoutStore.loadingLayout=!1;else{const t=this.sessionStore.game.players.findIndex(n=>{var r;return n.id===((r=this.sessionStore.playerSelected)==null?void 0:r.id)});if(t>=0){if(this.sessionStore.game.players[t].isNpc=!0,this.sessionStore.game.ownerId===this.sessionStore.user.id){const n=this.sessionStore.game.players.find(r=>!r.isNpc);n&&(this.sessionStore.game.ownerId=n.userId.split("/user/")[1])}this.firebaseStore.updateGame(this.sessionStore.game),this.firebaseStore.rtGame(),this.sessionStore.cleanGame(),this.$router.push({name:"home"})}}}}});function U1(e,t,n,r,i,s){return Dc(),lp(Up,{modelValue:e.layoutStore.exitGameDialog,"onUpdate:modelValue":t[1]||(t[1]=o=>e.layoutStore.exitGameDialog=o),"transition-show":"scale","transition-hide":"scale"},{default:Qr(()=>[De(Lp,{class:"q-dialog-plugin"},{default:Qr(()=>[De(dr,{class:"q-dialog__title"},{default:Qr(()=>[Eu(" Sair do Jogo ")]),_:1}),De(dr,{class:"q-dialog__message"},{default:Qr(()=>[Eu(" Deseja sair do jogo? ")]),_:1}),De(Op,{class:"flex justify-end"},{default:Qr(()=>[De(jo,{flat:"",autofocus:"",color:"primary",label:"N\xE3o",onClick:t[0]||(t[0]=o=>e.layoutStore.exitGameDialog=!1)}),De(jo,{flat:"",color:"primary",label:"Sim",onClick:e.exitGame},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}var j1=Hv(q1,[["render",U1]]);const vo=Ls("KeepAwake",{web:()=>Ht(()=>import("./web.686d3bab.js"),[]).then(e=>new e.KeepAwakeWeb)}),z1=xa("keepAwake",{state:()=>({}),getters:{},actions:{async keepAwake(){await vo.keepAwake()},async allowSleep(){await vo.allowSleep()},async isSupported(){return(await vo.isSupported()).isSupported},async isKeptAwake(){return(await vo.isKeptAwake()).isKeptAwake}}});let wo;const H1=new Uint8Array(16);function K1(){if(!wo&&(wo=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!wo))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wo(H1)}const it=[];for(let e=0;e<256;++e)it.push((e+256).toString(16).slice(1));function W1(e,t=0){return it[e[t+0]]+it[e[t+1]]+it[e[t+2]]+it[e[t+3]]+"-"+it[e[t+4]]+it[e[t+5]]+"-"+it[e[t+6]]+it[e[t+7]]+"-"+it[e[t+8]]+it[e[t+9]]+"-"+it[e[t+10]]+it[e[t+11]]+it[e[t+12]]+it[e[t+13]]+it[e[t+14]]+it[e[t+15]]}const G1=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var $m={randomUUID:G1};function Q1(e,t,n){if($m.randomUUID&&!t&&!e)return $m.randomUUID();e=e||{};const r=e.random||(e.rng||K1)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return W1(r)}var ac;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(ac||(ac={}));var Bm;(function(e){e.None="NONE",e.Slide="SLIDE",e.Fade="FADE"})(Bm||(Bm={}));const Jl=Ls("StatusBar"),Y1=Ai({name:"App",setup(){const e=Yh(),t=Wp(),n=Qh(),r=z1(),i=be(!1);return{sessionStore:e,layoutStore:t,userReady:i,firebaseStore:n,keepAwakeStore:r}},components:{ExitGameDialog:j1},async mounted(){this.$q.platform.is.capacitor&&this.$q.platform.is.android&&(await Jl.setStyle({style:ac.Dark}),await Jl.hide(),await Jl.setOverlaysWebView({overlay:!0})),await this.keepAwakeStore.isSupported()&&this.keepAwakeStore.keepAwake(),await this.firebaseStore.getCards().then(i=>{this.sessionStore.cards=Array.from(i)});let t=localStorage.getItem("userId");t||(t=Q1(),localStorage.setItem("userId",t)),this.sessionStore.user.id=t;const n=await this.firebaseStore.getUser(this.sessionStore.user.id);n?this.sessionStore.user=n:(this.sessionStore.user.name="Player",this.firebaseStore.createUser(this.sessionStore.user));const r=localStorage.getItem("playerSelected");r&&(this.sessionStore.playerSelected=JSON.parse(r)),this.sessionStore.user.gameId&&await this.firebaseStore.getGame(this.sessionStore.user.gameId).then(i=>{i.id&&(this.sessionStore.game=Object.assign({},i),this.firebaseStore.realTimeGame(this.sessionStore.game.id),this.sessionStore.game.status==="waiting"?this.$router.push("/waiting-room"):this.sessionStore.game.status==="started"&&this.$router.push("/game"))})},watch:{"sessionStore.playerSelected":{handler:function(e){localStorage.setItem("playerSelected",JSON.stringify(e))},deep:!0}}});function X1(e,t,n,r,i,s){const o=pf("router-view"),a=pf("ExitGameDialog");return Dc(),nE(Kt,null,[De(o),De(kb,{class:"z-max",showing:e.layoutStore.loadingLayout,label:"Carregando...",color:"primary","label-style":"font-size: 1.1em"},null,8,["showing"]),De(a)],64)}var J1=Hv(Y1,[["render",X1]]);function lV(e){return e}var Zl=()=>ST();/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Zr=typeof window!="undefined";function Z1(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Re=Object.assign;function eu(e,t){const n={};for(const r in t){const i=t[r];n[r]=nn(i)?i.map(e):e(i)}return n}const os=()=>{},nn=Array.isArray,ek=/\/$/,tk=e=>e.replace(ek,"");function tu(e,t,n="/"){let r,i={},s="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),s=t.slice(l+1,a>-1?a:t.length),i=e(s)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=sk(r!=null?r:t,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:o}}function nk(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function qm(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function rk(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&wi(t.matched[r],n.matched[i])&&Kv(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function wi(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Kv(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!ik(e[n],t[n]))return!1;return!0}function ik(e,t){return nn(e)?Um(e,t):nn(t)?Um(t,e):e===t}function Um(e,t){return nn(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function sk(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var Ds;(function(e){e.pop="pop",e.push="push"})(Ds||(Ds={}));var as;(function(e){e.back="back",e.forward="forward",e.unknown=""})(as||(as={}));function ok(e){if(!e)if(Zr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),tk(e)}const ak=/^[^#]+#/;function lk(e,t){return e.replace(ak,"#")+t}function uk(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const dl=()=>({left:window.pageXOffset,top:window.pageYOffset});function ck(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=uk(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function jm(e,t){return(history.state?history.state.position-t:-1)+e}const lc=new Map;function hk(e,t){lc.set(e,t)}function fk(e){const t=lc.get(e);return lc.delete(e),t}let dk=()=>location.protocol+"//"+location.host;function Wv(e,t){const{pathname:n,search:r,hash:i}=t,s=e.indexOf("#");if(s>-1){let a=i.includes(e.slice(s))?e.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),qm(l,"")}return qm(n,e)+r+i}function mk(e,t,n,r){let i=[],s=[],o=null;const a=({state:f})=>{const d=Wv(e,location),g=n.value,w=t.value;let v=0;if(f){if(n.value=d,t.value=f,o&&o===g){o=null;return}v=w?f.position-w.position:0}else r(d);i.forEach(I=>{I(n.value,g,{delta:v,type:Ds.pop,direction:v?v>0?as.forward:as.back:as.unknown})})};function l(){o=n.value}function u(f){i.push(f);const d=()=>{const g=i.indexOf(f);g>-1&&i.splice(g,1)};return s.push(d),d}function c(){const{history:f}=window;!f.state||f.replaceState(Re({},f.state,{scroll:dl()}),"")}function h(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function zm(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?dl():null}}function gk(e){const{history:t,location:n}=window,r={value:Wv(e,n)},i={value:t.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const h=e.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+l:dk()+e+l;try{t[c?"replaceState":"pushState"](u,"",f),i.value=u}catch(d){console.error(d),n[c?"replace":"assign"](f)}}function o(l,u){const c=Re({},t.state,zm(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),r.value=l}function a(l,u){const c=Re({},i.value,t.state,{forward:l,scroll:dl()});s(c.current,c,!0);const h=Re({},zm(r.value,l,null),{position:c.position+1},u);s(l,h,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function pk(e){e=ok(e);const t=gk(e),n=mk(e,t.state,t.location,t.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=Re({location:"",base:e,go:r,createHref:lk.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function yk(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),pk(e)}function _k(e){return typeof e=="string"||e&&typeof e=="object"}function Gv(e){return typeof e=="string"||typeof e=="symbol"}const kn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Qv=Symbol("");var Hm;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Hm||(Hm={}));function Ei(e,t){return Re(new Error,{type:e,[Qv]:!0},t)}function yn(e,t){return e instanceof Error&&Qv in e&&(t==null||!!(e.type&t))}const Km="[^/]+?",vk={sensitive:!1,strict:!1,start:!0,end:!0},wk=/[.+*?^${}()[\]/\\]/g;function Ek(e,t){const n=Re({},vk,t),r=[];let i=n.start?"^":"";const s=[];for(const u of e){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let h=0;h<u.length;h++){const f=u[h];let d=40+(n.sensitive?.25:0);if(f.type===0)h||(i+="/"),i+=f.value.replace(wk,"\\$&"),d+=40;else if(f.type===1){const{value:g,repeatable:w,optional:v,regexp:I}=f;s.push({name:g,repeatable:w,optional:v});const y=I||Km;if(y!==Km){d+=10;try{new RegExp(`(${y})`)}catch(V){throw new Error(`Invalid custom RegExp for param "${g}" (${y}): `+V.message)}}let A=w?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;h||(A=v&&u.length<2?`(?:/${A})`:"/"+A),v&&(A+="?"),i+=A,d+=20,v&&(d+=-8),w&&(d+=-20),y===".*"&&(d+=-50)}c.push(d)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let f=1;f<c.length;f++){const d=c[f]||"",g=s[f-1];h[g.name]=d&&g.repeatable?d.split("/"):d}return h}function l(u){let c="",h=!1;for(const f of e){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const d of f)if(d.type===0)c+=d.value;else if(d.type===1){const{value:g,repeatable:w,optional:v}=d,I=g in u?u[g]:"";if(nn(I)&&!w)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const y=nn(I)?I.join("/"):I;if(!y)if(v)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${g}"`);c+=y}}return c||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function bk(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Tk(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const s=bk(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(Wm(r))return 1;if(Wm(i))return-1}return i.length-r.length}function Wm(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Ik={type:0,value:""},Ak=/[a-zA-Z0-9_]/;function Ck(e){if(!e)return[[]];if(e==="/")return[[Ik]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(d){throw new Error(`ERR (${n})/"${u}": ${d}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function h(){!u||(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:Ak.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),h(),o(),i}function Sk(e,t,n){const r=Ek(Ck(e.path),n),i=Re(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function Rk(e,t){const n=[],r=new Map;t=Ym({strict:!1,end:!0,sensitive:!1},t);function i(c){return r.get(c)}function s(c,h,f){const d=!f,g=Pk(c);g.aliasOf=f&&f.record;const w=Ym(t,c),v=[g];if("alias"in c){const A=typeof c.alias=="string"?[c.alias]:c.alias;for(const V of A)v.push(Re({},g,{components:f?f.record.components:g.components,path:V,aliasOf:f?f.record:g}))}let I,y;for(const A of v){const{path:V}=A;if(h&&V[0]!=="/"){const $=h.record.path,z=$[$.length-1]==="/"?"":"/";A.path=h.record.path+(V&&z+V)}if(I=Sk(A,h,w),f?f.alias.push(I):(y=y||I,y!==I&&y.alias.push(I),d&&c.name&&!Qm(I)&&o(c.name)),g.children){const $=g.children;for(let z=0;z<$.length;z++)s($[z],I,f&&f.children[z])}f=f||I,(I.record.components&&Object.keys(I.record.components).length||I.record.name||I.record.redirect)&&l(I)}return y?()=>{o(y)}:os}function o(c){if(Gv(c)){const h=r.get(c);h&&(r.delete(c),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(c);h>-1&&(n.splice(h,1),c.record.name&&r.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function a(){return n}function l(c){let h=0;for(;h<n.length&&Tk(c,n[h])>=0&&(c.record.path!==n[h].record.path||!Yv(c,n[h]));)h++;n.splice(h,0,c),c.record.name&&!Qm(c)&&r.set(c.record.name,c)}function u(c,h){let f,d={},g,w;if("name"in c&&c.name){if(f=r.get(c.name),!f)throw Ei(1,{location:c});w=f.record.name,d=Re(Gm(h.params,f.keys.filter(y=>!y.optional).map(y=>y.name)),c.params&&Gm(c.params,f.keys.map(y=>y.name))),g=f.stringify(d)}else if("path"in c)g=c.path,f=n.find(y=>y.re.test(g)),f&&(d=f.parse(g),w=f.record.name);else{if(f=h.name?r.get(h.name):n.find(y=>y.re.test(h.path)),!f)throw Ei(1,{location:c,currentLocation:h});w=f.record.name,d=Re({},h.params,c.params),g=f.stringify(d)}const v=[];let I=f;for(;I;)v.unshift(I.record),I=I.parent;return{name:w,path:g,params:d,matched:v,meta:xk(v)}}return e.forEach(c=>s(c)),{addRoute:s,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function Gm(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Pk(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:kk(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function kk(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Qm(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function xk(e){return e.reduce((t,n)=>Re(t,n.meta),{})}function Ym(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Yv(e,t){return t.children.some(n=>n===e||Yv(e,n))}const Xv=/#/g,Vk=/&/g,Dk=/\//g,Mk=/=/g,Ok=/\?/g,Jv=/\+/g,Lk=/%5B/g,Nk=/%5D/g,Zv=/%5E/g,Fk=/%60/g,ew=/%7B/g,$k=/%7C/g,tw=/%7D/g,Bk=/%20/g;function Xh(e){return encodeURI(""+e).replace($k,"|").replace(Lk,"[").replace(Nk,"]")}function qk(e){return Xh(e).replace(ew,"{").replace(tw,"}").replace(Zv,"^")}function uc(e){return Xh(e).replace(Jv,"%2B").replace(Bk,"+").replace(Xv,"%23").replace(Vk,"%26").replace(Fk,"`").replace(ew,"{").replace(tw,"}").replace(Zv,"^")}function Uk(e){return uc(e).replace(Mk,"%3D")}function jk(e){return Xh(e).replace(Xv,"%23").replace(Ok,"%3F")}function zk(e){return e==null?"":jk(e).replace(Dk,"%2F")}function ha(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Hk(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(Jv," "),o=s.indexOf("="),a=ha(o<0?s:s.slice(0,o)),l=o<0?null:ha(s.slice(o+1));if(a in t){let u=t[a];nn(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function Xm(e){let t="";for(let n in e){const r=e[n];if(n=Uk(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(nn(r)?r.map(s=>s&&uc(s)):[r&&uc(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function Kk(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=nn(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const Wk=Symbol(""),Jm=Symbol(""),Jh=Symbol(""),nw=Symbol(""),cc=Symbol("");function qi(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Dn(e,t,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a(Ei(4,{from:n,to:t})):h instanceof Error?a(h):_k(h)?a(Ei(2,{from:t,to:h})):(s&&r.enterCallbacks[i]===s&&typeof h=="function"&&s.push(h),o())},u=e.call(r&&r.instances[i],t,n,l);let c=Promise.resolve(u);e.length<3&&(c=c.then(l)),c.catch(h=>a(h))})}function nu(e,t,n,r){const i=[];for(const s of e)for(const o in s.components){let a=s.components[o];if(!(t!=="beforeRouteEnter"&&!s.instances[o]))if(Gk(a)){const u=(a.__vccOpts||a)[t];u&&i.push(Dn(u,n,r,s,o))}else{let l=a();i.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const c=Z1(u)?u.default:u;s.components[o]=c;const f=(c.__vccOpts||c)[t];return f&&Dn(f,n,r,s,o)()}))}}return i}function Gk(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Zm(e){const t=Xt(Jh),n=Xt(nw),r=P(()=>t.resolve(br(e.to))),i=P(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],h=n.matched;if(!c||!h.length)return-1;const f=h.findIndex(wi.bind(null,c));if(f>-1)return f;const d=eg(l[u-2]);return u>1&&eg(c)===d&&h[h.length-1].path!==d?h.findIndex(wi.bind(null,l[u-2])):f}),s=P(()=>i.value>-1&&Jk(n.params,r.value.params)),o=P(()=>i.value>-1&&i.value===n.matched.length-1&&Kv(n.params,r.value.params));function a(l={}){return Xk(l)?t[br(e.replace)?"replace":"push"](br(e.to)).catch(os):Promise.resolve()}return{route:r,href:P(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const Qk=Ai({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Zm,setup(e,{slots:t}){const n=Or(Zm(e)),{options:r}=Xt(Jh),i=P(()=>({[tg(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[tg(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:O("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),Yk=Qk;function Xk(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Jk(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!nn(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function eg(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const tg=(e,t,n)=>e!=null?e:t!=null?t:n,Zk=Ai({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Xt(cc),i=P(()=>e.route||r.value),s=Xt(Jm,0),o=P(()=>{let u=br(s);const{matched:c}=i.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=P(()=>i.value.matched[o.value]);Co(Jm,P(()=>o.value+1)),Co(Wk,a),Co(cc,i);const l=be();return Fe(()=>[l.value,a.value,e.name],([u,c,h],[f,d,g])=>{c&&(c.instances[h]=u,d&&d!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=d.leaveGuards),c.updateGuards.size||(c.updateGuards=d.updateGuards))),u&&c&&(!d||!wi(c,d)||!f)&&(c.enterCallbacks[h]||[]).forEach(w=>w(u))},{flush:"post"}),()=>{const u=i.value,c=e.name,h=a.value,f=h&&h.components[c];if(!f)return ng(n.default,{Component:f,route:u});const d=h.props[c],g=d?d===!0?u.params:typeof d=="function"?d(u):d:null,v=O(f,Re({},g,t,{onVnodeUnmounted:I=>{I.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return ng(n.default,{Component:v,route:u})||v}}});function ng(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const ex=Zk;function tx(e){const t=Rk(e.routes,e),n=e.parseQuery||Hk,r=e.stringifyQuery||Xm,i=e.history,s=qi(),o=qi(),a=qi(),l=r0(kn);let u=kn;Zr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=eu.bind(null,R=>""+R),h=eu.bind(null,zk),f=eu.bind(null,ha);function d(R,Z){let W,se;return Gv(R)?(W=t.getRecordMatcher(R),se=Z):se=R,t.addRoute(se,W)}function g(R){const Z=t.getRecordMatcher(R);Z&&t.removeRoute(Z)}function w(){return t.getRoutes().map(R=>R.record)}function v(R){return!!t.getRecordMatcher(R)}function I(R,Z){if(Z=Re({},Z||l.value),typeof R=="string"){const E=tu(n,R,Z.path),k=t.resolve({path:E.path},Z),N=i.createHref(E.fullPath);return Re(E,k,{params:f(k.params),hash:ha(E.hash),redirectedFrom:void 0,href:N})}let W;if("path"in R)W=Re({},R,{path:tu(n,R.path,Z.path).path});else{const E=Re({},R.params);for(const k in E)E[k]==null&&delete E[k];W=Re({},R,{params:h(E)}),Z.params=h(Z.params)}const se=t.resolve(W,Z),Se=R.hash||"";se.params=c(f(se.params));const m=nk(r,Re({},R,{hash:qk(Se),path:se.path})),p=i.createHref(m);return Re({fullPath:m,hash:Se,query:r===Xm?Kk(R.query):R.query||{}},se,{redirectedFrom:void 0,href:p})}function y(R){return typeof R=="string"?tu(n,R,l.value.path):Re({},R)}function A(R,Z){if(u!==R)return Ei(8,{from:Z,to:R})}function V(R){return F(R)}function $(R){return V(Re(y(R),{replace:!0}))}function z(R){const Z=R.matched[R.matched.length-1];if(Z&&Z.redirect){const{redirect:W}=Z;let se=typeof W=="function"?W(R):W;return typeof se=="string"&&(se=se.includes("?")||se.includes("#")?se=y(se):{path:se},se.params={}),Re({query:R.query,hash:R.hash,params:"path"in se?{}:R.params},se)}}function F(R,Z){const W=u=I(R),se=l.value,Se=R.state,m=R.force,p=R.replace===!0,E=z(W);if(E)return F(Re(y(E),{state:typeof E=="object"?Re({},Se,E.state):Se,force:m,replace:p}),Z||W);const k=W;k.redirectedFrom=Z;let N;return!m&&rk(r,se,W)&&(N=Ei(16,{to:k,from:se}),he(se,se,!0,!1)),(N?Promise.resolve(N):T(k,se)).catch(B=>yn(B)?yn(B,2)?B:ie(B):X(B,k,se)).then(B=>{if(B){if(yn(B,2))return F(Re({replace:p},y(B.to),{state:typeof B.to=="object"?Re({},Se,B.to.state):Se,force:m}),Z||k)}else B=_(k,se,!0,p,Se);return D(k,se,B),B})}function C(R,Z){const W=A(R,Z);return W?Promise.reject(W):Promise.resolve()}function b(R){const Z=Ve.values().next().value;return Z&&typeof Z.runWithContext=="function"?Z.runWithContext(R):R()}function T(R,Z){let W;const[se,Se,m]=nx(R,Z);W=nu(se.reverse(),"beforeRouteLeave",R,Z);for(const E of se)E.leaveGuards.forEach(k=>{W.push(Dn(k,R,Z))});const p=C.bind(null,R,Z);return W.push(p),oe(W).then(()=>{W=[];for(const E of s.list())W.push(Dn(E,R,Z));return W.push(p),oe(W)}).then(()=>{W=nu(Se,"beforeRouteUpdate",R,Z);for(const E of Se)E.updateGuards.forEach(k=>{W.push(Dn(k,R,Z))});return W.push(p),oe(W)}).then(()=>{W=[];for(const E of m)if(E.beforeEnter)if(nn(E.beforeEnter))for(const k of E.beforeEnter)W.push(Dn(k,R,Z));else W.push(Dn(E.beforeEnter,R,Z));return W.push(p),oe(W)}).then(()=>(R.matched.forEach(E=>E.enterCallbacks={}),W=nu(m,"beforeRouteEnter",R,Z),W.push(p),oe(W))).then(()=>{W=[];for(const E of o.list())W.push(Dn(E,R,Z));return W.push(p),oe(W)}).catch(E=>yn(E,8)?E:Promise.reject(E))}function D(R,Z,W){a.list().forEach(se=>b(()=>se(R,Z,W)))}function _(R,Z,W,se,Se){const m=A(R,Z);if(m)return m;const p=Z===kn,E=Zr?history.state:{};W&&(se||p?i.replace(R.fullPath,Re({scroll:p&&E&&E.scroll},Se)):i.push(R.fullPath,Se)),l.value=R,he(R,Z,W,p),ie()}let j;function S(){j||(j=i.listen((R,Z,W)=>{if(!ne.listening)return;const se=I(R),Se=z(se);if(Se){F(Re(Se,{replace:!0}),se).catch(os);return}u=se;const m=l.value;Zr&&hk(jm(m.fullPath,W.delta),dl()),T(se,m).catch(p=>yn(p,12)?p:yn(p,2)?(F(p.to,se).then(E=>{yn(E,20)&&!W.delta&&W.type===Ds.pop&&i.go(-1,!1)}).catch(os),Promise.reject()):(W.delta&&i.go(-W.delta,!1),X(p,se,m))).then(p=>{p=p||_(se,m,!1),p&&(W.delta&&!yn(p,8)?i.go(-W.delta,!1):W.type===Ds.pop&&yn(p,20)&&i.go(-1,!1)),D(se,m,p)}).catch(os)}))}let Y=qi(),K=qi(),x;function X(R,Z,W){ie(R);const se=K.list();return se.length?se.forEach(Se=>Se(R,Z,W)):console.error(R),Promise.reject(R)}function xe(){return x&&l.value!==kn?Promise.resolve():new Promise((R,Z)=>{Y.add([R,Z])})}function ie(R){return x||(x=!R,S(),Y.list().forEach(([Z,W])=>R?W(R):Z()),Y.reset()),R}function he(R,Z,W,se){const{scrollBehavior:Se}=e;if(!Zr||!Se)return Promise.resolve();const m=!W&&fk(jm(R.fullPath,0))||(se||!W)&&history.state&&history.state.scroll||null;return At().then(()=>Se(R,Z,m)).then(p=>p&&ck(p)).catch(p=>X(p,R,Z))}const M=R=>i.go(R);let ye;const Ve=new Set,ne={currentRoute:l,listening:!0,addRoute:d,removeRoute:g,hasRoute:v,getRoutes:w,resolve:I,options:e,push:V,replace:$,go:M,back:()=>M(-1),forward:()=>M(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:K.add,isReady:xe,install(R){const Z=this;R.component("RouterLink",Yk),R.component("RouterView",ex),R.config.globalProperties.$router=Z,Object.defineProperty(R.config.globalProperties,"$route",{enumerable:!0,get:()=>br(l)}),Zr&&!ye&&l.value===kn&&(ye=!0,V(i.location).catch(Se=>{}));const W={};for(const Se in kn)Object.defineProperty(W,Se,{get:()=>l.value[Se],enumerable:!0});R.provide(Jh,Z),R.provide(nw,kg(W)),R.provide(cc,l);const se=R.unmount;Ve.add(R),R.unmount=function(){Ve.delete(R),Ve.size<1&&(u=kn,j&&j(),j=null,l.value=kn,ye=!1,x=!1),se()}}};function oe(R){return R.reduce((Z,W)=>Z.then(()=>b(W)),Promise.resolve())}return ne}function nx(e,t){const n=[],r=[],i=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const a=t.matched[o];a&&(e.matched.find(u=>wi(u,a))?r.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(u=>wi(u,l))||i.push(l))}return[n,r,i]}const rx=[{path:"/",component:()=>Ht(()=>import("./MainLayout.c7d20408.js"),["assets/MainLayout.c7d20408.js","assets/QLayout.500d8818.js"]),children:[{path:"/home",name:"home",component:()=>Ht(()=>import("./index.43aeba43.js"),["assets/index.43aeba43.js","assets/index.f02ff435.css","assets/QPage.d5dd3d12.js"])},{path:"/waiting-room",name:"waiting-room",component:()=>Ht(()=>import("./index.94a5ef1e.js"),["assets/index.94a5ef1e.js","assets/index.5fa64783.css","assets/QPage.d5dd3d12.js"])}]},{path:"/",component:()=>Ht(()=>import("./GameLayout.366eb673.js"),["assets/GameLayout.366eb673.js","assets/GameLayout.549341b7.css","assets/QLayout.500d8818.js"]),children:[{path:"/game",name:"game",component:()=>Ht(()=>import("./index.f724aafe.js"),["assets/index.f724aafe.js","assets/index.f556d27e.css","assets/QPage.d5dd3d12.js"])}]},{path:"/:catchAll(.*)*",component:()=>Ht(()=>import("./ErrorNotFound.3b201cd3.js"),[])}];var ru=function(){const t=tx({scrollBehavior:()=>({left:0,top:0}),routes:rx,history:yk("")});return t.beforeEach((n,r,i)=>{n.path==="/"?i({name:"home"}):i()}),t};async function ix(e,t){const n=e(J1);n.use(Cb,t),n.config.globalProperties.$q.capacitor=window.Capacitor;const r=typeof Zl=="function"?await Zl({}):Zl;n.use(r);const i=Lr(typeof ru=="function"?await ru({store:r}):ru);return r.use(({store:s})=>{s.router=i}),{app:n,store:r,router:i}}const sx={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},iu={xs:2,sm:4,md:8,lg:16,xl:24};var rg=bt({name:"QSeparator",props:{...Xn,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=Ze(),n=Jn(e,t.proxy.$q),r=P(()=>e.vertical===!0?"vertical":"horizontal"),i=P(()=>` q-separator--${r.value}`),s=P(()=>e.inset!==!1?`${i.value}-${sx[e.inset]}`:""),o=P(()=>`q-separator${i.value}${s.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(n.value===!0?" q-separator--dark":"")),a=P(()=>{const l={};if(e.size!==void 0&&(l[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const u=e.spaced===!0?`${iu.md}px`:e.spaced in iu?`${iu[e.spaced]}px`:e.spaced,c=e.vertical===!0?["Left","Right"]:["Top","Bottom"];l[`margin${c[0]}`]=l[`margin${c[1]}`]=u}return l});return()=>O("hr",{class:o.value,style:a.value,"aria-orientation":r.value})}});function ox({validate:e,resetValidation:t,requiresQForm:n}){const r=Xt(Eb,!1);if(r!==!1){const{props:i,proxy:s}=Ze();Object.assign(s,{validate:e,resetValidation:t}),Fe(()=>i.disable,o=>{o===!0?(typeof t=="function"&&t(),r.unbindComponent(s)):r.bindComponent(s)}),Ci(()=>{i.disable!==!0&&r.bindComponent(s)}),rn(()=>{i.disable!==!0&&r.unbindComponent(s)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const ig=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,sg=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,og=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,Eo=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,bo=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,su={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>ig.test(e),hexaColor:e=>sg.test(e),hexOrHexaColor:e=>og.test(e),rgbColor:e=>Eo.test(e),rgbaColor:e=>bo.test(e),rgbOrRgbaColor:e=>Eo.test(e)||bo.test(e),hexOrRgbColor:e=>ig.test(e)||Eo.test(e),hexaOrRgbaColor:e=>sg.test(e)||bo.test(e),anyColor:e=>og.test(e)||Eo.test(e)||bo.test(e)},ax=[!0,!1,"ondemand"],lx={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>ax.includes(e)}};function ux(e,t){const{props:n,proxy:r}=Ze(),i=be(!1),s=be(null),o=be(null);ox({validate:g,resetValidation:d});let a=0,l;const u=P(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),c=P(()=>n.disable!==!0&&u.value===!0),h=P(()=>n.error===!0||i.value===!0),f=P(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:s.value);Fe(()=>n.modelValue,()=>{w()}),Fe(()=>n.reactiveRules,I=>{I===!0?l===void 0&&(l=Fe(()=>n.rules,()=>{w(!0)})):l!==void 0&&(l(),l=void 0)},{immediate:!0}),Fe(e,I=>{I===!0?o.value===null&&(o.value=!1):o.value===!1&&(o.value=!0,c.value===!0&&n.lazyRules!=="ondemand"&&t.value===!1&&v())});function d(){a++,t.value=!1,o.value=null,i.value=!1,s.value=null,v.cancel()}function g(I=n.modelValue){if(c.value!==!0)return!0;const y=++a,A=t.value!==!0?()=>{o.value=!0}:()=>{},V=(z,F)=>{z===!0&&A(),i.value=z,s.value=F||null,t.value=!1},$=[];for(let z=0;z<n.rules.length;z++){const F=n.rules[z];let C;if(typeof F=="function"?C=F(I,su):typeof F=="string"&&su[F]!==void 0&&(C=su[F](I)),C===!1||typeof C=="string")return V(!0,C),!1;C!==!0&&C!==void 0&&$.push(C)}return $.length===0?(V(!1),!0):(t.value=!0,Promise.all($).then(z=>{if(z===void 0||Array.isArray(z)===!1||z.length===0)return y===a&&V(!1),!0;const F=z.find(C=>C===!1||typeof C=="string");return y===a&&V(F!==void 0,F),F===void 0},z=>(y===a&&(console.error(z),V(!0)),!1)))}function w(I){c.value===!0&&n.lazyRules!=="ondemand"&&(o.value===!0||n.lazyRules!==!0&&I!==!0)&&v()}const v=_p(g,0);return rn(()=>{l!==void 0&&l(),v.cancel()}),Object.assign(r,{resetValidation:d,validate:g}),Si(r,"hasError",()=>h.value),{isDirtyModel:o,hasRules:u,hasError:h,errorMessage:f,validate:g,resetValidation:d}}const ag=/^on[A-Z]/;function cx(e,t){const n={listeners:be({}),attributes:be({})};function r(){const i={},s={};for(const o in e)o!=="class"&&o!=="style"&&ag.test(o)===!1&&(i[o]=e[o]);for(const o in t.props)ag.test(o)===!0&&(s[o]=t.props[o]);n.attributes.value=i,n.listeners.value=s}return Yg(r),r(),n}let ou,To=0;const st=new Array(256);for(let e=0;e<256;e++)st[e]=(e+256).toString(16).substring(1);const hx=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let r=t;r>0;r--)n.push(Math.floor(Math.random()*256));return n}})(),lg=4096;function fx(){(ou===void 0||To+16>lg)&&(To=0,ou=hx(lg));const e=Array.prototype.slice.call(ou,To,To+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,st[e[0]]+st[e[1]]+st[e[2]]+st[e[3]]+"-"+st[e[4]]+st[e[5]]+"-"+st[e[6]]+st[e[7]]+"-"+st[e[8]]+st[e[9]]+"-"+st[e[10]]+st[e[11]]+st[e[12]]+st[e[13]]+st[e[14]]+st[e[15]]}function hc(e){return e===void 0?`f_${fx()}`:e}function fc(e){return e!=null&&(""+e).length!==0}const dx={...Xn,...lx,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},mx=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function gx(){const{props:e,attrs:t,proxy:n,vnode:r}=Ze();return{isDark:Jn(e,n.$q),editable:P(()=>e.disable!==!0&&e.readonly!==!0),innerLoading:be(!1),focused:be(!1),hasPopupOpen:!1,splitAttrs:cx(t,r),targetUid:be(hc(e.for)),rootRef:be(null),targetRef:be(null),controlRef:be(null)}}function px(e){const{props:t,emit:n,slots:r,attrs:i,proxy:s}=Ze(),{$q:o}=s;let a=null;e.hasValue===void 0&&(e.hasValue=P(()=>fc(t.modelValue))),e.emitValue===void 0&&(e.emitValue=x=>{n("update:modelValue",x)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:b,onFocusout:T}),Object.assign(e,{clearValue:D,onControlFocusin:b,onControlFocusout:T,focus:F}),e.computedCounter===void 0&&(e.computedCounter=P(()=>{if(t.counter!==!1){const x=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,X=t.maxlength!==void 0?t.maxlength:t.maxValues;return x+(X!==void 0?" / "+X:"")}}));const{isDirtyModel:l,hasRules:u,hasError:c,errorMessage:h,resetValidation:f}=ux(e.focused,e.innerLoading),d=e.floatingLabel!==void 0?P(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):P(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),g=P(()=>t.bottomSlots===!0||t.hint!==void 0||u.value===!0||t.counter===!0||t.error!==null),w=P(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),v=P(()=>`q-field row no-wrap items-start q-field--${w.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(d.value===!0?" q-field--float":"")+(y.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(c.value===!0?" q-field--error":"")+(c.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&g.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),I=P(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(c.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),y=P(()=>t.labelSlot===!0||t.label!==void 0),A=P(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&c.value!==!0?` text-${t.labelColor}`:"")),V=P(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:d.value,modelValue:t.modelValue,emitValue:e.emitValue})),$=P(()=>{const x={for:e.targetUid.value};return t.disable===!0?x["aria-disabled"]="true":t.readonly===!0&&(x["aria-readonly"]="true"),x});Fe(()=>t.for,x=>{e.targetUid.value=hc(x)});function z(){const x=document.activeElement;let X=e.targetRef!==void 0&&e.targetRef.value;X&&(x===null||x.id!==e.targetUid.value)&&(X.hasAttribute("tabindex")===!0||(X=X.querySelector("[tabindex]")),X&&X!==x&&X.focus({preventScroll:!0}))}function F(){Lc(z)}function C(){aT(z);const x=document.activeElement;x!==null&&e.rootRef.value.contains(x)&&x.blur()}function b(x){a!==null&&(clearTimeout(a),a=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",x))}function T(x,X){a!==null&&clearTimeout(a),a=setTimeout(()=>{a=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",x)),X!==void 0&&X())})}function D(x){$t(x),o.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),n("clear",t.modelValue),At(()=>{f(),o.platform.is.mobile!==!0&&(l.value=!1)})}function _(){const x=[];return r.prepend!==void 0&&x.push(O("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:Mn},r.prepend())),x.push(O("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},j())),c.value===!0&&t.noErrorIcon===!1&&x.push(Y("error",[O(Rr,{name:o.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?x.push(Y("inner-loading-append",r.loading!==void 0?r.loading():[O(ps,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&x.push(Y("inner-clearable-append",[O(Rr,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||o.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:D})])),r.append!==void 0&&x.push(O("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:Mn},r.append())),e.getInnerAppend!==void 0&&x.push(Y("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&x.push(e.getControlChild()),x}function j(){const x=[];return t.prefix!==void 0&&t.prefix!==null&&x.push(O("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&x.push(e.getShadowControl()),e.getControl!==void 0?x.push(e.getControl()):r.rawControl!==void 0?x.push(r.rawControl()):r.control!==void 0&&x.push(O("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},r.control(V.value))),y.value===!0&&x.push(O("div",{class:A.value},Qt(r.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&x.push(O("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),x.concat(Qt(r.default))}function S(){let x,X;c.value===!0?h.value!==null?(x=[O("div",{role:"alert"},h.value)],X=`q--slot-error-${h.value}`):(x=Qt(r.error),X="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(x=[O("div",t.hint)],X=`q--slot-hint-${t.hint}`):(x=Qt(r.hint),X="q--slot-hint"));const xe=t.counter===!0||r.counter!==void 0;if(t.hideBottomSpace===!0&&xe===!1&&x===void 0)return;const ie=O("div",{key:X,class:"q-field__messages col"},x);return O("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:Mn},[t.hideBottomSpace===!0?ie:O(Sr,{name:"q-transition--field-message"},()=>ie),xe===!0?O("div",{class:"q-field__counter"},r.counter!==void 0?r.counter():e.computedCounter.value):null])}function Y(x,X){return X===null?null:O("div",{key:x,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},X)}let K=!1;return Ea(()=>{K=!0}),Gg(()=>{K===!0&&t.autofocus===!0&&s.focus()}),Ci(()=>{Hn.value===!0&&t.for===void 0&&(e.targetUid.value=hc()),t.autofocus===!0&&s.focus()}),rn(()=>{a!==null&&clearTimeout(a)}),Object.assign(s,{focus:F,blur:C}),function(){const X=e.getControl===void 0&&r.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...$.value}:$.value;return O("label",{ref:e.rootRef,class:[v.value,i.class],style:i.style,...X},[r.before!==void 0?O("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:Mn},r.before()):null,O("div",{class:"q-field__inner relative-position col self-stretch"},[O("div",{ref:e.controlRef,class:I.value,tabindex:-1,...e.controlEvents},_()),g.value===!0?S():null]),r.after!==void 0?O("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:Mn},r.after()):null])}}const ug={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},fa={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},rw=Object.keys(fa);rw.forEach(e=>{fa[e].regex=new RegExp(fa[e].pattern)});const yx=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+rw.join("")+"])|(.)","g"),cg=/[.*+?^${}()|[\]\\]/g,We=String.fromCharCode(1),_x={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function vx(e,t,n,r){let i,s,o,a,l,u;const c=be(null),h=be(d());function f(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}Fe(()=>e.type+e.autogrow,w),Fe(()=>e.mask,b=>{if(b!==void 0)v(h.value,!0);else{const T=F(h.value);w(),e.modelValue!==T&&t("update:modelValue",T)}}),Fe(()=>e.fillMask+e.reverseFillMask,()=>{c.value===!0&&v(h.value,!0)}),Fe(()=>e.unmaskedValue,()=>{c.value===!0&&v(h.value)});function d(){if(w(),c.value===!0){const b=$(F(e.modelValue));return e.fillMask!==!1?C(b):b}return e.modelValue}function g(b){if(b<i.length)return i.slice(-b);let T="",D=i;const _=D.indexOf(We);if(_>-1){for(let j=b-D.length;j>0;j--)T+=We;D=D.slice(0,_)+T+D.slice(_)}return D}function w(){if(c.value=e.mask!==void 0&&e.mask.length!==0&&f(),c.value===!1){a=void 0,i="",s="";return}const b=ug[e.mask]===void 0?e.mask:ug[e.mask],T=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",D=T.replace(cg,"\\$&"),_=[],j=[],S=[];let Y=e.reverseFillMask===!0,K="",x="";b.replace(yx,(he,M,ye,Ve,ne)=>{if(Ve!==void 0){const oe=fa[Ve];S.push(oe),x=oe.negate,Y===!0&&(j.push("(?:"+x+"+)?("+oe.pattern+"+)?(?:"+x+"+)?("+oe.pattern+"+)?"),Y=!1),j.push("(?:"+x+"+)?("+oe.pattern+")?")}else if(ye!==void 0)K="\\"+(ye==="\\"?"":ye),S.push(ye),_.push("([^"+K+"]+)?"+K+"?");else{const oe=M!==void 0?M:ne;K=oe==="\\"?"\\\\\\\\":oe.replace(cg,"\\\\$&"),S.push(oe),_.push("([^"+K+"]+)?"+K+"?")}});const X=new RegExp("^"+_.join("")+"("+(K===""?".":"[^"+K+"]")+"+)?"+(K===""?"":"["+K+"]*")+"$"),xe=j.length-1,ie=j.map((he,M)=>M===0&&e.reverseFillMask===!0?new RegExp("^"+D+"*"+he):M===xe?new RegExp("^"+he+"("+(x===""?".":x)+"+)?"+(e.reverseFillMask===!0?"$":D+"*")):new RegExp("^"+he));o=S,a=he=>{const M=X.exec(e.reverseFillMask===!0?he:he.slice(0,S.length+1));M!==null&&(he=M.slice(1).join(""));const ye=[],Ve=ie.length;for(let ne=0,oe=he;ne<Ve;ne++){const R=ie[ne].exec(oe);if(R===null)break;oe=oe.slice(R.shift().length),ye.push(...R)}return ye.length!==0?ye.join(""):he},i=S.map(he=>typeof he=="string"?he:We).join(""),s=i.split(We).join(T)}function v(b,T,D){const _=r.value,j=_.selectionEnd,S=_.value.length-j,Y=F(b);T===!0&&w();const K=$(Y),x=e.fillMask!==!1?C(K):K,X=h.value!==x;_.value!==x&&(_.value=x),X===!0&&(h.value=x),document.activeElement===_&&At(()=>{if(x===s){const ie=e.reverseFillMask===!0?s.length:0;_.setSelectionRange(ie,ie,"forward");return}if(D==="insertFromPaste"&&e.reverseFillMask!==!0){const ie=_.selectionEnd;let he=j-1;for(let M=l;M<=he&&M<ie;M++)i[M]!==We&&he++;y.right(_,he);return}if(["deleteContentBackward","deleteContentForward"].indexOf(D)>-1){const ie=e.reverseFillMask===!0?j===0?x.length>K.length?1:0:Math.max(0,x.length-(x===s?0:Math.min(K.length,S)+1))+1:j;_.setSelectionRange(ie,ie,"forward");return}if(e.reverseFillMask===!0)if(X===!0){const ie=Math.max(0,x.length-(x===s?0:Math.min(K.length,S+1)));ie===1&&j===1?_.setSelectionRange(ie,ie,"forward"):y.rightReverse(_,ie)}else{const ie=x.length-S;_.setSelectionRange(ie,ie,"backward")}else if(X===!0){const ie=Math.max(0,i.indexOf(We),Math.min(K.length,j)-1);y.right(_,ie)}else{const ie=j-1;y.right(_,ie)}});const xe=e.unmaskedValue===!0?F(x):x;String(e.modelValue)!==xe&&n(xe,!0)}function I(b,T,D){const _=$(F(b.value));T=Math.max(0,i.indexOf(We),Math.min(_.length,T)),l=T,b.setSelectionRange(T,D,"forward")}const y={left(b,T){const D=i.slice(T-1).indexOf(We)===-1;let _=Math.max(0,T-1);for(;_>=0;_--)if(i[_]===We){T=_,D===!0&&T++;break}if(_<0&&i[T]!==void 0&&i[T]!==We)return y.right(b,0);T>=0&&b.setSelectionRange(T,T,"backward")},right(b,T){const D=b.value.length;let _=Math.min(D,T+1);for(;_<=D;_++)if(i[_]===We){T=_;break}else i[_-1]===We&&(T=_);if(_>D&&i[T-1]!==void 0&&i[T-1]!==We)return y.left(b,D);b.setSelectionRange(T,T,"forward")},leftReverse(b,T){const D=g(b.value.length);let _=Math.max(0,T-1);for(;_>=0;_--)if(D[_-1]===We){T=_;break}else if(D[_]===We&&(T=_,_===0))break;if(_<0&&D[T]!==void 0&&D[T]!==We)return y.rightReverse(b,0);T>=0&&b.setSelectionRange(T,T,"backward")},rightReverse(b,T){const D=b.value.length,_=g(D),j=_.slice(0,T+1).indexOf(We)===-1;let S=Math.min(D,T+1);for(;S<=D;S++)if(_[S-1]===We){T=S,T>0&&j===!0&&T--;break}if(S>D&&_[T-1]!==void 0&&_[T-1]!==We)return y.leftReverse(b,D);b.setSelectionRange(T,T,"forward")}};function A(b){t("click",b),u=void 0}function V(b){if(t("keydown",b),Ep(b)===!0||b.altKey===!0)return;const T=r.value,D=T.selectionStart,_=T.selectionEnd;if(b.shiftKey||(u=void 0),b.keyCode===37||b.keyCode===39){b.shiftKey&&u===void 0&&(u=T.selectionDirection==="forward"?D:_);const j=y[(b.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(b.preventDefault(),j(T,u===D?_:D),b.shiftKey){const S=T.selectionStart;T.setSelectionRange(Math.min(u,S),Math.max(u,S),"forward")}}else b.keyCode===8&&e.reverseFillMask!==!0&&D===_?(y.left(T,D),T.setSelectionRange(T.selectionStart,_,"backward")):b.keyCode===46&&e.reverseFillMask===!0&&D===_&&(y.rightReverse(T,_),T.setSelectionRange(D,T.selectionEnd,"forward"))}function $(b){if(b==null||b==="")return"";if(e.reverseFillMask===!0)return z(b);const T=o;let D=0,_="";for(let j=0;j<T.length;j++){const S=b[D],Y=T[j];if(typeof Y=="string")_+=Y,S===Y&&D++;else if(S!==void 0&&Y.regex.test(S))_+=Y.transform!==void 0?Y.transform(S):S,D++;else return _}return _}function z(b){const T=o,D=i.indexOf(We);let _=b.length-1,j="";for(let S=T.length-1;S>=0&&_>-1;S--){const Y=T[S];let K=b[_];if(typeof Y=="string")j=Y+j,K===Y&&_--;else if(K!==void 0&&Y.regex.test(K))do j=(Y.transform!==void 0?Y.transform(K):K)+j,_--,K=b[_];while(D===S&&K!==void 0&&Y.regex.test(K));else return j}return j}function F(b){return typeof b!="string"||a===void 0?typeof b=="number"?a(""+b):b:a(b)}function C(b){return s.length-b.length<=0?b:e.reverseFillMask===!0&&b.length!==0?s.slice(0,-b.length)+b:b+s.slice(b.length)}return{innerValue:h,hasMask:c,moveCursorForPaste:I,updateMaskValue:v,onMaskedKeydown:V,onMaskedClick:A}}const Zh={name:String};function iw(e={}){return(t,n,r)=>{t[n](O("input",{class:"hidden"+(r||""),...e.value}))}}function wx(e){return P(()=>e.name||e.for)}function Ex(e,t){function n(){const r=e.modelValue;try{const i="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(r)===r&&("length"in r?Array.from(r):[r]).forEach(s=>{i.items.add(s)}),{files:i.files}}catch{return{files:void 0}}}return P(t===!0?()=>{if(e.type==="file")return n()}:n)}const bx=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Tx=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Ix=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Ax=/[a-z0-9_ -]$/i;function Cx(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(He.is.firefox===!0?Ax.test(n.data)===!1:bx.test(n.data)===!0||Tx.test(n.data)===!0||Ix.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}var Sx=bt({name:"QInput",inheritAttrs:!1,props:{...dx,..._x,...Zh,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...mx,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:r}=Ze(),{$q:i}=r,s={};let o=NaN,a,l,u=null,c;const h=be(null),f=wx(e),{innerValue:d,hasMask:g,moveCursorForPaste:w,updateMaskValue:v,onMaskedKeydown:I,onMaskedClick:y}=vx(e,t,K,h),A=Ex(e,!0),V=P(()=>fc(d.value)),$=Cx(S),z=gx(),F=P(()=>e.type==="textarea"||e.autogrow===!0),C=P(()=>F.value===!0||["text","search","url","tel","password"].includes(e.type)),b=P(()=>{const M={...z.splitAttrs.listeners.value,onInput:S,onPaste:j,onChange:X,onBlur:xe,onFocus:Bo};return M.onCompositionstart=M.onCompositionupdate=M.onCompositionend=$,g.value===!0&&(M.onKeydown=I,M.onClick=y),e.autogrow===!0&&(M.onAnimationend=Y),M}),T=P(()=>{const M={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:f.value,...z.splitAttrs.attributes.value,id:z.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return F.value===!1&&(M.type=e.type),e.autogrow===!0&&(M.rows=1),M});Fe(()=>e.type,()=>{h.value&&(h.value.value=e.modelValue)}),Fe(()=>e.modelValue,M=>{if(g.value===!0){if(l===!0&&(l=!1,String(M)===o))return;v(M)}else d.value!==M&&(d.value=M,e.type==="number"&&s.hasOwnProperty("value")===!0&&(a===!0?a=!1:delete s.value));e.autogrow===!0&&At(x)}),Fe(()=>e.autogrow,M=>{M===!0?At(x):h.value!==null&&n.rows>0&&(h.value.style.height="auto")}),Fe(()=>e.dense,()=>{e.autogrow===!0&&At(x)});function D(){Lc(()=>{const M=document.activeElement;h.value!==null&&h.value!==M&&(M===null||M.id!==z.targetUid.value)&&h.value.focus({preventScroll:!0})})}function _(){h.value!==null&&h.value.select()}function j(M){if(g.value===!0&&e.reverseFillMask!==!0){const ye=M.target;w(ye,ye.selectionStart,ye.selectionEnd)}t("paste",M)}function S(M){if(!M||!M.target)return;if(e.type==="file"){t("update:modelValue",M.target.files);return}const ye=M.target.value;if(M.target.qComposing===!0){s.value=ye;return}if(g.value===!0)v(ye,!1,M.inputType);else if(K(ye),C.value===!0&&M.target===document.activeElement){const{selectionStart:Ve,selectionEnd:ne}=M.target;Ve!==void 0&&ne!==void 0&&At(()=>{M.target===document.activeElement&&ye.indexOf(M.target.value)===0&&M.target.setSelectionRange(Ve,ne)})}e.autogrow===!0&&x()}function Y(M){t("animationend",M),x()}function K(M,ye){c=()=>{u=null,e.type!=="number"&&s.hasOwnProperty("value")===!0&&delete s.value,e.modelValue!==M&&o!==M&&(o=M,ye===!0&&(l=!0),t("update:modelValue",M),At(()=>{o===M&&(o=NaN)})),c=void 0},e.type==="number"&&(a=!0,s.value=M),e.debounce!==void 0?(u!==null&&clearTimeout(u),s.value=M,u=setTimeout(c,e.debounce)):c()}function x(){requestAnimationFrame(()=>{const M=h.value;if(M!==null){const ye=M.parentNode.style,{scrollTop:Ve}=M,{overflowY:ne,maxHeight:oe}=i.platform.is.firefox===!0?{}:window.getComputedStyle(M),R=ne!==void 0&&ne!=="scroll";R===!0&&(M.style.overflowY="hidden"),ye.marginBottom=M.scrollHeight-1+"px",M.style.height="1px",M.style.height=M.scrollHeight+"px",R===!0&&(M.style.overflowY=parseInt(oe,10)<M.scrollHeight?"auto":"hidden"),ye.marginBottom="",M.scrollTop=Ve}})}function X(M){$(M),u!==null&&(clearTimeout(u),u=null),c!==void 0&&c(),t("change",M.target.value)}function xe(M){M!==void 0&&Bo(M),u!==null&&(clearTimeout(u),u=null),c!==void 0&&c(),a=!1,l=!1,delete s.value,e.type!=="file"&&setTimeout(()=>{h.value!==null&&(h.value.value=d.value!==void 0?d.value:"")})}function ie(){return s.hasOwnProperty("value")===!0?s.value:d.value!==void 0?d.value:""}rn(()=>{xe()}),Ci(()=>{e.autogrow===!0&&x()}),Object.assign(z,{innerValue:d,fieldClass:P(()=>`q-${F.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:P(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:h,emitValue:K,hasValue:V,floatingLabel:P(()=>V.value===!0&&(e.type!=="number"||isNaN(d.value)===!1)||fc(e.displayValue)),getControl:()=>O(F.value===!0?"textarea":"input",{ref:h,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...T.value,...b.value,...e.type!=="file"?{value:ie()}:A.value}),getShadowControl:()=>O("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(F.value===!0?"":" text-no-wrap")},[O("span",{class:"invisible"},ie()),O("span",e.shadowText)])});const he=px(z);return Object.assign(r,{focus:D,select:_,getNativeElement:()=>h.value}),Si(r,"nativeEl",()=>h.value),he}});function sw(e,t){const n=be(null),r=P(()=>e.disable===!0?null:O("span",{ref:n,class:"no-outline",tabindex:-1}));function i(s){const o=t.value;s!==void 0&&s.type.indexOf("key")===0?o!==null&&document.activeElement!==o&&o.contains(document.activeElement)===!0&&o.focus():n.value!==null&&(s===void 0||o!==null&&o.contains(s.target)===!0)&&n.value.focus()}return{refocusTargetEl:r,refocusTarget:i}}var ow={xs:30,sm:35,md:40,lg:50,xl:60};const Rx=O("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[O("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),O("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var Px=bt({name:"QRadio",props:{...Xn,...Ra,...Zh,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(e,{slots:t,emit:n}){const{proxy:r}=Ze(),i=Jn(e,r.$q),s=Pa(e,ow),o=be(null),{refocusTargetEl:a,refocusTarget:l}=sw(e,o),u=P(()=>pe(e.modelValue)===pe(e.val)),c=P(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(i.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),h=P(()=>{const A=e.color!==void 0&&(e.keepColor===!0||u.value===!0)?` text-${e.color}`:"";return`q-radio__inner relative-position q-radio__inner--${u.value===!0?"truthy":"falsy"}${A}`}),f=P(()=>(u.value===!0?e.checkedIcon:e.uncheckedIcon)||null),d=P(()=>e.disable===!0?-1:e.tabindex||0),g=P(()=>{const A={type:"radio"};return e.name!==void 0&&Object.assign(A,{".checked":u.value===!0,"^checked":u.value===!0?"checked":void 0,name:e.name,value:e.val}),A}),w=iw(g);function v(A){A!==void 0&&($t(A),l(A)),e.disable!==!0&&u.value!==!0&&n("update:modelValue",e.val,A)}function I(A){(A.keyCode===13||A.keyCode===32)&&$t(A)}function y(A){(A.keyCode===13||A.keyCode===32)&&v(A)}return Object.assign(r,{set:v}),()=>{const A=f.value!==null?[O("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[O(Rr,{class:"q-radio__icon",name:f.value})])]:[Rx];e.disable!==!0&&w(A,"unshift"," q-radio__native q-ma-none q-pa-none");const V=[O("div",{class:h.value,style:s.value,"aria-hidden":"true"},A)];a.value!==null&&V.push(a.value);const $=e.label!==void 0?gr(t.default,[e.label]):Qt(t.default);return $!==void 0&&V.push(O("div",{class:"q-radio__label q-anchor--skip"},$)),O("div",{ref:o,class:c.value,tabindex:d.value,role:"radio","aria-label":e.label,"aria-checked":u.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:v,onKeydown:I,onKeyup:y},V)}}});const aw={...Xn,...Ra,...Zh,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},lw=["update:modelValue"];function uw(e,t){const{props:n,slots:r,emit:i,proxy:s}=Ze(),{$q:o}=s,a=Jn(n,o),l=be(null),{refocusTargetEl:u,refocusTarget:c}=sw(n,l),h=Pa(n,ow),f=P(()=>n.val!==void 0&&Array.isArray(n.modelValue)),d=P(()=>{const _=pe(n.val);return f.value===!0?n.modelValue.findIndex(j=>pe(j)===_):-1}),g=P(()=>f.value===!0?d.value>-1:pe(n.modelValue)===pe(n.trueValue)),w=P(()=>f.value===!0?d.value===-1:pe(n.modelValue)===pe(n.falseValue)),v=P(()=>g.value===!1&&w.value===!1),I=P(()=>n.disable===!0?-1:n.tabindex||0),y=P(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(n.disable===!0?" disabled":"")+(a.value===!0?` q-${e}--dark`:"")+(n.dense===!0?` q-${e}--dense`:"")+(n.leftLabel===!0?" reverse":"")),A=P(()=>{const _=g.value===!0?"truthy":w.value===!0?"falsy":"indet",j=n.color!==void 0&&(n.keepColor===!0||(e==="toggle"?g.value===!0:w.value!==!0))?` text-${n.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${_}${j}`}),V=P(()=>{const _={type:"checkbox"};return n.name!==void 0&&Object.assign(_,{".checked":g.value,"^checked":g.value===!0?"checked":void 0,name:n.name,value:f.value===!0?n.val:n.trueValue}),_}),$=iw(V),z=P(()=>{const _={tabindex:I.value,role:e==="toggle"?"switch":"checkbox","aria-label":n.label,"aria-checked":v.value===!0?"mixed":g.value===!0?"true":"false"};return n.disable===!0&&(_["aria-disabled"]="true"),_});function F(_){_!==void 0&&($t(_),c(_)),n.disable!==!0&&i("update:modelValue",C(),_)}function C(){if(f.value===!0){if(g.value===!0){const _=n.modelValue.slice();return _.splice(d.value,1),_}return n.modelValue.concat([n.val])}if(g.value===!0){if(n.toggleOrder!=="ft"||n.toggleIndeterminate===!1)return n.falseValue}else if(w.value===!0){if(n.toggleOrder==="ft"||n.toggleIndeterminate===!1)return n.trueValue}else return n.toggleOrder!=="ft"?n.trueValue:n.falseValue;return n.indeterminateValue}function b(_){(_.keyCode===13||_.keyCode===32)&&$t(_)}function T(_){(_.keyCode===13||_.keyCode===32)&&F(_)}const D=t(g,v);return Object.assign(s,{toggle:F}),()=>{const _=D();n.disable!==!0&&$(_,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const j=[O("div",{class:A.value,style:h.value,"aria-hidden":"true"},_)];u.value!==null&&j.push(u.value);const S=n.label!==void 0?gr(r.default,[n.label]):Qt(r.default);return S!==void 0&&j.push(O("div",{class:`q-${e}__label q-anchor--skip`},S)),O("div",{ref:l,class:y.value,...z.value,onClick:F,onKeydown:b,onKeyup:T},j)}}const kx=O("div",{key:"svg",class:"q-checkbox__bg absolute"},[O("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[O("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),O("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var xx=bt({name:"QCheckbox",props:aw,emits:lw,setup(e){function t(n,r){const i=P(()=>(n.value===!0?e.checkedIcon:r.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>i.value!==null?[O("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[O(Rr,{class:"q-checkbox__icon",name:i.value})])]:[kx]}return uw("checkbox",t)}}),Vx=bt({name:"QToggle",props:{...aw,icon:String,iconColor:String},emits:lw,setup(e){function t(n,r){const i=P(()=>(n.value===!0?e.checkedIcon:r.value===!0?e.indeterminateIcon:e.uncheckedIcon)||e.icon),s=P(()=>n.value===!0?e.iconColor:null);return()=>[O("div",{class:"q-toggle__track"}),O("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},i.value!==void 0?[O(Rr,{name:i.value,color:s.value})]:void 0)]}return uw("toggle",t)}});const cw={radio:Px,checkbox:xx,toggle:Vx},Dx=Object.keys(cw);var Mx=bt({name:"QOptionGroup",props:{...Xn,modelValue:{required:!0},options:{type:Array,validator:e=>e.every(t=>"value"in t&&"label"in t)},name:String,type:{default:"radio",validator:e=>Dx.includes(e)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean},emits:["update:modelValue"],setup(e,{emit:t,slots:n}){const{proxy:{$q:r}}=Ze(),i=Array.isArray(e.modelValue);e.type==="radio"?i===!0&&console.error("q-option-group: model should not be array"):i===!1&&console.error("q-option-group: model should be array in your case");const s=Jn(e,r),o=P(()=>cw[e.type]),a=P(()=>"q-option-group q-gutter-x-sm"+(e.inline===!0?" q-option-group--inline":"")),l=P(()=>{const c={role:"group"};return e.type==="radio"&&(c.role="radiogroup",e.disable===!0&&(c["aria-disabled"]="true")),c});function u(c){t("update:modelValue",c)}return()=>O("div",{class:a.value,...l.value},e.options.map((c,h)=>{const f=n["label-"+h]!==void 0?()=>n["label-"+h](c):n.label!==void 0?()=>n.label(c):void 0;return O("div",[O(o.value,{modelValue:e.modelValue,val:c.value,name:c.name===void 0?e.name:c.name,disable:e.disable||c.disable,label:f===void 0?c.label:null,leftLabel:c.leftLabel===void 0?e.leftLabel:c.leftLabel,color:c.color===void 0?e.color:c.color,checkedIcon:c.checkedIcon,uncheckedIcon:c.uncheckedIcon,dark:c.dark||s.value,size:c.size===void 0?e.size:c.size,dense:e.dense,keepColor:c.keepColor===void 0?e.keepColor:c.keepColor,"onUpdate:modelValue":u},f)])}))}}),Ox=bt({name:"DialogPlugin",props:{...Xn,title:String,message:String,prompt:Object,options:Object,progress:[Boolean,Object],html:Boolean,ok:{type:[String,Object,Boolean],default:!0},cancel:[String,Object,Boolean],focus:{type:String,default:"ok",validator:e=>["ok","cancel","none"].includes(e)},stackButtons:Boolean,color:String,cardClass:[String,Array,Object],cardStyle:[String,Array,Object]},emits:["ok","hide"],setup(e,{emit:t}){const{proxy:n}=Ze(),{$q:r}=n,i=Jn(e,r),s=be(null),o=be(e.prompt!==void 0?e.prompt.model:e.options!==void 0?e.options.model:void 0),a=P(()=>"q-dialog-plugin"+(i.value===!0?" q-dialog-plugin--dark q-dark":"")+(e.progress!==!1?" q-dialog-plugin--progress":"")),l=P(()=>e.color||(i.value===!0?"amber":"primary")),u=P(()=>e.progress===!1?null:fr(e.progress)===!0?{component:e.progress.spinner||ps,props:{color:e.progress.color||l.value}}:{component:ps,props:{color:l.value}}),c=P(()=>e.prompt!==void 0||e.options!==void 0),h=P(()=>{if(c.value!==!0)return{};const{model:S,isValid:Y,items:K,...x}=e.prompt!==void 0?e.prompt:e.options;return x}),f=P(()=>fr(e.ok)===!0||e.ok===!0?r.lang.label.ok:e.ok),d=P(()=>fr(e.cancel)===!0||e.cancel===!0?r.lang.label.cancel:e.cancel),g=P(()=>e.prompt!==void 0?e.prompt.isValid!==void 0&&e.prompt.isValid(o.value)!==!0:e.options!==void 0?e.options.isValid!==void 0&&e.options.isValid(o.value)!==!0:!1),w=P(()=>({color:l.value,label:f.value,ripple:!1,disable:g.value,...fr(e.ok)===!0?e.ok:{flat:!0},"data-autofocus":e.focus==="ok"&&c.value!==!0||void 0,onClick:A})),v=P(()=>({color:l.value,label:d.value,ripple:!1,...fr(e.cancel)===!0?e.cancel:{flat:!0},"data-autofocus":e.focus==="cancel"&&c.value!==!0||void 0,onClick:V}));Fe(()=>e.prompt&&e.prompt.model,z),Fe(()=>e.options&&e.options.model,z);function I(){s.value.show()}function y(){s.value.hide()}function A(){t("ok",pe(o.value)),y()}function V(){y()}function $(){t("hide")}function z(S){o.value=S}function F(S){g.value!==!0&&e.prompt.type!=="textarea"&&gs(S,13)===!0&&A()}function C(S,Y){return e.html===!0?O(dr,{class:S,innerHTML:Y}):O(dr,{class:S},()=>Y)}function b(){return[O(Sx,{color:l.value,dense:!0,autofocus:!0,dark:i.value,...h.value,modelValue:o.value,"onUpdate:modelValue":z,onKeyup:F})]}function T(){return[O(Mx,{color:l.value,options:e.options.items,dark:i.value,...h.value,modelValue:o.value,"onUpdate:modelValue":z})]}function D(){const S=[];return e.cancel&&S.push(O(jo,v.value)),e.ok&&S.push(O(jo,w.value)),O(Op,{class:e.stackButtons===!0?"items-end":"",vertical:e.stackButtons,align:"right"},()=>S)}function _(){const S=[];return e.title&&S.push(C("q-dialog__title",e.title)),e.progress!==!1&&S.push(O(dr,{class:"q-dialog__progress"},()=>O(u.value.component,u.value.props))),e.message&&S.push(C("q-dialog__message",e.message)),e.prompt!==void 0?S.push(O(dr,{class:"scroll q-dialog-plugin__form"},b)):e.options!==void 0&&S.push(O(rg,{dark:i.value}),O(dr,{class:"scroll q-dialog-plugin__form"},T),O(rg,{dark:i.value})),(e.ok||e.cancel)&&S.push(D()),S}function j(){return[O(Lp,{class:[a.value,e.cardClass],style:e.cardStyle,dark:i.value},_)]}return Object.assign(n,{show:I,hide:y}),()=>O(Up,{ref:s,onHide:$},j)}});function hw(e,t){for(const n in t)n!=="spinner"&&Object(t[n])===t[n]?(e[n]=Object(e[n])!==e[n]?{}:{...e[n]},hw(e[n],t[n])):e[n]=t[n]}function Lx(e,t,n){return r=>{let i,s;const o=t===!0&&r.component!==void 0;if(o===!0){const{component:y,componentProps:A}=r;i=typeof y=="string"?n.component(y):y,s=A||{}}else{const{class:y,style:A,...V}=r;i=e,s=V,y!==void 0&&(V.cardClass=y),A!==void 0&&(V.cardStyle=A)}let a,l=!1;const u=be(null),c=Fp(!1,"dialog"),h=y=>{if(u.value!==null&&u.value[y]!==void 0){u.value[y]();return}const A=a.$.subTree;if(A&&A.component){if(A.component.proxy&&A.component.proxy[y]){A.component.proxy[y]();return}if(A.component.subTree&&A.component.subTree.component&&A.component.subTree.component.proxy&&A.component.subTree.component.proxy[y]){A.component.subTree.component.proxy[y]();return}}console.error("[Quasar] Incorrectly defined Dialog component")},f=[],d=[],g={onOk(y){return f.push(y),g},onCancel(y){return d.push(y),g},onDismiss(y){return f.push(y),d.push(y),g},hide(){return h("hide"),g},update(y){if(a!==null){if(o===!0)Object.assign(s,y);else{const{class:A,style:V,...$}=y;A!==void 0&&($.cardClass=A),V!==void 0&&($.cardStyle=V),hw(s,$)}a.$forceUpdate()}return g}},w=y=>{l=!0,f.forEach(A=>{A(y)})},v=()=>{I.unmount(c),$p(c),I=null,a=null,l!==!0&&d.forEach(y=>{y()})};let I=Tb({name:"QGlobalDialog",setup:()=>()=>O(i,{...s,ref:u,onOk:w,onHide:v,onVnodeMounted(...y){typeof s.onVnodeMounted=="function"&&s.onVnodeMounted(...y),At(()=>h("show"))}})},n);return a=I.mount(c),g}}var Nx={install({$q:e,parentApp:t}){e.dialog=Lx(Ox,!0,t),this.__installed!==!0&&(this.create=e.dialog)}},Fx={config:{},directives:{Ripple:Pp},plugins:{Dialog:Nx}};const $x="";async function Bx({app:e,router:t,store:n},r){let i=!1;const s=l=>{try{return t.resolve(l).href}catch{}return Object(l)===l?null:l},o=l=>{if(i=!0,typeof l=="string"&&/^https?:\/\//.test(l)){window.location.href=l;return}const u=s(l);u!==null&&(window.location.href=u,window.location.reload())},a=window.location.href.replace(window.location.origin,"");for(let l=0;i===!1&&l<r.length;l++)try{await r[l]({app:e,router:t,store:n,ssrContext:null,redirect:o,urlPath:a,publicPath:$x})}catch(u){if(u&&u.url){o(u.url);return}console.error("[Quasar] boot error:",u);return}i!==!0&&(e.use(t),e.mount("#q-app"))}ix(mp,Fx).then(e=>{const[t,n]=Promise.allSettled!==void 0?["allSettled",r=>r.map(i=>{if(i.status==="rejected"){console.error("[Quasar] boot error:",i.reason);return}return i.value.default})]:["all",r=>r.map(i=>i.default)];return Promise[t]([Ht(()=>import("./i18n.033f3bc0.js"),[]),Ht(()=>import("./axios.c2fe81a5.js"),[]),Ht(()=>import("./firebase.9940aec2.js"),[])]).then(r=>{const i=n(r).filter(s=>typeof s=="function");Bx(e,i)})});export{qx as $,ms as A,rV as B,It as C,dT as D,mT as E,Kt as F,Hn as G,At as H,iV as I,Or as J,gr as K,Yh as L,Wp as M,Q1 as N,cp as O,zg as P,nE as Q,Rr as R,jo as S,Ta as T,Pp as U,Sr as V,pp as W,ps as X,Xn as Y,Jn as Z,Hv as _,Rc as a,Kx as a0,Lp as a1,Gx as a2,_c as a3,Ux as a4,jx as a5,Hb as a6,Kb as a7,gs as a8,$t as a9,Ht as aA,dr as aB,Sb as aC,Rb as aD,xx as aE,Wx as aF,eV as aa,$o as ab,Pb as ac,He as ad,Qx as ae,ab as af,Yx as ag,Mn as ah,Bo as ai,sb as aj,lb as ak,rT as al,iT as am,tT as an,sT as ao,eT as ap,nV as aq,vT as ar,rg as as,Eu as at,Ra as au,Pa as av,tV as aw,zx as ax,Hx as ay,Up as az,ze as b,P as c,Ai as d,_g as e,De as f,Ze as g,O as h,Xt as i,lV as j,pf as k,Dc as l,lp as m,Qr as n,Ci as o,vc as p,bt as q,be as r,Zx as s,Xx as t,Qh as u,Co as v,Fe as w,Qt as x,Jx as y,rn as z};
