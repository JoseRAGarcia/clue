import{_ as n,d as l,L as c,M as m,u as d,N as g,l as i,m as u,n as h,O as t,P as p,Q as f,f as s,R as S,S as r,U as _}from"./index.34ef79da.js";import{Q as y,a as w}from"./QPage.d5dd3d12.js";const v=l({name:"HomePage",setup(){const e=c(),o=m(),a=d();return{sessionStore:e,layoutStore:o,firebaseStore:a}},methods:{async createNewGame(){this.sessionStore.game.id=g(),this.sessionStore.game.room=Math.random().toString(36).slice(-3).toUpperCase(),this.sessionStore.game.status="waiting",this.sessionStore.game.ownerId=this.sessionStore.user.id,this.layoutStore.loadingLayout=!0,await this.firebaseStore.createGame(this.sessionStore.game).then(()=>{this.firebaseStore.realTimeGame(this.sessionStore.game.id),this.$router.push("/waiting-room")}).catch(e=>console.error(e)),this.layoutStore.loadingLayout=!1},async enterRoom(e){await this.firebaseStore.getGameByRoom(e).then(o=>{o.length?(this.sessionStore.game=Object.assign({},o[0]),this.firebaseStore.realTimeGame(this.sessionStore.game.id),this.$router.push("/waiting-room")):console.log("Sala n\xE3o localizada!")}).catch(o=>console.error(o))},openEnterRoomDialog(){this.$q.dialog({title:"Entrar em um Sala",message:"Digite o c\xF3digo da Sala",cancel:{flat:!0,label:"Cancelar"},prompt:{model:"",type:"text"}}).onOk(e=>{this.enterRoom(e.toUpperCase())})},openConfigDialog(){this.$q.dialog({title:"Configura\xE7\xF5es",message:"Quantidade de Jogadores",options:{type:"radio",model:this.sessionStore.game.qtdPlayers,inline:!0,items:[{label:"2",value:2},{label:"3",value:3},{label:"6",value:6}]},ok:!0}).onOk(e=>{this.sessionStore.game.qtdPlayers=e})}}}),b={class:"config-icon absolute-right q-pa-md"},x={class:"relative-position"},C={class:"logo-container"},k={class:"full-width column flex-center"};function $(e,o,a,q,E,Q){return i(),u(y,{class:"container shadow-21 row items-center justify-evenly q-pa-md",style:{display:"flex","align-items":"center","flex-wrap":"wrap"}},{default:h(()=>[t("div",b,[p((i(),f("div",x,[s(S,{class:"spin cursor-pointer clue-text-shadow",color:"info",style:{opacity:"0.5"},name:"settings",size:"32px",onClick:e.openConfigDialog},null,8,["onClick"])])),[[_]])]),t("div",C,[s(w,{class:"shadow-21 logo",src:"img/clue_logo.png"})]),t("div",k,[s(r,{style:{width:"100%"},color:"primary",label:"Novo Jogo",onClick:e.createNewGame},null,8,["onClick"]),s(r,{flat:"",style:{width:"100%"},class:"q-mt-sm shadow-21",color:"primary",label:"Entrar em uma sala",onClick:e.openEnterRoomDialog},null,8,["onClick"])])]),_:1})}var D=n(v,[["render",$],["__scopeId","data-v-0d8992e9"]]);export{D as default};
